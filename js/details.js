var COMPILED=!0,goog=goog||{};goog.global=this;goog.isDef=function(k){return void 0!==k};goog.exportPath_=function(k,q,n){k=k.split(".");n=n||goog.global;k[0]in n||!n.execScript||n.execScript("var "+k[0]);for(var v;k.length&&(v=k.shift());)!k.length&&goog.isDef(q)?n[v]=q:n=n[v]?n[v]:n[v]={}};
goog.define=function(k,q){var n=q;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,k)?n=goog.global.CLOSURE_UNCOMPILED_DEFINES[k]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,k)&&(n=goog.global.CLOSURE_DEFINES[k]));goog.exportPath_(k,n)};goog.DEBUG=!0;goog.LOCALE="en";goog.TRUSTED_SITE=!0;goog.STRICT_MODE_COMPATIBLE=!1;goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG;
goog.provide=function(k){if(!COMPILED&&goog.isProvided_(k))throw Error('Namespace "'+k+'" already declared.');goog.constructNamespace_(k)};goog.constructNamespace_=function(k,q){if(!COMPILED){delete goog.implicitNamespaces_[k];for(var n=k;(n=n.substring(0,n.lastIndexOf(".")))&&!goog.getObjectByName(n);)goog.implicitNamespaces_[n]=!0}goog.exportPath_(k,q)};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
goog.module=function(k){if(!goog.isString(k)||!k||-1==k.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+k+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=k;if(!COMPILED){if(goog.isProvided_(k))throw Error('Namespace "'+k+'" already declared.');delete goog.implicitNamespaces_[k]}};goog.module.get=function(k){return goog.module.getInternal_(k)};
goog.module.getInternal_=function(k){if(!COMPILED)return goog.isProvided_(k)?k in goog.loadedModules_?goog.loadedModules_[k]:goog.getObjectByName(k):null};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_};goog.module.declareTestMethods=function(){if(!goog.isInModuleLoader_())throw Error("goog.module.declareTestMethods must be called from within a goog.module");goog.moduleLoaderState_.declareTestMethods=!0};
goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0};
goog.setTestOnly=function(k){if(goog.DISALLOW_TEST_ONLY_CODE)throw k=k||"",Error("Importing test-only code into non-debug environment"+(k?": "+k:"."));};goog.forwardDeclare=function(k){};COMPILED||(goog.isProvided_=function(k){return k in goog.loadedModules_||!goog.implicitNamespaces_[k]&&goog.isDefAndNotNull(goog.getObjectByName(k))},goog.implicitNamespaces_={"goog.module":!0});
goog.getObjectByName=function(k,q){for(var n=k.split("."),v=q||goog.global,t;t=n.shift();)if(goog.isDefAndNotNull(v[t]))v=v[t];else return null;return v};goog.globalize=function(k,q){var n=q||goog.global,v;for(v in k)n[v]=k[v]};goog.addDependency=function(k,q,n,v){if(goog.DEPENDENCIES_ENABLED){var t;k=k.replace(/\\/g,"/");for(var y=goog.dependencies_,F=0;t=q[F];F++)y.nameToPath[t]=k,y.pathIsModule[k]=!!v;for(v=0;q=n[v];v++)k in y.requires||(y.requires[k]={}),y.requires[k][q]=!0}};
goog.ENABLE_DEBUG_LOADER=!0;goog.logToConsole_=function(k){goog.global.console&&goog.global.console.error(k)};
goog.require=function(k){if(!COMPILED){goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(k);if(goog.isProvided_(k))return goog.isInModuleLoader_()?goog.module.getInternal_(k):null;if(goog.ENABLE_DEBUG_LOADER){var q=goog.getPathFromDeps_(k);if(q)return goog.included_[q]=!0,goog.writeScripts_(),null}k="goog.require could not find: "+k;goog.logToConsole_(k);throw Error(k);}};goog.basePath="";goog.nullFunction=function(){};goog.identityFunction=function(k,q){return k};
goog.abstractMethod=function(){throw Error("unimplemented abstract method");};goog.addSingletonGetter=function(k){k.getInstance=function(){if(k.instance_)return k.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=k);return k.instance_=new k}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;
goog.DEPENDENCIES_ENABLED&&(goog.included_={},goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var k=goog.global.document;return"undefined"!=typeof k&&"write"in k},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var k=goog.global.document.getElementsByTagName("script"),q=k.length-1;0<=q;--q){var n=k[q].src,v=n.lastIndexOf("?"),
v=-1==v?n.length:v;if("base.js"==n.substr(v-7,7)){goog.basePath=n.substr(0,v-7);break}}},goog.importScript_=function(k,q){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(k,q)&&(goog.dependencies_.written[k]=!0)},goog.IS_OLD_IE_=goog.global.document&&goog.global.document.all&&!goog.global.atob,goog.importModule_=function(k){goog.importScript_("",'goog.retrieveAndExecModule_("'+k+'");')&&(goog.dependencies_.written[k]=!0)},goog.queuedModules_=[],goog.wrapModule_=function(k,q){return goog.LOAD_MODULE_USING_EVAL&&
goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(q+"\n//# sourceURL="+k+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+q+"\n;return exports});\n//# sourceURL="+k+"\n"},goog.loadQueuedModules_=function(){var k=goog.queuedModules_.length;if(0<k){var q=goog.queuedModules_;goog.queuedModules_=[];for(var n=0;n<k;n++)goog.maybeProcessDeferredPath_(q[n])}},goog.maybeProcessDeferredDep_=function(k){goog.isDeferredModule_(k)&&goog.allDepsAreAvailable_(k)&&(k=goog.getPathFromDeps_(k),
goog.maybeProcessDeferredPath_(goog.basePath+k))},goog.isDeferredModule_=function(k){return(k=goog.getPathFromDeps_(k))&&goog.dependencies_.pathIsModule[k]?goog.basePath+k in goog.dependencies_.deferred:!1},goog.allDepsAreAvailable_=function(k){if((k=goog.getPathFromDeps_(k))&&k in goog.dependencies_.requires)for(var q in goog.dependencies_.requires[k])if(!goog.isProvided_(q)&&!goog.isDeferredModule_(q))return!1;return!0},goog.maybeProcessDeferredPath_=function(k){if(k in goog.dependencies_.deferred){var q=
goog.dependencies_.deferred[k];delete goog.dependencies_.deferred[k];goog.globalEval(q)}},goog.loadModule=function(k){var q=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:void 0,declareTestMethods:!1};var n;if(goog.isFunction(k))n=k.call(goog.global,{});else if(goog.isString(k))n=goog.loadModuleFromSource_.call(goog.global,k);else throw Error("Invalid module definition");var v=goog.moduleLoaderState_.moduleName;if(!goog.isString(v)||!v)throw Error('Invalid module name "'+v+'"');goog.moduleLoaderState_.declareLegacyNamespace?
goog.constructNamespace_(v,n):goog.SEAL_MODULE_EXPORTS&&Object.seal&&Object.seal(n);goog.loadedModules_[v]=n;if(goog.moduleLoaderState_.declareTestMethods)for(var t in n)if(0===t.indexOf("test",0)||"tearDown"==t||"setUp"==t||"setUpPage"==t||"tearDownPage"==t)goog.global[t]=n[t]}finally{goog.moduleLoaderState_=q}},goog.loadModuleFromSource_=function(k){eval(k);return{}},goog.writeScriptTag_=function(k,q){if(goog.inHtmlDocument_()){var n=goog.global.document;if("complete"==n.readyState){if(/\bdeps.js$/.test(k))return!1;
throw Error('Cannot write "'+k+'" after document load');}var v=goog.IS_OLD_IE_;void 0===q?v?(v=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ",n.write('<script type="text/javascript" src="'+k+'"'+v+">\x3c/script>")):n.write('<script type="text/javascript" src="'+k+'">\x3c/script>'):n.write('<script type="text/javascript">'+q+"\x3c/script>");return!0}return!1},goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(k,q){"complete"==k.readyState&&goog.lastNonModuleScriptIndex_==
q&&goog.loadQueuedModules_();return!0},goog.writeScripts_=function(){function k(t){if(!(t in v.written)){if(!(t in v.visited)&&(v.visited[t]=!0,t in v.requires))for(var y in v.requires[t])if(!goog.isProvided_(y))if(y in v.nameToPath)k(v.nameToPath[y]);else throw Error("Undefined nameToPath for "+y);t in n||(n[t]=!0,q.push(t))}}var q=[],n={},v=goog.dependencies_,t;for(t in goog.included_)v.written[t]||k(t);for(var y=0;y<q.length;y++)t=q[y],goog.dependencies_.written[t]=!0;var F=goog.moduleLoaderState_;
goog.moduleLoaderState_=null;for(y=0;y<q.length;y++)if(t=q[y])v.pathIsModule[t]?goog.importModule_(goog.basePath+t):goog.importScript_(goog.basePath+t);else throw goog.moduleLoaderState_=F,Error("Undefined script input");goog.moduleLoaderState_=F},goog.getPathFromDeps_=function(k){return k in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[k]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js"));
goog.normalizePath_=function(k){k=k.split("/");for(var q=0;q<k.length;)"."==k[q]?k.splice(q,1):q&&".."==k[q]&&k[q-1]&&".."!=k[q-1]?k.splice(--q,2):q++;return k.join("/")};
goog.retrieveAndExecModule_=function(k){if(!COMPILED){var q=k;k=goog.normalizePath_(k);var n=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,v=null,t=new goog.global.XMLHttpRequest;t.onload=function(){v=this.responseText};t.open("get",k,!1);t.send();v=t.responseText;if(null!=v)t=goog.wrapModule_(k,v),goog.IS_OLD_IE_?(goog.dependencies_.deferred[q]=t,goog.queuedModules_.push(q)):n(k,t);else throw Error("load of "+k+"failed");}};
goog.typeOf=function(k){var q=typeof k;if("object"==q)if(k){if(k instanceof Array)return"array";if(k instanceof Object)return q;var n=Object.prototype.toString.call(k);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof k.length&&"undefined"!=typeof k.splice&&"undefined"!=typeof k.propertyIsEnumerable&&!k.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof k.call&&"undefined"!=typeof k.propertyIsEnumerable&&!k.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==q&&"undefined"==typeof k.call)return"object";return q};goog.isNull=function(k){return null===k};goog.isDefAndNotNull=function(k){return null!=k};goog.isArray=function(k){return"array"==goog.typeOf(k)};goog.isArrayLike=function(k){var q=goog.typeOf(k);return"array"==q||"object"==q&&"number"==typeof k.length};goog.isDateLike=function(k){return goog.isObject(k)&&"function"==typeof k.getFullYear};goog.isString=function(k){return"string"==typeof k};
goog.isBoolean=function(k){return"boolean"==typeof k};goog.isNumber=function(k){return"number"==typeof k};goog.isFunction=function(k){return"function"==goog.typeOf(k)};goog.isObject=function(k){var q=typeof k;return"object"==q&&null!=k||"function"==q};goog.getUid=function(k){return k[goog.UID_PROPERTY_]||(k[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(k){return!!k[goog.UID_PROPERTY_]};goog.removeUid=function(k){"removeAttribute"in k&&k.removeAttribute(goog.UID_PROPERTY_);try{delete k[goog.UID_PROPERTY_]}catch(q){}};
goog.UID_PROPERTY_="closure_uid_"+(1E9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(k){var q=goog.typeOf(k);if("object"==q||"array"==q){if(k.clone)return k.clone();var q="array"==q?[]:{},n;for(n in k)q[n]=goog.cloneObject(k[n]);return q}return k};goog.bindNative_=function(k,q,n){return k.call.apply(k.bind,arguments)};
goog.bindJs_=function(k,q,n){if(!k)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(n,v);return k.apply(q,n)}}return function(){return k.apply(q,arguments)}};goog.bind=function(k,q,n){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(k,q){var n=Array.prototype.slice.call(arguments,1);return function(){var q=n.slice();q.push.apply(q,arguments);return k.apply(this,q)}};goog.mixin=function(k,q){for(var n in q)k[n]=q[n]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};
goog.globalEval=function(k){if(goog.global.execScript)goog.global.execScript(k,"JavaScript");else if(goog.global.eval)if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),"undefined"!=typeof goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(k);else{var q=goog.global.document,n=q.createElement("script");n.type="text/javascript";n.defer=!1;n.appendChild(q.createTextNode(k));q.body.appendChild(n);
q.body.removeChild(n)}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;goog.getCssName=function(k,q){var n=function(k){return goog.cssNameMapping_[k]||k},v=function(k){k=k.split("-");for(var q=[],v=0;v<k.length;v++)q.push(n(k[v]));return q.join("-")},v=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?n:v:function(k){return k};return q?k+"-"+v(q):v(k)};goog.setCssNameMapping=function(k,q){goog.cssNameMapping_=k;goog.cssNameMappingStyle_=q};
!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(k,q){q&&(k=k.replace(/\{\$([^}]+)}/g,function(k,v){return v in q?q[v]:k}));return k};goog.getMsgWithFallback=function(k,q){return k};goog.exportSymbol=function(k,q,n){goog.exportPath_(k,q,n)};goog.exportProperty=function(k,q,n){k[q]=n};
goog.inherits=function(k,q){function n(){}n.prototype=q.prototype;k.superClass_=q.prototype;k.prototype=new n;k.prototype.constructor=k;k.base=function(k,n,y){for(var F=Array(arguments.length-2),u=2;u<arguments.length;u++)F[u-2]=arguments[u];return q.prototype[n].apply(k,F)}};
goog.base=function(k,q,n){var v=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!v)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(v.superClass_){for(var t=Array(arguments.length-1),y=1;y<arguments.length;y++)t[y-1]=arguments[y];return v.superClass_.constructor.apply(k,t)}t=Array(arguments.length-2);for(y=2;y<arguments.length;y++)t[y-2]=arguments[y];for(var y=!1,F=k.constructor;F;F=
F.superClass_&&F.superClass_.constructor)if(F.prototype[q]===v)y=!0;else if(y)return F.prototype[q].apply(k,t);if(k[q]===v)return k.constructor.prototype[q].apply(k,t);throw Error("goog.base called from a method of one name to a method of a different name");};goog.scope=function(k){k.call(goog.global)};COMPILED||(goog.global.COMPILED=COMPILED);
goog.defineClass=function(k,q){var n=q.constructor,v=q.statics;n&&n!=Object.prototype.constructor||(n=function(){throw Error("cannot instantiate an interface (no constructor defined).");});n=goog.defineClass.createSealingConstructor_(n,k);k&&goog.inherits(n,k);delete q.constructor;delete q.statics;goog.defineClass.applyProperties_(n.prototype,q);null!=v&&(v instanceof Function?v(n):goog.defineClass.applyProperties_(n,v));return n};goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;
goog.defineClass.createSealingConstructor_=function(k,q){if(goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function){if(q&&q.prototype&&q.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_])return k;var n=function(){var q=k.apply(this,arguments)||this;q[goog.UID_PROPERTY_]=q[goog.UID_PROPERTY_];this.constructor===n&&Object.seal(q);return q};return n}return k};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
goog.defineClass.applyProperties_=function(k,q){for(var n in q)Object.prototype.hasOwnProperty.call(q,n)&&(k[n]=q[n]);for(var v=0;v<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;v++)n=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[v],Object.prototype.hasOwnProperty.call(q,n)&&(k[n]=q[n])};goog.tagUnsealableClass=function(k){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(k.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";var plugin={jquery:{}};plugin.jquery.Jquery={};
(function(k,q){"object"===typeof module&&"object"===typeof module.exports?module.exports=k.document?q(k,!0):function(k){if(!k.document)throw Error("jQuery requires a window with a document");return q(k)}:q(k)})("undefined"!==typeof window?window:this,function(k,q){function n(a){var b=a.length,d=p.type(a);return"function"===d||p.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===d||0===b||"number"===typeof b&&0<b&&b-1 in a}function v(a,b,d){if(p.isFunction(b))return p.grep(a,function(a,c){return!!b.call(a,
c,a)!==d});if(b.nodeType)return p.grep(a,function(a){return a===b!==d});if("string"===typeof b){if(pa.test(b))return p.filter(b,a,d);b=p.filter(b,a)}return p.grep(a,function(a){return 0<=p.inArray(a,b)!==d})}function t(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function y(a){var b=Oa[a]={};p.each(a.match(Y)||[],function(a,d){b[d]=!0});return b}function F(){E.addEventListener?(E.removeEventListener("DOMContentLoaded",u,!1),k.removeEventListener("load",u,!1)):(E.detachEvent("onreadystatechange",
u),k.detachEvent("onload",u))}function u(){if(E.addEventListener||"load"===event.type||"complete"===E.readyState)F(),p.ready()}function da(a,b,d){if(void 0===d&&1===a.nodeType)if(d="data-"+b.replace(ta,"-$1").toLowerCase(),d=a.getAttribute(d),"string"===typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:ga.test(d)?p.parseJSON(d):d}catch(c){}p.data(a,b,d)}else d=void 0;return d}function A(a){for(var d in a)if(("data"!==d||!p.isEmptyObject(a[d]))&&"toJSON"!==d)return!1;return!0}
function ka(a,d,b,c){if(p.acceptData(a)){var e=p.expando,h=a.nodeType,m=h?p.cache:a,l=h?a[e]:a[e]&&e;if(l&&m[l]&&(c||m[l].data)||void 0!==b||"string"!==typeof d){l||(l=h?a[e]=Q.pop()||p.guid++:e);m[l]||(m[l]=h?{}:{toJSON:p.noop});if("object"===typeof d||"function"===typeof d)c?m[l]=p.extend(m[l],d):m[l].data=p.extend(m[l].data,d);a=m[l];c||(a.data||(a.data={}),a=a.data);void 0!==b&&(a[p.camelCase(d)]=b);"string"===typeof d?(b=a[d],null==b&&(b=a[p.camelCase(d)])):b=a;return b}}}function la(a,d,b){if(p.acceptData(a)){var c,
e,h=a.nodeType,m=h?p.cache:a,l=h?a[p.expando]:p.expando;if(m[l]){if(d&&(c=b?m[l]:m[l].data)){p.isArray(d)?d=d.concat(p.map(d,p.camelCase)):d in c?d=[d]:(d=p.camelCase(d),d=d in c?[d]:d.split(" "));for(e=d.length;e--;)delete c[d[e]];if(b?!A(c):!p.isEmptyObject(c))return}if(!b&&(delete m[l].data,!A(m[l])))return;h?p.cleanData([a],!0):D.deleteExpando||m!=m.window?delete m[l]:m[l]=null}}}function g(){return!0}function S(){return!1}function ua(){try{return E.activeElement}catch(a){}}function qa(a){var d=
Da.split("|");a=a.createDocumentFragment();if(a.createElement)for(;d.length;)a.createElement(d.pop());return a}function f(a,d){var b,c,e=0,h="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(d||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(d||"*"):void 0;if(!h)for(h=[],b=a.childNodes||a;null!=(c=b[e]);e++)!d||p.nodeName(c,d)?h.push(c):p.merge(h,f(c,d));return void 0===d||d&&p.nodeName(a,d)?p.merge([a],h):h}function c(a){Ka.test(a.type)&&(a.defaultChecked=a.checked)}
function e(a,d){return p.nodeName(a,"table")&&p.nodeName(11!==d.nodeType?d:d.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function a(a){a.type=(null!==p.find.attr(a,"type"))+"/"+a.type;return a}function b(a){var d=Eb.exec(a.type);d?a.type=d[1]:a.removeAttribute("type");return a}function l(a,d){for(var b,c=0;null!=(b=a[c]);c++)p._data(b,"globalEval",!d||p._data(d[c],"globalEval"))}function d(a,d){if(1===d.nodeType&&p.hasData(a)){var b,
c,e;c=p._data(a);var h=p._data(d,c),m=c.events;if(m)for(b in delete h.handle,h.events={},m)for(c=0,e=m[b].length;c<e;c++)p.event.add(d,b,m[b][c]);h.data&&(h.data=p.extend({},h.data))}}function h(a,d){var b,c=p(d.createElement(a)).appendTo(d.body),e=k.getDefaultComputedStyle&&(b=k.getDefaultComputedStyle(c[0]))?b.display:p.css(c[0],"display");c.detach();return e}function m(a){var d=E,b=kb[a];b||(b=h(a,d),"none"!==b&&b||(La=(La||p("<iframe frameborder='0' width='0' height='0'/>")).appendTo(d.documentElement),
d=(La[0].contentWindow||La[0].contentDocument).document,d.write(),d.close(),b=h(a,d),La.detach()),kb[a]=b);return b}function w(a,d){return{get:function(){var b=a();if(null!=b)if(b)delete this.get;else return(this.get=d).apply(this,arguments)}}}function r(a,d){if(d in a)return d;for(var b=d.charAt(0).toUpperCase()+d.slice(1),c=d,e=lb.length;e--;)if(d=lb[e]+b,d in a)return d;return c}function x(a,d){for(var b,c,e,h=[],l=0,r=a.length;l<r;l++)c=a[l],c.style&&(h[l]=p._data(c,"olddisplay"),b=c.style.display,
d?(h[l]||"none"!==b||(c.style.display=""),""===c.style.display&&ba(c)&&(h[l]=p._data(c,"olddisplay",m(c.nodeName)))):(e=ba(c),(b&&"none"!==b||!e)&&p._data(c,"olddisplay",e?b:p.css(c,"display"))));for(l=0;l<r;l++)c=a[l],!c.style||d&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=d?h[l]||"":"none");return a}function z(a,d,b){return(a=Fb.exec(d))?Math.max(0,a[1]-(b||0))+(a[2]||"px"):d}function C(a,d,b,c,e){d=b===(c?"border":"content")?4:"width"===d?1:0;for(var h=0;4>d;d+=2)"margin"===
b&&(h+=p.css(a,b+ra[d],!0,e)),c?("content"===b&&(h-=p.css(a,"padding"+ra[d],!0,e)),"margin"!==b&&(h-=p.css(a,"border"+ra[d]+"Width",!0,e))):(h+=p.css(a,"padding"+ra[d],!0,e),"padding"!==b&&(h+=p.css(a,"border"+ra[d]+"Width",!0,e)));return h}function K(a,d,b){var c=!0,e="width"===d?a.offsetWidth:a.offsetHeight,h=za(a),m=D.boxSizing&&"border-box"===p.css(a,"boxSizing",!1,h);if(0>=e||null==e){e=Aa(a,d,h);if(0>e||null==e)e=a.style[d];if(Pa.test(e))return e;c=m&&(D.boxSizingReliable()||e===a.style[d]);
e=parseFloat(e)||0}return e+C(a,d,b||(m?"border":"content"),c,h)+"px"}function H(a,d,b,c,e){return new H.prototype.init(a,d,b,c,e)}function J(){setTimeout(function(){Ea=void 0});return Ea=p.now()}function P(a,d){var b,c={height:a},e=0;for(d=d?1:0;4>e;e+=2-d)b=ra[e],c["margin"+b]=c["padding"+b]=a;d&&(c.opacity=c.width=a);return c}function W(a,d,b){for(var c,e=(Ma[d]||[]).concat(Ma["*"]),h=0,m=e.length;h<m;h++)if(c=e[h].call(b,d,a))return c}function I(a,d){var b,c,e,h,m;for(b in a)if(c=p.camelCase(b),
e=d[c],h=a[b],p.isArray(h)&&(e=h[1],h=a[b]=h[0]),b!==c&&(a[c]=h,delete a[b]),(m=p.cssHooks[c])&&"expand"in m)for(b in h=m.expand(h),delete a[c],h)b in a||(a[b]=h[b],d[b]=e);else d[c]=e}function T(a,d,b){var c,e=0,h=Qa.length,m=p.Deferred().always(function(){delete l.elem}),l=function(){if(c)return!1;for(var d=Ea||J(),d=Math.max(0,r.startTime+r.duration-d),b=1-(d/r.duration||0),e=0,h=r.tweens.length;e<h;e++)r.tweens[e].run(b);m.notifyWith(a,[r,b,d]);if(1>b&&h)return d;m.resolveWith(a,[r]);return!1},
r=m.promise({elem:a,props:p.extend({},d),opts:p.extend(!0,{specialEasing:{}},b),originalProperties:d,originalOptions:b,startTime:Ea||J(),duration:b.duration,tweens:[],createTween:function(d,b){var c=p.Tween(a,r.opts,d,b,r.opts.specialEasing[d]||r.opts.easing);r.tweens.push(c);return c},stop:function(d){var b=0,e=d?r.tweens.length:0;if(c)return this;for(c=!0;b<e;b++)r.tweens[b].run(1);d?m.resolveWith(a,[r,d]):m.rejectWith(a,[r,d]);return this}});b=r.props;for(I(b,r.opts.specialEasing);e<h;e++)if(d=
Qa[e].call(r,a,b,r.opts))return d;p.map(b,W,r);p.isFunction(r.opts.start)&&r.opts.start.call(a,r);p.fx.timer(p.extend(l,{elem:a,anim:r,queue:r.opts.queue}));return r.progress(r.opts.progress).done(r.opts.done,r.opts.complete).fail(r.opts.fail).always(r.opts.always)}function Z(a){return function(d,b){"string"!==typeof d&&(b=d,d="*");var c,e=0,h=d.toLowerCase().match(Y)||[];if(p.isFunction(b))for(;c=h[e++];)"+"===c.charAt(0)?(c=c.slice(1)||"*",(a[c]=a[c]||[]).unshift(b)):(a[c]=a[c]||[]).push(b)}}function L(a,
d,b,c){function e(l){var r;h[l]=!0;p.each(a[l]||[],function(a,l){var G=l(d,b,c);if("string"===typeof G&&!m&&!h[G])return d.dataTypes.unshift(G),e(G),!1;if(m)return!(r=G)});return r}var h={},m=a===$a;return e(d.dataTypes[0])||!h["*"]&&e("*")}function na(a,d){var b,c,e=p.ajaxSettings.flatOptions||{};for(c in d)void 0!==d[c]&&((e[c]?a:b||(b={}))[c]=d[c]);b&&p.extend(!0,a,b);return a}function M(a,d,b,c){var e;if(p.isArray(d))p.each(d,function(d,e){b||Gb.test(a)?c(a,e):M(a+"["+("object"===typeof e?d:"")+
"]",e,b,c)});else if(b||"object"!==p.type(d))c(a,d);else for(e in d)M(a+"["+e+"]",d[e],b,c)}function Ra(){try{return new k.XMLHttpRequest}catch(a){}}function ca(a){return p.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var Q=[],ea=Q.slice,ha=Q.concat,ab=Q.push,mb=Q.indexOf,Sa={},Hb=Sa.toString,B=Sa.hasOwnProperty,D={},p=function(a,d){return new p.fn.init(a,d)},ia=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Fa=/^-ms-/,N=/-([\da-z])/gi,X=function(a,d){return d.toUpperCase()};p.fn=p.prototype=
{jquery:"1.11.2",constructor:p,selector:"",length:0,toArray:function(){return ea.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:ea.call(this)},pushStack:function(a){a=p.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,d){return p.each(this,a,d)},map:function(a){return this.pushStack(p.map(this,function(d,b){return a.call(d,b,d)}))},slice:function(){return this.pushStack(ea.apply(this,arguments))},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},eq:function(a){var d=this.length;a=+a+(0>a?d:0);return this.pushStack(0<=a&&a<d?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:ab,sort:Q.sort,splice:Q.splice};p.extend=p.fn.extend=function(){var a,d,b,c,e,h=arguments[0]||{},m=1,l=arguments.length,r=!1;"boolean"===typeof h&&(r=h,h=arguments[m]||{},m++);"object"===typeof h||p.isFunction(h)||(h={});m===l&&(h=this,m--);for(;m<l;m++)if(null!=(e=arguments[m]))for(c in e)a=h[c],b=e[c],
h!==b&&(r&&b&&(p.isPlainObject(b)||(d=p.isArray(b)))?(d?(d=!1,a=a&&p.isArray(a)?a:[]):a=a&&p.isPlainObject(a)?a:{},h[c]=p.extend(r,a,b)):void 0!==b&&(h[c]=b));return h};p.extend({expando:"jQuery"+("1.11.2"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===p.type(a)},isArray:Array.isArray||function(a){return"array"===p.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!p.isArray(a)&&
0<=a-parseFloat(a)+1},isEmptyObject:function(a){for(var d in a)return!1;return!0},isPlainObject:function(a){var d;if(!a||"object"!==p.type(a)||a.nodeType||p.isWindow(a))return!1;try{if(a.constructor&&!B.call(a,"constructor")&&!B.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}if(D.ownLast)for(d in a)return B.call(a,d);for(d in a);return void 0===d||B.call(a,d)},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?Sa[Hb.call(a)]||"object":typeof a},
globalEval:function(a){a&&p.trim(a)&&(k.execScript||function(a){k.eval.call(k,a)})(a)},camelCase:function(a){return a.replace(Fa,"ms-").replace(N,X)},nodeName:function(a,d){return a.nodeName&&a.nodeName.toLowerCase()===d.toLowerCase()},each:function(a,d,b){var c,e=0,h=a.length;c=n(a);if(b)if(c)for(;e<h&&(c=d.apply(a[e],b),!1!==c);e++);else for(e in a){if(c=d.apply(a[e],b),!1===c)break}else if(c)for(;e<h&&(c=d.call(a[e],e,a[e]),!1!==c);e++);else for(e in a)if(c=d.call(a[e],e,a[e]),!1===c)break;return a},
trim:function(a){return null==a?"":(a+"").replace(ia,"")},makeArray:function(a,d){var b=d||[];null!=a&&(n(Object(a))?p.merge(b,"string"===typeof a?[a]:a):ab.call(b,a));return b},inArray:function(a,d,b){var c;if(d){if(mb)return mb.call(d,a,b);c=d.length;for(b=b?0>b?Math.max(0,c+b):b:0;b<c;b++)if(b in d&&d[b]===a)return b}return-1},merge:function(a,d){for(var b=+d.length,c=0,e=a.length;c<b;)a[e++]=d[c++];if(b!==b)for(;void 0!==d[c];)a[e++]=d[c++];a.length=e;return a},grep:function(a,d,b){for(var c=
[],e=0,h=a.length,m=!b;e<h;e++)b=!d(a[e],e),b!==m&&c.push(a[e]);return c},map:function(a,d,b){var c,e=0,h=a.length,m=[];if(n(a))for(;e<h;e++)c=d(a[e],e,b),null!=c&&m.push(c);else for(e in a)c=d(a[e],e,b),null!=c&&m.push(c);return ha.apply([],m)},guid:1,proxy:function(a,d){var b,c;"string"===typeof d&&(c=a[d],d=a,a=c);if(p.isFunction(a))return b=ea.call(arguments,2),c=function(){return a.apply(d||this,b.concat(ea.call(arguments)))},c.guid=a.guid=a.guid||p.guid++,c},now:function(){return+new Date},
support:D});p.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,d){Sa["[object "+d+"]"]=d.toLowerCase()});var ja=function(a){function d(a,b,c,e){var h,m,l,r,f;(b?b.ownerDocument||b:B)!==L&&aa(b);b=b||L;c=c||[];r=b.nodeType;if("string"!==typeof a||!a||1!==r&&9!==r&&11!==r)return c;if(!e&&Z){if(11!==r&&(h=da.exec(a)))if(l=h[1])if(9===r)if((m=b.getElementById(l))&&m.parentNode){if(m.id===l)return c.push(m),c}else return c;else{if(b.ownerDocument&&(m=b.ownerDocument.getElementById(l))&&
wa(b,m)&&m.id===l)return c.push(m),c}else{if(h[2])return F.apply(c,b.getElementsByTagName(a)),c;if((l=h[3])&&q.getElementsByClassName)return F.apply(c,b.getElementsByClassName(l)),c}if(q.qsa&&(!y||!y.test(a))){m=h=M;l=b;f=1!==r&&a;if(1===r&&"object"!==b.nodeName.toLowerCase()){r=P(a);(h=b.getAttribute("id"))?m=h.replace(ia,"\\$&"):b.setAttribute("id",m);m="[id='"+m+"'] ";for(l=r.length;l--;)r[l]=m+x(r[l]);l=S.test(a)&&g(b.parentNode)||b;f=r.join(",")}if(f)try{return F.apply(c,l.querySelectorAll(f)),
c}catch(G){}finally{h||b.removeAttribute("id")}}}return W(a.replace(ea,"$1"),b,c,e)}function b(){function a(b,c){d.push(b+" ")>t.cacheLength&&delete a[d.shift()];return a[b+" "]=c}var d=[];return a}function c(a){a[M]=!0;return a}function e(a){var d=L.createElement("div");try{return!!a(d)}catch(b){return!1}finally{d.parentNode&&d.parentNode.removeChild(d)}}function h(a,d){for(var b=a.split("|"),c=a.length;c--;)t.attrHandle[b[c]]=d}function m(a,d){var b=d&&a,c=b&&1===a.nodeType&&1===d.nodeType&&(~d.sourceIndex||
-2147483648)-(~a.sourceIndex||-2147483648);if(c)return c;if(b)for(;b=b.nextSibling;)if(b===d)return-1;return a?1:-1}function l(a){return function(d){return"input"===d.nodeName.toLowerCase()&&d.type===a}}function r(a){return function(d){var b=d.nodeName.toLowerCase();return("input"===b||"button"===b)&&d.type===a}}function f(a){return c(function(d){d=+d;return c(function(b,c){for(var e,h=a([],b.length,d),m=h.length;m--;)b[e=h[m]]&&(b[e]=!(c[e]=b[e]))})})}function g(a){return a&&"undefined"!==typeof a.getElementsByTagName&&
a}function w(){}function x(a){for(var d=0,b=a.length,c="";d<b;d++)c+=a[d].value;return c}function p(a,d,b){var c=d.dir,e=b&&"parentNode"===c,h=Ka++;return d.first?function(d,b,h){for(;d=d[c];)if(1===d.nodeType||e)return a(d,b,h)}:function(d,b,m){var l,r,f=[ba,h];if(m)for(;d=d[c];){if((1===d.nodeType||e)&&a(d,b,m))return!0}else for(;d=d[c];)if(1===d.nodeType||e){r=d[M]||(d[M]={});if((l=r[c])&&l[0]===ba&&l[1]===h)return f[2]=l[2];r[c]=f;if(f[2]=a(d,b,m))return!0}}}function C(a){return 1<a.length?function(d,
b,c){for(var e=a.length;e--;)if(!a[e](d,b,c))return!1;return!0}:a[0]}function z(a,d,b,c,e){for(var h,m=[],l=0,r=a.length,f=null!=d;l<r;l++)if(h=a[l])if(!b||b(h,c,e))m.push(h),f&&d.push(l);return m}function K(a,b,e,h,m,l){h&&!h[M]&&(h=K(h));m&&!m[M]&&(m=K(m,l));return c(function(c,l,r,f){var G,g,w=[],x=[],p=l.length,C;if(!(C=c)){C=b||"*";for(var O=r.nodeType?[r]:r,K=[],k=0,n=O.length;k<n;k++)d(C,O[k],K);C=K}C=!a||!c&&b?C:z(C,w,a,r,f);O=e?m||(c?a:p||h)?[]:l:C;e&&e(C,O,r,f);if(h)for(G=z(O,x),h(G,[],
r,f),r=G.length;r--;)if(g=G[r])O[x[r]]=!(C[x[r]]=g);if(c){if(m||a){if(m){G=[];for(r=O.length;r--;)(g=O[r])&&G.push(C[r]=g);m(null,O=[],G,f)}for(r=O.length;r--;)(g=O[r])&&-1<(G=m?ca(c,g):w[r])&&(c[G]=!(l[G]=g))}}else O=z(O===l?O.splice(p,O.length):O),m?m(null,l,O,f):F.apply(l,O)})}function k(a){var d,b,c,e=a.length,h=t.relative[a[0].type];b=h||t.relative[" "];for(var m=h?1:0,l=p(function(a){return a===d},b,!0),r=p(function(a){return-1<ca(d,a)},b,!0),f=[function(a,b,c){a=!h&&(c||b!==I)||((d=b).nodeType?
l(a,b,c):r(a,b,c));d=null;return a}];m<e;m++)if(b=t.relative[a[m].type])f=[p(C(f),b)];else{b=t.filter[a[m].type].apply(null,a[m].matches);if(b[M]){for(c=++m;c<e&&!t.relative[a[c].type];c++);return K(1<m&&C(f),1<m&&x(a.slice(0,m-1).concat({value:" "===a[m-2].type?"*":""})).replace(ea,"$1"),b,m<c&&k(a.slice(m,c)),c<e&&k(a=a.slice(c)),c<e&&x(a))}f.push(b)}return C(f)}function H(a,b){var e=0<b.length,h=0<a.length,m=function(c,m,l,r,f){var G,g,w,x=0,C="0",p=c&&[],O=[],K=I,k=c||h&&t.find.TAG("*",f),n=ba+=
null==K?1:Math.random()||.1,H=k.length;for(f&&(I=m!==L&&m);C!==H&&null!=(G=k[C]);C++){if(h&&G){for(g=0;w=a[g++];)if(w(G,m,l)){r.push(G);break}f&&(ba=n)}e&&((G=!w&&G)&&x--,c&&p.push(G))}x+=C;if(e&&C!==x){for(g=0;w=b[g++];)w(p,O,m,l);if(c){if(0<x)for(;C--;)p[C]||O[C]||(O[C]=bb.call(r));O=z(O)}F.apply(r,O);f&&!c&&0<O.length&&1<x+b.length&&d.uniqueSort(r)}f&&(ba=n,I=K);return p};return e?c(m):m}var n,q,t,J,u,P,v,W,I,T,fa,aa,L,ga,Z,y,ta,A,wa,M="sizzle"+1*new Date,B=a.document,ba=0,Ka=0,sa=b(),Ta=b(),D=
b(),E=function(a,d){a===d&&(fa=!0);return 0},Ha={}.hasOwnProperty,na=[],bb=na.pop,Q=na.push,F=na.push,ra=na.slice,ca=function(a,d){for(var b=0,c=a.length;b<c;b++)if(a[b]===d)return b;return-1},Na="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Ia="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Na+"))|)[\\x20\\t\\r\\n\\f]*\\]",Da=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
Ia+")*)|.*)\\)|)",Ua=RegExp("[\\x20\\t\\r\\n\\f]+","g"),ea=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),N=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,cb=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Ra=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),Va=new RegExp(Da),R=new RegExp("^"+Na+"$"),ha={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w",
"w*")+")"),ATTR:new RegExp("^"+Ia),PSEUDO:new RegExp("^"+Da),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},
X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,la=/^[^{]+\{\s*\[native \w/,da=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,S=/[+~]/,ia=/'|\\/g,U=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),V=function(a,d,b){a="0x"+d-65536;return a!==a||b?d:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)},ja=function(){aa()};try{F.apply(na=ra.call(B.childNodes),B.childNodes),na[B.childNodes.length].nodeType}catch(ma){F={apply:na.length?function(a,d){Q.apply(a,
ra.call(d))}:function(a,d){for(var b=a.length,c=0;a[b++]=d[c++];);a.length=b-1}}}q=d.support={};u=d.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};aa=d.setDocument=function(a){var d=a?a.ownerDocument||a:B;if(d===L||9!==d.nodeType||!d.documentElement)return L;L=d;ga=d.documentElement;(a=d.defaultView)&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",ja,!1):a.attachEvent&&a.attachEvent("onunload",ja));Z=!u(d);q.attributes=e(function(a){a.className=
"i";return!a.getAttribute("className")});q.getElementsByTagName=e(function(a){a.appendChild(d.createComment(""));return!a.getElementsByTagName("*").length});q.getElementsByClassName=la.test(d.getElementsByClassName);q.getById=e(function(a){ga.appendChild(a).id=M;return!d.getElementsByName||!d.getElementsByName(M).length});q.getById?(t.find.ID=function(a,d){if("undefined"!==typeof d.getElementById&&Z){var b=d.getElementById(a);return b&&b.parentNode?[b]:[]}},t.filter.ID=function(a){var d=a.replace(U,
V);return function(a){return a.getAttribute("id")===d}}):(delete t.find.ID,t.filter.ID=function(a){var d=a.replace(U,V);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===d}});t.find.TAG=q.getElementsByTagName?function(a,d){if("undefined"!==typeof d.getElementsByTagName)return d.getElementsByTagName(a);if(q.qsa)return d.querySelectorAll(a)}:function(a,d){var b,c=[],e=0,h=d.getElementsByTagName(a);if("*"===a){for(;b=h[e++];)1===b.nodeType&&c.push(b);
return c}return h};t.find.CLASS=q.getElementsByClassName&&function(a,d){if(Z)return d.getElementsByClassName(a)};ta=[];y=[];if(q.qsa=la.test(d.querySelectorAll))e(function(a){ga.appendChild(a).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\f]' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||y.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll("[id~="+M+"-]").length||y.push("~=");a.querySelectorAll(":checked").length||y.push(":checked");a.querySelectorAll("a#"+M+"+*").length||y.push(".#.+[+~]")}),e(function(a){var b=d.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&y.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||y.push(":enabled",":disabled");a.querySelectorAll("*,:x");y.push(",.*:")});(q.matchesSelector=
la.test(A=ga.matches||ga.webkitMatchesSelector||ga.mozMatchesSelector||ga.oMatchesSelector||ga.msMatchesSelector))&&e(function(a){q.disconnectedMatch=A.call(a,"div");A.call(a,"[s!='']:x");ta.push("!=",Da)});y=y.length&&new RegExp(y.join("|"));ta=ta.length&&new RegExp(ta.join("|"));wa=(a=la.test(ga.compareDocumentPosition))||la.test(ga.contains)?function(a,d){var b=9===a.nodeType?a.documentElement:a,c=d&&d.parentNode;return a===c||!!(c&&1===c.nodeType&&(b.contains?b.contains(c):a.compareDocumentPosition&&
a.compareDocumentPosition(c)&16))}:function(a,d){if(d)for(;d=d.parentNode;)if(d===a)return!0;return!1};E=a?function(a,b){if(a===b)return fa=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;if(c)return c;c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;return c&1||!q.sortDetached&&b.compareDocumentPosition(a)===c?a===d||a.ownerDocument===B&&wa(B,a)?-1:b===d||b.ownerDocument===B&&wa(B,b)?1:T?ca(T,a)-ca(T,b):0:c&4?-1:1}:function(a,b){if(a===b)return fa=!0,
0;var c,e=0;c=a.parentNode;var h=b.parentNode,l=[a],r=[b];if(!c||!h)return a===d?-1:b===d?1:c?-1:h?1:T?ca(T,a)-ca(T,b):0;if(c===h)return m(a,b);for(c=a;c=c.parentNode;)l.unshift(c);for(c=b;c=c.parentNode;)r.unshift(c);for(;l[e]===r[e];)e++;return e?m(l[e],r[e]):l[e]===B?-1:r[e]===B?1:0};return d};d.matches=function(a,b){return d(a,null,null,b)};d.matchesSelector=function(a,b){(a.ownerDocument||a)!==L&&aa(a);b=b.replace(Ra,"='$1']");if(!(!q.matchesSelector||!Z||ta&&ta.test(b)||y&&y.test(b)))try{var c=
A.call(a,b);if(c||q.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(e){}return 0<d(b,L,null,[a]).length};d.contains=function(a,d){(a.ownerDocument||a)!==L&&aa(a);return wa(a,d)};d.attr=function(a,d){(a.ownerDocument||a)!==L&&aa(a);var b=t.attrHandle[d.toLowerCase()],b=b&&Ha.call(t.attrHandle,d.toLowerCase())?b(a,d,!Z):void 0;return void 0!==b?b:q.attributes||!Z?a.getAttribute(d):(b=a.getAttributeNode(d))&&b.specified?b.value:null};d.error=function(a){throw Error("Syntax error, unrecognized expression: "+
a);};d.uniqueSort=function(a){var d,b=[],c=0,e=0;fa=!q.detectDuplicates;T=!q.sortStable&&a.slice(0);a.sort(E);if(fa){for(;d=a[e++];)d===a[e]&&(c=b.push(e));for(;c--;)a.splice(b[c],1)}T=null;return a};J=d.getText=function(a){var d,b="",c=0;d=a.nodeType;if(!d)for(;d=a[c++];)b+=J(d);else if(1===d||9===d||11===d){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)b+=J(a)}else if(3===d||4===d)return a.nodeValue;return b};t=d.selectors={cacheLength:50,createPseudo:c,
match:ha,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(U,V);a[3]=(a[3]||a[4]||a[5]||"").replace(U,V);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||d.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&d.error(a[0]);
return a},PSEUDO:function(a){var d,b=!a[6]&&a[2];if(ha.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":b&&Va.test(b)&&(d=P(b,!0))&&(d=b.indexOf(")",b.length-d)-b.length)&&(a[0]=a[0].slice(0,d),a[2]=b.slice(0,d));return a.slice(0,3)}},filter:{TAG:function(a){var d=a.replace(U,V).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===d}},CLASS:function(a){var d=sa[a+" "];return d||(d=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&
sa(a,function(a){return d.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(e){e=d.attr(e,a);if(null==e)return"!="===b;if(!b)return!0;e+="";return"="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&-1<e.indexOf(c):"$="===b?c&&e.slice(-c.length)===c:"~="===b?-1<(" "+e.replace(Ua," ")+" ").indexOf(c):"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1}},CHILD:function(a,d,b,c,e){var h=
"nth"!==a.slice(0,3),m="last"!==a.slice(-4),l="of-type"===d;return 1===c&&0===e?function(a){return!!a.parentNode}:function(d,b,r){var f,G,g,w,x;b=h!==m?"nextSibling":"previousSibling";var C=d.parentNode,p=l&&d.nodeName.toLowerCase();r=!r&&!l;if(C){if(h){for(;b;){for(G=d;G=G[b];)if(l?G.nodeName.toLowerCase()===p:1===G.nodeType)return!1;x=b="only"===a&&!x&&"nextSibling"}return!0}x=[m?C.firstChild:C.lastChild];if(m&&r)for(r=C[M]||(C[M]={}),f=r[a]||[],w=f[0]===ba&&f[1],g=f[0]===ba&&f[2],G=w&&C.childNodes[w];G=
++w&&G&&G[b]||(g=w=0)||x.pop();){if(1===G.nodeType&&++g&&G===d){r[a]=[ba,w,g];break}}else if(r&&(f=(d[M]||(d[M]={}))[a])&&f[0]===ba)g=f[1];else for(;(G=++w&&G&&G[b]||(g=w=0)||x.pop())&&((l?G.nodeName.toLowerCase()!==p:1!==G.nodeType)||!++g||(r&&((G[M]||(G[M]={}))[a]=[ba,g]),G!==d)););g-=e;return g===c||0===g%c&&0<=g/c}}},PSEUDO:function(a,b){var e,h=t.pseudos[a]||t.setFilters[a.toLowerCase()]||d.error("unsupported pseudo: "+a);return h[M]?h(b):1<h.length?(e=[a,a,"",b],t.setFilters.hasOwnProperty(a.toLowerCase())?
c(function(a,d){for(var c,e=h(a,b),m=e.length;m--;)c=ca(a,e[m]),a[c]=!(d[c]=e[m])}):function(a){return h(a,0,e)}):h}},pseudos:{not:c(function(a){var d=[],b=[],e=v(a.replace(ea,"$1"));return e[M]?c(function(a,d,b,c){c=e(a,null,c,[]);for(var h=a.length;h--;)if(b=c[h])a[h]=!(d[h]=b)}):function(a,c,h){d[0]=a;e(d,null,h,b);d[0]=null;return!b.pop()}}),has:c(function(a){return function(b){return 0<d(a,b).length}}),contains:c(function(a){a=a.replace(U,V);return function(d){return-1<(d.textContent||d.innerText||
J(d)).indexOf(a)}}),lang:c(function(a){R.test(a||"")||d.error("unsupported lang: "+a);a=a.replace(U,V).toLowerCase();return function(d){var b;do if(b=Z?d.lang:d.getAttribute("xml:lang")||d.getAttribute("lang"))return b=b.toLowerCase(),b===a||0===b.indexOf(a+"-");while((d=d.parentNode)&&1===d.nodeType);return!1}}),target:function(d){var b=a.location&&a.location.hash;return b&&b.slice(1)===d.id},root:function(a){return a===ga},focus:function(a){return a===L.activeElement&&(!L.hasFocus||L.hasFocus())&&
!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var d=a.nodeName.toLowerCase();return"input"===d&&!!a.checked||"option"===d&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!t.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},
button:function(a){var d=a.nodeName.toLowerCase();return"input"===d&&"button"===a.type||"button"===d},text:function(a){var d;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(d=a.getAttribute("type"))||"text"===d.toLowerCase())},first:f(function(){return[0]}),last:f(function(a,d){return[d-1]}),eq:f(function(a,d,b){return[0>b?b+d:b]}),even:f(function(a,d){for(var b=0;b<d;b+=2)a.push(b);return a}),odd:f(function(a,d){for(var b=1;b<d;b+=2)a.push(b);return a}),lt:f(function(a,d,b){for(d=
0>b?b+d:b;0<=--d;)a.push(d);return a}),gt:f(function(a,d,b){for(b=0>b?b+d:b;++b<d;)a.push(b);return a})}};t.pseudos.nth=t.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[n]=l(n);for(n in{submit:!0,reset:!0})t.pseudos[n]=r(n);w.prototype=t.filters=t.pseudos;t.setFilters=new w;P=d.tokenize=function(a,b){var c,e,h,m,l,r,f;if(l=Ta[a+" "])return b?0:l.slice(0);l=a;r=[];for(f=t.preFilter;l;){if(!c||(e=N.exec(l)))e&&(l=l.slice(e[0].length)||l),r.push(h=[]);c=!1;if(e=cb.exec(l))c=
e.shift(),h.push({value:c,type:e[0].replace(ea," ")}),l=l.slice(c.length);for(m in t.filter)!(e=ha[m].exec(l))||f[m]&&!(e=f[m](e))||(c=e.shift(),h.push({value:c,type:m,matches:e}),l=l.slice(c.length));if(!c)break}return b?l.length:l?d.error(a):Ta(a,r).slice(0)};v=d.compile=function(a,d){var b,c=[],e=[],h=D[a+" "];if(!h){d||(d=P(a));for(b=d.length;b--;)h=k(d[b]),h[M]?c.push(h):e.push(h);h=D(a,H(e,c));h.selector=a}return h};W=d.select=function(a,d,b,c){var e,h,m,l,r="function"===typeof a&&a,f=!c&&P(a=
r.selector||a);b=b||[];if(1===f.length){h=f[0]=f[0].slice(0);if(2<h.length&&"ID"===(m=h[0]).type&&q.getById&&9===d.nodeType&&Z&&t.relative[h[1].type]){d=(t.find.ID(m.matches[0].replace(U,V),d)||[])[0];if(!d)return b;r&&(d=d.parentNode);a=a.slice(h.shift().value.length)}for(e=ha.needsContext.test(a)?0:h.length;e--;){m=h[e];if(t.relative[l=m.type])break;if(l=t.find[l])if(c=l(m.matches[0].replace(U,V),S.test(h[0].type)&&g(d.parentNode)||d)){h.splice(e,1);a=c.length&&x(h);if(!a)return F.apply(b,c),b;
break}}}(r||v(a,f))(c,d,!Z,b,S.test(a)&&g(d.parentNode)||d);return b};q.sortStable=M.split("").sort(E).join("")===M;q.detectDuplicates=!!fa;aa();q.sortDetached=e(function(a){return a.compareDocumentPosition(L.createElement("div"))&1});e(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||h("type|href|height|width",function(a,d,b){if(!b)return a.getAttribute(d,"type"===d.toLowerCase()?1:2)});q.attributes&&e(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value",
"");return""===a.firstChild.getAttribute("value")})||h("value",function(a,d,b){if(!b&&"input"===a.nodeName.toLowerCase())return a.defaultValue});e(function(a){return null==a.getAttribute("disabled")})||h("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,d,b){var c;if(!b)return!0===a[d]?d.toLowerCase():(c=a.getAttributeNode(d))&&c.specified?c.value:null});return d}(k);p.find=ja;p.expr=ja.selectors;p.expr[":"]=p.expr.pseudos;
p.unique=ja.uniqueSort;p.text=ja.getText;p.isXMLDoc=ja.isXML;p.contains=ja.contains;var R=p.expr.match.needsContext,ma=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pa=/^.[^:#\[\.,]*$/;p.filter=function(a,d,b){var c=d[0];b&&(a=":not("+a+")");return 1===d.length&&1===c.nodeType?p.find.matchesSelector(c,a)?[c]:[]:p.find.matches(a,p.grep(d,function(a){return 1===a.nodeType}))};p.fn.extend({find:function(a){var d,b=[],c=this,e=c.length;if("string"!==typeof a)return this.pushStack(p(a).filter(function(){for(d=0;d<e;d++)if(p.contains(c[d],
this))return!0}));for(d=0;d<e;d++)p.find(a,c[d],b);b=this.pushStack(1<e?p.unique(b):b);b.selector=this.selector?this.selector+" "+a:a;return b},filter:function(a){return this.pushStack(v(this,a||[],!1))},not:function(a){return this.pushStack(v(this,a||[],!0))},is:function(a){return!!v(this,"string"===typeof a&&R.test(a)?p(a):a||[],!1).length}});var va,E=k.document,Ga=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(p.fn.init=function(a,d){var b,c;if(!a)return this;if("string"===typeof a){b="<"===a.charAt(0)&&
">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:Ga.exec(a);if(!b||!b[1]&&d)return!d||d.jquery?(d||va).find(a):this.constructor(d).find(a);if(b[1]){if(d=d instanceof p?d[0]:d,p.merge(this,p.parseHTML(b[1],d&&d.nodeType?d.ownerDocument||d:E,!0)),ma.test(b[1])&&p.isPlainObject(d))for(b in d)if(p.isFunction(this[b]))this[b](d[b]);else this.attr(b,d[b])}else{if((c=E.getElementById(b[2]))&&c.parentNode){if(c.id!==b[2])return va.find(a);this.length=1;this[0]=c}this.context=E;this.selector=a}return this}if(a.nodeType)return this.context=
this[0]=a,this.length=1,this;if(p.isFunction(a))return"undefined"!==typeof va.ready?va.ready(a):a(p);void 0!==a.selector&&(this.selector=a.selector,this.context=a.context);return p.makeArray(a,this)}).prototype=p.fn;va=p(E);var oa=/^(?:parents|prev(?:Until|All))/,U={children:!0,contents:!0,next:!0,prev:!0};p.extend({dir:function(a,d,b){var c=[];for(a=a[d];a&&9!==a.nodeType&&(void 0===b||1!==a.nodeType||!p(a).is(b));)1===a.nodeType&&c.push(a),a=a[d];return c},sibling:function(a,d){for(var b=[];a;a=
a.nextSibling)1===a.nodeType&&a!==d&&b.push(a);return b}});p.fn.extend({has:function(a){var d,b=p(a,this),c=b.length;return this.filter(function(){for(d=0;d<c;d++)if(p.contains(this,b[d]))return!0})},closest:function(a,d){for(var b,c=0,e=this.length,h=[],m=R.test(a)||"string"!==typeof a?p(a,d||this.context):0;c<e;c++)for(b=this[c];b&&b!==d;b=b.parentNode)if(11>b.nodeType&&(m?-1<m.index(b):1===b.nodeType&&p.find.matchesSelector(b,a))){h.push(b);break}return this.pushStack(1<h.length?p.unique(h):h)},
index:function(a){return a?"string"===typeof a?p.inArray(this[0],p(a)):p.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,d){return this.pushStack(p.unique(p.merge(this.get(),p(a,d))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});p.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return p.dir(a,"parentNode")},parentsUntil:function(a,d,b){return p.dir(a,
"parentNode",b)},next:function(a){return t(a,"nextSibling")},prev:function(a){return t(a,"previousSibling")},nextAll:function(a){return p.dir(a,"nextSibling")},prevAll:function(a){return p.dir(a,"previousSibling")},nextUntil:function(a,d,b){return p.dir(a,"nextSibling",b)},prevUntil:function(a,d,b){return p.dir(a,"previousSibling",b)},siblings:function(a){return p.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return p.sibling(a.firstChild)},contents:function(a){return p.nodeName(a,
"iframe")?a.contentDocument||a.contentWindow.document:p.merge([],a.childNodes)}},function(a,d){p.fn[a]=function(b,c){var e=p.map(this,d,b);"Until"!==a.slice(-5)&&(c=b);c&&"string"===typeof c&&(e=p.filter(c,e));1<this.length&&(U[a]||(e=p.unique(e)),oa.test(a)&&(e=e.reverse()));return this.pushStack(e)}});var Y=/\S+/g,Oa={};p.Callbacks=function(a){a="string"===typeof a?Oa[a]||y(a):p.extend({},a);var d,b,c,e,h,m,l=[],r=!a.once&&[],f=function(w){b=a.memory&&w;c=!0;h=m||0;m=0;e=l.length;for(d=!0;l&&h<
e;h++)if(!1===l[h].apply(w[0],w[1])&&a.stopOnFalse){b=!1;break}d=!1;l&&(r?r.length&&f(r.shift()):b?l=[]:g.disable())},g={add:function(){if(l){var c=l.length;(function Ib(d){p.each(d,function(d,b){var c=p.type(b);"function"===c?a.unique&&g.has(b)||l.push(b):b&&b.length&&"string"!==c&&Ib(b)})})(arguments);d?e=l.length:b&&(m=c,f(b))}return this},remove:function(){l&&p.each(arguments,function(a,b){for(var c;-1<(c=p.inArray(b,l,c));)l.splice(c,1),d&&(c<=e&&e--,c<=h&&h--)});return this},has:function(a){return a?
-1<p.inArray(a,l):!(!l||!l.length)},empty:function(){l=[];e=0;return this},disable:function(){l=r=b=void 0;return this},disabled:function(){return!l},lock:function(){r=void 0;b||g.disable();return this},locked:function(){return!r},fireWith:function(a,b){!l||c&&!r||(b=b||[],b=[a,b.slice?b.slice():b],d?r.push(b):f(b));return this},fire:function(){g.fireWith(this,arguments);return this},fired:function(){return!!c}};return g};p.extend({Deferred:function(a){var d=[["resolve","done",p.Callbacks("once memory"),
"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],b="pending",c={state:function(){return b},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return p.Deferred(function(b){p.each(d,function(d,h){var m=p.isFunction(a[d])&&a[d];e[h[1]](function(){var a=m&&m.apply(this,arguments);if(a&&p.isFunction(a.promise))a.promise().done(b.resolve).fail(b.reject).progress(b.notify);else b[h[0]+"With"](this===
c?b.promise():this,m?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?p.extend(a,c):c}},e={};c.pipe=c.then;p.each(d,function(a,h){var m=h[2],l=h[3];c[h[1]]=m.add;l&&m.add(function(){b=l},d[a^1][2].disable,d[2][2].lock);e[h[0]]=function(){e[h[0]+"With"](this===e?c:this,arguments);return this};e[h[0]+"With"]=m.fireWith});c.promise(e);a&&a.call(e,e);return e},when:function(a){var d=0,b=ea.call(arguments),c=b.length,e=1!==c||a&&p.isFunction(a.promise)?c:0,h=1===e?a:p.Deferred(),
m=function(a,d,b){return function(c){d[a]=this;b[a]=1<arguments.length?ea.call(arguments):c;b===l?h.notifyWith(d,b):--e||h.resolveWith(d,b)}},l,r,f;if(1<c)for(l=Array(c),r=Array(c),f=Array(c);d<c;d++)b[d]&&p.isFunction(b[d].promise)?b[d].promise().done(m(d,f,b)).fail(h.reject).progress(m(d,r,l)):--e;e||h.resolveWith(f,b);return h.promise()}});var fa;p.fn.ready=function(a){p.ready.promise().done(a);return this};p.extend({isReady:!1,readyWait:1,holdReady:function(a){a?p.readyWait++:p.ready(!0)},ready:function(a){if(!0===
a?!--p.readyWait:!p.isReady){if(!E.body)return setTimeout(p.ready);p.isReady=!0;!0!==a&&0<--p.readyWait||(fa.resolveWith(E,[p]),p.fn.triggerHandler&&(p(E).triggerHandler("ready"),p(E).off("ready")))}}});p.ready.promise=function(a){if(!fa)if(fa=p.Deferred(),"complete"===E.readyState)setTimeout(p.ready);else if(E.addEventListener)E.addEventListener("DOMContentLoaded",u,!1),k.addEventListener("load",u,!1);else{E.attachEvent("onreadystatechange",u);k.attachEvent("onload",u);var d=!1;try{d=null==k.frameElement&&
E.documentElement}catch(b){}d&&d.doScroll&&function Db(){if(!p.isReady){try{d.doScroll("left")}catch(a){return setTimeout(Db,50)}F();p.ready()}}()}return fa.promise(a)};for(var aa in p(D))break;D.ownLast="0"!==aa;D.inlineBlockNeedsLayout=!1;p(function(){var a,d,b;(d=E.getElementsByTagName("body")[0])&&d.style&&(a=E.createElement("div"),b=E.createElement("div"),b.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",d.appendChild(b).appendChild(a),"undefined"!==typeof a.style.zoom&&
(a.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",D.inlineBlockNeedsLayout=a=3===a.offsetWidth)&&(d.style.zoom=1),d.removeChild(b))});(function(){var a=E.createElement("div");if(null==D.deleteExpando){D.deleteExpando=!0;try{delete a.test}catch(d){D.deleteExpando=!1}}})();p.acceptData=function(a){var d=p.noData[(a.nodeName+" ").toLowerCase()],b=+a.nodeType||1;return 1!==b&&9!==b?!1:!d||!0!==d&&a.getAttribute("classid")===d};var ga=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ta=/([A-Z])/g;
p.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){a=a.nodeType?p.cache[a[p.expando]]:a[p.expando];return!!a&&!A(a)},data:function(a,d,b){return ka(a,d,b)},removeData:function(a,d){return la(a,d)},_data:function(a,d,b){return ka(a,d,b,!0)},_removeData:function(a,d){return la(a,d,!0)}});p.fn.extend({data:function(a,d){var b,c,e,h=this[0],m=h&&h.attributes;if(void 0===a){if(this.length&&(e=p.data(h),1===h.nodeType&&!p._data(h,
"parsedAttrs"))){for(b=m.length;b--;)m[b]&&(c=m[b].name,0===c.indexOf("data-")&&(c=p.camelCase(c.slice(5)),da(h,c,e[c])));p._data(h,"parsedAttrs",!0)}return e}return"object"===typeof a?this.each(function(){p.data(this,a)}):1<arguments.length?this.each(function(){p.data(this,a,d)}):h?da(h,a,p.data(h,a)):void 0},removeData:function(a){return this.each(function(){p.removeData(this,a)})}});p.extend({queue:function(a,d,b){var c;if(a)return d=(d||"fx")+"queue",c=p._data(a,d),b&&(!c||p.isArray(b)?c=p._data(a,
d,p.makeArray(b)):c.push(b)),c||[]},dequeue:function(a,d){d=d||"fx";var b=p.queue(a,d),c=b.length,e=b.shift(),h=p._queueHooks(a,d),m=function(){p.dequeue(a,d)};"inprogress"===e&&(e=b.shift(),c--);e&&("fx"===d&&b.unshift("inprogress"),delete h.stop,e.call(a,m,h));!c&&h&&h.empty.fire()},_queueHooks:function(a,d){var b=d+"queueHooks";return p._data(a,b)||p._data(a,b,{empty:p.Callbacks("once memory").add(function(){p._removeData(a,d+"queue");p._removeData(a,b)})})}});p.fn.extend({queue:function(a,d){var b=
2;"string"!==typeof a&&(d=a,a="fx",b--);return arguments.length<b?p.queue(this[0],a):void 0===d?this:this.each(function(){var b=p.queue(this,a,d);p._queueHooks(this,a);"fx"===a&&"inprogress"!==b[0]&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,d){var b,c=1,e=p.Deferred(),h=this,m=this.length,l=function(){--c||e.resolveWith(h,[h])};"string"!==typeof a&&(d=a,a=void 0);for(a=a||"fx";m--;)(b=
p._data(h[m],a+"queueHooks"))&&b.empty&&(c++,b.empty.add(l));l();return e.promise(d)}});var Ha=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ra=["Top","Right","Bottom","Left"],ba=function(a,d){a=d||a;return"none"===p.css(a,"display")||!p.contains(a.ownerDocument,a)},sa=p.access=function(a,d,b,c,e,h,m){var l=0,r=a.length,f=null==b;if("object"===p.type(b))for(l in e=!0,b)p.access(a,d,l,b[l],!0,h,m);else if(void 0!==c&&(e=!0,p.isFunction(c)||(m=!0),f&&(m?(d.call(a,c),d=null):(f=d,d=function(a,d,b){return f.call(p(a),
b)})),d))for(;l<r;l++)d(a[l],b,m?c:c.call(a[l],l,d(a[l],b)));return e?a:f?d.call(a):r?d(a[0],b):h},Ka=/^(?:checkbox|radio)$/i;(function(){var a=E.createElement("input"),d=E.createElement("div"),b=E.createDocumentFragment();d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";D.leadingWhitespace=3===d.firstChild.nodeType;D.tbody=!d.getElementsByTagName("tbody").length;D.htmlSerialize=!!d.getElementsByTagName("link").length;D.html5Clone="<:nav></:nav>"!==E.createElement("nav").cloneNode(!0).outerHTML;
a.type="checkbox";a.checked=!0;b.appendChild(a);D.appendChecked=a.checked;d.innerHTML="<textarea>x</textarea>";D.noCloneChecked=!!d.cloneNode(!0).lastChild.defaultValue;b.appendChild(d);d.innerHTML="<input type='radio' checked='checked' name='t'/>";D.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked;D.noCloneEvent=!0;d.attachEvent&&(d.attachEvent("onclick",function(){D.noCloneEvent=!1}),d.cloneNode(!0).click());if(null==D.deleteExpando){D.deleteExpando=!0;try{delete d.test}catch(c){D.deleteExpando=
!1}}})();(function(){var a,d,b=E.createElement("div");for(a in{submit:!0,change:!0,focusin:!0})d="on"+a,(D[a+"Bubbles"]=d in k)||(b.setAttribute(d,"t"),D[a+"Bubbles"]=!1===b.attributes[d].expando)})();var wa=/^(?:input|select|textarea)$/i,bb=/^key/,Ta=/^(?:mouse|pointer|contextmenu)|click/,Ua=/^(?:focusinfocus|focusoutblur)$/,Va=/^([^.]*)(?:\.(.+)|)$/;p.event={global:{},add:function(a,d,b,c,e){var h,m,l,r,f,g,w,x,C;if(l=p._data(a)){b.handler&&(r=b,b=r.handler,e=r.selector);b.guid||(b.guid=p.guid++);
(m=l.events)||(m=l.events={});(f=l.handle)||(f=l.handle=function(a){return"undefined"===typeof p||a&&p.event.triggered===a.type?void 0:p.event.dispatch.apply(f.elem,arguments)},f.elem=a);d=(d||"").match(Y)||[""];for(l=d.length;l--;)h=Va.exec(d[l])||[],x=g=h[1],C=(h[2]||"").split(".").sort(),x&&(h=p.event.special[x]||{},x=(e?h.delegateType:h.bindType)||x,h=p.event.special[x]||{},g=p.extend({type:x,origType:g,data:c,handler:b,guid:b.guid,selector:e,needsContext:e&&p.expr.match.needsContext.test(e),
namespace:C.join(".")},r),(w=m[x])||(w=m[x]=[],w.delegateCount=0,h.setup&&!1!==h.setup.call(a,c,C,f)||(a.addEventListener?a.addEventListener(x,f,!1):a.attachEvent&&a.attachEvent("on"+x,f))),h.add&&(h.add.call(a,g),g.handler.guid||(g.handler.guid=b.guid)),e?w.splice(w.delegateCount++,0,g):w.push(g),p.event.global[x]=!0);a=null}},remove:function(a,d,b,c,e){var h,m,l,r,f,g,w,x,C,z,K,k=p.hasData(a)&&p._data(a);if(k&&(g=k.events)){d=(d||"").match(Y)||[""];for(f=d.length;f--;)if(l=Va.exec(d[f])||[],C=K=
l[1],z=(l[2]||"").split(".").sort(),C){w=p.event.special[C]||{};C=(c?w.delegateType:w.bindType)||C;x=g[C]||[];l=l[2]&&new RegExp("(^|\\.)"+z.join("\\.(?:.*\\.|)")+"(\\.|$)");for(r=h=x.length;h--;)m=x[h],!e&&K!==m.origType||b&&b.guid!==m.guid||l&&!l.test(m.namespace)||c&&c!==m.selector&&("**"!==c||!m.selector)||(x.splice(h,1),m.selector&&x.delegateCount--,w.remove&&w.remove.call(a,m));r&&!x.length&&(w.teardown&&!1!==w.teardown.call(a,z,k.handle)||p.removeEvent(a,C,k.handle),delete g[C])}else for(C in g)p.event.remove(a,
C+d[f],b,c,!0);p.isEmptyObject(g)&&(delete k.handle,p._removeData(a,"events"))}},trigger:function(a,d,b,c){var e,h,m,l,r,f,g=[b||E],w=B.call(a,"type")?a.type:a;r=B.call(a,"namespace")?a.namespace.split("."):[];m=e=b=b||E;if(3!==b.nodeType&&8!==b.nodeType&&!Ua.test(w+p.event.triggered)&&(0<=w.indexOf(".")&&(r=w.split("."),w=r.shift(),r.sort()),h=0>w.indexOf(":")&&"on"+w,a=a[p.expando]?a:new p.Event(w,"object"===typeof a&&a),a.isTrigger=c?2:3,a.namespace=r.join("."),a.namespace_re=a.namespace?new RegExp("(^|\\.)"+
r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=b),d=null==d?[a]:p.makeArray(d,[a]),r=p.event.special[w]||{},c||!r.trigger||!1!==r.trigger.apply(b,d))){if(!c&&!r.noBubble&&!p.isWindow(b)){l=r.delegateType||w;Ua.test(l+w)||(m=m.parentNode);for(;m;m=m.parentNode)g.push(m),e=m;e===(b.ownerDocument||E)&&g.push(e.defaultView||e.parentWindow||k)}for(f=0;(m=g[f++])&&!a.isPropagationStopped();)a.type=1<f?l:r.bindType||w,(e=(p._data(m,"events")||{})[a.type]&&p._data(m,"handle"))&&
e.apply(m,d),(e=h&&m[h])&&e.apply&&p.acceptData(m)&&(a.result=e.apply(m,d),!1===a.result&&a.preventDefault());a.type=w;if(!(c||a.isDefaultPrevented()||r._default&&!1!==r._default.apply(g.pop(),d))&&p.acceptData(b)&&h&&b[w]&&!p.isWindow(b)){(e=b[h])&&(b[h]=null);p.event.triggered=w;try{b[w]()}catch(x){}p.event.triggered=void 0;e&&(b[h]=e)}return a.result}},dispatch:function(a){a=p.event.fix(a);var d,b,c,e,h=[],m=ea.call(arguments);d=(p._data(this,"events")||{})[a.type]||[];var l=p.event.special[a.type]||
{};m[0]=a;a.delegateTarget=this;if(!l.preDispatch||!1!==l.preDispatch.call(this,a)){h=p.event.handlers.call(this,a,d);for(d=0;(c=h[d++])&&!a.isPropagationStopped();)for(a.currentTarget=c.elem,e=0;(b=c.handlers[e++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(b.namespace))a.handleObj=b,a.data=b.data,b=((p.event.special[b.origType]||{}).handle||b.handler).apply(c.elem,m),void 0!==b&&!1===(a.result=b)&&(a.preventDefault(),a.stopPropagation());l.postDispatch&&l.postDispatch.call(this,
a);return a.result}},handlers:function(a,d){var b,c,e,h,m=[],l=d.delegateCount,r=a.target;if(l&&r.nodeType&&(!a.button||"click"!==a.type))for(;r!=this;r=r.parentNode||this)if(1===r.nodeType&&(!0!==r.disabled||"click"!==a.type)){e=[];for(h=0;h<l;h++)c=d[h],b=c.selector+" ",void 0===e[b]&&(e[b]=c.needsContext?0<=p(b,this).index(r):p.find(b,this,null,[r]).length),e[b]&&e.push(c);e.length&&m.push({elem:r,handlers:e})}l<d.length&&m.push({elem:this,handlers:d.slice(l)});return m},fix:function(a){if(a[p.expando])return a;
var d,b,c;d=a.type;var e=a,h=this.fixHooks[d];h||(this.fixHooks[d]=h=Ta.test(d)?this.mouseHooks:bb.test(d)?this.keyHooks:{});c=h.props?this.props.concat(h.props):this.props;a=new p.Event(e);for(d=c.length;d--;)b=c[d],a[b]=e[b];a.target||(a.target=e.srcElement||E);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return h.filter?h.filter(a,e):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,d){null==a.which&&(a.which=null!=d.charCode?d.charCode:d.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var b,c,e=d.button,h=d.fromElement;null==a.pageX&&null!=d.clientX&&(b=a.target.ownerDocument||E,c=b.documentElement,b=b.body,a.pageX=d.clientX+(c&&c.scrollLeft||b&&b.scrollLeft||0)-(c&&c.clientLeft||
b&&b.clientLeft||0),a.pageY=d.clientY+(c&&c.scrollTop||b&&b.scrollTop||0)-(c&&c.clientTop||b&&b.clientTop||0));!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?d.toElement:h);a.which||void 0===e||(a.which=e&1?1:e&2?3:e&4?2:0);return a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ua()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===ua()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(p.nodeName(this,
"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return p.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,d,b,c){a=p.extend(new p.Event,b,{type:a,isSimulated:!0,originalEvent:{}});c?p.event.trigger(a,null,d):p.event.dispatch.call(d,a);a.isDefaultPrevented()&&b.preventDefault()}};p.removeEvent=E.removeEventListener?function(a,d,b){a.removeEventListener&&
a.removeEventListener(d,b,!1)}:function(a,d,b){d="on"+d;a.detachEvent&&("undefined"===typeof a[d]&&(a[d]=null),a.detachEvent(d,b))};p.Event=function(a,d){if(!(this instanceof p.Event))return new p.Event(a,d);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?g:S):this.type=a;d&&p.extend(this,d);this.timeStamp=a&&a.timeStamp||p.now();this[p.expando]=!0};p.Event.prototype={isDefaultPrevented:S,isPropagationStopped:S,
isImmediatePropagationStopped:S,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=g;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=g;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=g;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};p.each({mouseenter:"mouseover",
mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,d){p.event.special[a]={delegateType:d,bindType:d,handle:function(a){var b,c=a.relatedTarget,e=a.handleObj;if(!c||c!==this&&!p.contains(this,c))a.type=e.origType,b=e.handler.apply(this,arguments),a.type=d;return b}}});D.submitBubbles||(p.event.special.submit={setup:function(){if(p.nodeName(this,"form"))return!1;p.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=p.nodeName(a,"input")||p.nodeName(a,
"button")?a.form:void 0)&&!p._data(a,"submitBubbles")&&(p.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),p._data(a,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&p.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(p.nodeName(this,"form"))return!1;p.event.remove(this,"._submit")}});D.changeBubbles||(p.event.special.change={setup:function(){if(wa.test(this.nodeName)){if("checkbox"===this.type||
"radio"===this.type)p.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),p.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);p.event.simulate("change",this,a,!0)});return!1}p.event.add(this,"beforeactivate._change",function(a){a=a.target;wa.test(a.nodeName)&&!p._data(a,"changeBubbles")&&(p.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||p.event.simulate("change",
this.parentNode,a,!0)}),p._data(a,"changeBubbles",!0))})},handle:function(a){var d=a.target;if(this!==d||a.isSimulated||a.isTrigger||"radio"!==d.type&&"checkbox"!==d.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){p.event.remove(this,"._change");return!wa.test(this.nodeName)}});D.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(a,d){var b=function(a){p.event.simulate(d,a.target,p.event.fix(a),!0)};p.event.special[d]={setup:function(){var c=this.ownerDocument||
this,e=p._data(c,d);e||c.addEventListener(a,b,!0);p._data(c,d,(e||0)+1)},teardown:function(){var c=this.ownerDocument||this,e=p._data(c,d)-1;e?p._data(c,d,e):(c.removeEventListener(a,b,!0),p._removeData(c,d))}}});p.fn.extend({on:function(a,d,b,c,e){var h,m;if("object"===typeof a){"string"!==typeof d&&(b=b||d,d=void 0);for(h in a)this.on(h,d,b,a[h],e);return this}null==b&&null==c?(c=d,b=d=void 0):null==c&&("string"===typeof d?(c=b,b=void 0):(c=b,b=d,d=void 0));if(!1===c)c=S;else if(!c)return this;
1===e&&(m=c,c=function(a){p().off(a);return m.apply(this,arguments)},c.guid=m.guid||(m.guid=p.guid++));return this.each(function(){p.event.add(this,a,c,b,d)})},one:function(a,d,b,c){return this.on(a,d,b,c,1)},off:function(a,d,b){var c;if(a&&a.preventDefault&&a.handleObj)return c=a.handleObj,p(a.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this;if("object"===typeof a){for(c in a)this.off(c,d,a[c]);return this}if(!1===d||"function"===typeof d)b=d,d=void 0;
!1===b&&(b=S);return this.each(function(){p.event.remove(this,a,b,d)})},trigger:function(a,d){return this.each(function(){p.event.trigger(a,d,this)})},triggerHandler:function(a,d){var b=this[0];if(b)return p.event.trigger(a,d,b,!0)}});var Da="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",cb=/ jQuery\d+="(?:null|\d+)"/g,Na=new RegExp("<(?:"+Da+")[\\s/>]","i"),Ia=/^\s+/,nb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
ob=/<([\w:]+)/,pb=/<tbody/i,Jb=/<|&#?\w+;/,Kb=/<(?:script|style|link)/i,Lb=/checked\s*(?:[^=]|=\s*.checked.)/i,qb=/^$|\/(?:java|ecma)script/i,Eb=/^true\/(.*)/,Mb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,V={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,
"<table><tbody><tr>","</tr></tbody></table>"],_default:D.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},db=qa(E).appendChild(E.createElement("div"));V.optgroup=V.option;V.tbody=V.tfoot=V.colgroup=V.caption=V.thead;V.th=V.td;p.extend({clone:function(c,e,h){var m,r,g,w,x,C=p.contains(c.ownerDocument,c);D.html5Clone||p.isXMLDoc(c)||!Na.test("<"+c.nodeName+">")?g=c.cloneNode(!0):(db.innerHTML=c.outerHTML,db.removeChild(g=db.firstChild));if(!(D.noCloneEvent&&D.noCloneChecked||1!==c.nodeType&&11!==c.nodeType||
p.isXMLDoc(c)))for(m=f(g),x=f(c),w=0;null!=(r=x[w]);++w)if(m[w]){var z=m[w],K=void 0,k=void 0,n=void 0;if(1===z.nodeType){K=z.nodeName.toLowerCase();if(!D.noCloneEvent&&z[p.expando]){n=p._data(z);for(k in n.events)p.removeEvent(z,k,n.handle);z.removeAttribute(p.expando)}if("script"===K&&z.text!==r.text)a(z).text=r.text,b(z);else if("object"===K)z.parentNode&&(z.outerHTML=r.outerHTML),D.html5Clone&&r.innerHTML&&!p.trim(z.innerHTML)&&(z.innerHTML=r.innerHTML);else if("input"===K&&Ka.test(r.type))z.defaultChecked=
z.checked=r.checked,z.value!==r.value&&(z.value=r.value);else if("option"===K)z.defaultSelected=z.selected=r.defaultSelected;else if("input"===K||"textarea"===K)z.defaultValue=r.defaultValue}}if(e)if(h)for(x=x||f(c),m=m||f(g),w=0;null!=(r=x[w]);w++)d(r,m[w]);else d(c,g);m=f(g,"script");0<m.length&&l(m,!C&&f(c,"script"));return g},buildFragment:function(a,d,b,e){for(var h,m,r,g,w,x,C=a.length,z=qa(d),K=[],k=0;k<C;k++)if((m=a[k])||0===m)if("object"===p.type(m))p.merge(K,m.nodeType?[m]:m);else if(Jb.test(m)){r=
r||z.appendChild(d.createElement("div"));g=(ob.exec(m)||["",""])[1].toLowerCase();x=V[g]||V._default;r.innerHTML=x[1]+m.replace(nb,"<$1></$2>")+x[2];for(h=x[0];h--;)r=r.lastChild;!D.leadingWhitespace&&Ia.test(m)&&K.push(d.createTextNode(Ia.exec(m)[0]));if(!D.tbody)for(h=(m="table"!==g||pb.test(m)?"<table>"!==x[1]||pb.test(m)?0:r:r.firstChild)&&m.childNodes.length;h--;)p.nodeName(w=m.childNodes[h],"tbody")&&!w.childNodes.length&&m.removeChild(w);p.merge(K,r.childNodes);for(r.textContent="";r.firstChild;)r.removeChild(r.firstChild);
r=z.lastChild}else K.push(d.createTextNode(m));r&&z.removeChild(r);D.appendChecked||p.grep(f(K,"input"),c);for(k=0;m=K[k++];)if(!e||-1===p.inArray(m,e))if(a=p.contains(m.ownerDocument,m),r=f(z.appendChild(m),"script"),a&&l(r),b)for(h=0;m=r[h++];)qb.test(m.type||"")&&b.push(m);return z},cleanData:function(a,d){for(var b,c,e,h,m=0,l=p.expando,r=p.cache,f=D.deleteExpando,g=p.event.special;null!=(b=a[m]);m++)if(d||p.acceptData(b))if(h=(e=b[l])&&r[e]){if(h.events)for(c in h.events)g[c]?p.event.remove(b,
c):p.removeEvent(b,c,h.handle);r[e]&&(delete r[e],f?delete b[l]:"undefined"!==typeof b.removeAttribute?b.removeAttribute(l):b[l]=null,Q.push(e))}}});p.fn.extend({text:function(a){return sa(this,function(a){return void 0===a?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||E).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||e(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,
function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var d=e(this,a);d.insertBefore(a,d.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,d){for(var b,c=a?p.filter(a,this):this,e=0;null!=(b=c[e]);e++)d||1!==b.nodeType||p.cleanData(f(b)),b.parentNode&&
(d&&p.contains(b.ownerDocument,b)&&l(f(b,"script")),b.parentNode.removeChild(b));return this},empty:function(){for(var a,d=0;null!=(a=this[d]);d++){for(1===a.nodeType&&p.cleanData(f(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&p.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,d){a=null==a?!1:a;d=null==d?a:d;return this.map(function(){return p.clone(this,a,d)})},html:function(a){return sa(this,function(a){var d=this[0]||{},b=0,c=this.length;if(void 0===a)return 1===
d.nodeType?d.innerHTML.replace(cb,""):void 0;if(!("string"!==typeof a||Kb.test(a)||!D.htmlSerialize&&Na.test(a)||!D.leadingWhitespace&&Ia.test(a)||V[(ob.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(nb,"<$1></$2>");try{for(;b<c;b++)d=this[b]||{},1===d.nodeType&&(p.cleanData(f(d,!1)),d.innerHTML=a);d=0}catch(e){}}d&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];this.domManip(arguments,function(d){a=this.parentNode;p.cleanData(f(this));a&&a.replaceChild(d,
this)});return a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(d,c){d=ha.apply([],d);var e,h,m,l,r=0,g=this.length,w=this,x=g-1,C=d[0],z=p.isFunction(C);if(z||1<g&&"string"===typeof C&&!D.checkClone&&Lb.test(C))return this.each(function(a){var b=w.eq(a);z&&(d[0]=C.call(this,a,b.html()));b.domManip(d,c)});if(g&&(l=p.buildFragment(d,this[0].ownerDocument,!1,this),e=l.firstChild,1===l.childNodes.length&&(l=e),e)){m=p.map(f(l,"script"),a);for(h=
m.length;r<g;r++)e=l,r!==x&&(e=p.clone(e,!0,!0),h&&p.merge(m,f(e,"script"))),c.call(this[r],e,r);if(h)for(l=m[m.length-1].ownerDocument,p.map(m,b),r=0;r<h;r++)e=m[r],qb.test(e.type||"")&&!p._data(e,"globalEval")&&p.contains(l,e)&&(e.src?p._evalUrl&&p._evalUrl(e.src):p.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Mb,"")));l=e=null}return this}});p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,d){p.fn[a]=function(a){for(var b=
0,c=[],e=p(a),h=e.length-1;b<=h;b++)a=b===h?this:this.clone(!0),p(e[b])[d](a),ab.apply(c,a.get());return this.pushStack(c)}});var La,kb={};(function(){var a;D.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var d,b,c;if((b=E.getElementsByTagName("body")[0])&&b.style)return d=E.createElement("div"),c=E.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",b.appendChild(c).appendChild(d),"undefined"!==typeof d.style.zoom&&(d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",
d.appendChild(E.createElement("div")).style.width="5px",a=3!==d.offsetWidth),b.removeChild(c),a}})();var rb=/^margin/,Pa=new RegExp("^("+Ha+")(?!px)[a-z%]+$","i"),za,Aa,Nb=/^(top|right|bottom|left)$/;k.getComputedStyle?(za=function(a){return a.ownerDocument.defaultView.opener?a.ownerDocument.defaultView.getComputedStyle(a,null):k.getComputedStyle(a,null)},Aa=function(a,d,b){var c,e,h=a.style;e=(b=b||za(a))?b.getPropertyValue(d)||b[d]:void 0;b&&(""!==e||p.contains(a.ownerDocument,a)||(e=p.style(a,
d)),Pa.test(e)&&rb.test(d)&&(a=h.width,d=h.minWidth,c=h.maxWidth,h.minWidth=h.maxWidth=h.width=e,e=b.width,h.width=a,h.minWidth=d,h.maxWidth=c));return void 0===e?e:e+""}):E.documentElement.currentStyle&&(za=function(a){return a.currentStyle},Aa=function(a,d,b){var c,e,h,m=a.style;h=(b=b||za(a))?b[d]:void 0;null==h&&m&&m[d]&&(h=m[d]);if(Pa.test(h)&&!Nb.test(d)){b=m.left;if(e=(c=a.runtimeStyle)&&c.left)c.left=a.currentStyle.left;m.left="fontSize"===d?"1em":h;h=m.pixelLeft+"px";m.left=b;e&&(c.left=
e)}return void 0===h?h:h+""||"auto"});(function(){function a(){var d,b,l,r;if((b=E.getElementsByTagName("body")[0])&&b.style){d=E.createElement("div");l=E.createElement("div");l.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";b.appendChild(l).appendChild(d);d.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";c=e=!1;m=!0;k.getComputedStyle&&
(c="1%"!==(k.getComputedStyle(d,null)||{}).top,e="4px"===(k.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(E.createElement("div")),r.style.cssText=d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",d.style.width="1px",m=!parseFloat((k.getComputedStyle(r,null)||{}).marginRight),d.removeChild(r));d.innerHTML="<table><tr><td></td><td>t</td></tr></table>";r=
d.getElementsByTagName("td");r[0].style.cssText="margin:0;border:0;padding:0;display:none";if(h=0===r[0].offsetHeight)r[0].style.display="",r[1].style.display="none",h=0===r[0].offsetHeight;b.removeChild(l)}}var d,b,c,e,h,m;d=E.createElement("div");d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";if(b=(b=d.getElementsByTagName("a")[0])&&b.style)b.cssText="float:left;opacity:.5",D.opacity="0.5"===b.opacity,D.cssFloat=!!b.cssFloat,d.style.backgroundClip="content-box",
d.cloneNode(!0).style.backgroundClip="",D.clearCloneStyle="content-box"===d.style.backgroundClip,D.boxSizing=""===b.boxSizing||""===b.MozBoxSizing||""===b.WebkitBoxSizing,p.extend(D,{reliableHiddenOffsets:function(){null==h&&a();return h},boxSizingReliable:function(){null==e&&a();return e},pixelPosition:function(){null==c&&a();return c},reliableMarginRight:function(){null==m&&a();return m}})})();p.swap=function(a,d,b,c){var e,h={};for(e in d)h[e]=a.style[e],a.style[e]=d[e];b=b.apply(a,c||[]);for(e in d)a.style[e]=
h[e];return b};var eb=/alpha\([^)]*\)/i,Ob=/opacity\s*=\s*([^)]*)/,Pb=/^(none|table(?!-c[ea]).+)/,Fb=new RegExp("^("+Ha+")(.*)$","i"),Qb=new RegExp("^([+-])=("+Ha+")","i"),Rb={position:"absolute",visibility:"hidden",display:"block"},sb={letterSpacing:"0",fontWeight:"400"},lb=["Webkit","O","Moz","ms"];p.extend({cssHooks:{opacity:{get:function(a,d){if(d){var b=Aa(a,"opacity");return""===b?"1":b}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,
order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":D.cssFloat?"cssFloat":"styleFloat"},style:function(a,d,b,c){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,h,m,l=p.camelCase(d),f=a.style;d=p.cssProps[l]||(p.cssProps[l]=r(f,l));m=p.cssHooks[d]||p.cssHooks[l];if(void 0!==b){if(h=typeof b,"string"===h&&(e=Qb.exec(b))&&(b=(e[1]+1)*e[2]+parseFloat(p.css(a,d)),h="number"),null!=b&&b===b&&("number"!==h||p.cssNumber[l]||(b+="px"),D.clearCloneStyle||""!==b||0!==d.indexOf("background")||
(f[d]="inherit"),!(m&&"set"in m)||void 0!==(b=m.set(a,b,c))))try{f[d]=b}catch(g){}}else return m&&"get"in m&&void 0!==(e=m.get(a,!1,c))?e:f[d]}},css:function(a,d,b,c){var e,h;h=p.camelCase(d);d=p.cssProps[h]||(p.cssProps[h]=r(a.style,h));(h=p.cssHooks[d]||p.cssHooks[h])&&"get"in h&&(e=h.get(a,!0,b));void 0===e&&(e=Aa(a,d,c));"normal"===e&&d in sb&&(e=sb[d]);return""===b||b?(a=parseFloat(e),!0===b||p.isNumeric(a)?a||0:e):e}});p.each(["height","width"],function(a,d){p.cssHooks[d]={get:function(a,b,
c){if(b)return Pb.test(p.css(a,"display"))&&0===a.offsetWidth?p.swap(a,Rb,function(){return K(a,d,c)}):K(a,d,c)},set:function(a,b,c){var e=c&&za(a);return z(a,b,c?C(a,d,c,D.boxSizing&&"border-box"===p.css(a,"boxSizing",!1,e),e):0)}}});D.opacity||(p.cssHooks.opacity={get:function(a,d){return Ob.test((d&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":d?"1":""},set:function(a,d){var b=a.style,c=a.currentStyle,e=p.isNumeric(d)?"alpha(opacity="+100*d+")":"",h=c&&
c.filter||b.filter||"";b.zoom=1;if((1<=d||""===d)&&""===p.trim(h.replace(eb,""))&&b.removeAttribute&&(b.removeAttribute("filter"),""===d||c&&!c.filter))return;b.filter=eb.test(h)?h.replace(eb,e):h+" "+e}});p.cssHooks.marginRight=w(D.reliableMarginRight,function(a,d){if(d)return p.swap(a,{display:"inline-block"},Aa,[a,"marginRight"])});p.each({margin:"",padding:"",border:"Width"},function(a,d){p.cssHooks[a+d]={expand:function(b){var c=0,e={};for(b="string"===typeof b?b.split(" "):[b];4>c;c++)e[a+ra[c]+
d]=b[c]||b[c-2]||b[0];return e}};rb.test(a)||(p.cssHooks[a+d].set=z)});p.fn.extend({css:function(a,d){return sa(this,function(a,d,b){var c,e={},h=0;if(p.isArray(d)){b=za(a);for(c=d.length;h<c;h++)e[d[h]]=p.css(a,d[h],!1,b);return e}return void 0!==b?p.style(a,d,b):p.css(a,d)},a,d,1<arguments.length)},show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){ba(this)?p(this).show():p(this).hide()})}});
p.Tween=H;H.prototype={constructor:H,init:function(a,d,b,c,e,h){this.elem=a;this.prop=b;this.easing=e||"swing";this.options=d;this.start=this.now=this.cur();this.end=c;this.unit=h||(p.cssNumber[b]?"":"px")},cur:function(){var a=H.propHooks[this.prop];return a&&a.get?a.get(this):H.propHooks._default.get(this)},run:function(a){var d,b=H.propHooks[this.prop];this.pos=this.options.duration?d=p.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):d=a;this.now=(this.end-this.start)*
d+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);b&&b.set?b.set(this):H.propHooks._default.set(this);return this}};H.prototype.init.prototype=H.prototype;H.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=p.css(a.elem,a.prop,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(p.fx.step[a.prop])p.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[p.cssProps[a.prop]]||p.cssHooks[a.prop])?p.style(a.elem,
a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};p.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}};p.fx=H.prototype.init;p.fx.step={};var Ea,Wa,Sb=/^(?:toggle|show|hide)$/,tb=new RegExp("^(?:([+-])=|)("+Ha+")([a-z%]*)$","i"),Tb=/queueHooks$/,Qa=[function(a,d,b){var c,e,h,l,r,f,g=this,w={},x=a.style,C=a.nodeType&&ba(a),z=p._data(a,"fxshow");
b.queue||(l=p._queueHooks(a,"fx"),null==l.unqueued&&(l.unqueued=0,r=l.empty.fire,l.empty.fire=function(){l.unqueued||r()}),l.unqueued++,g.always(function(){g.always(function(){l.unqueued--;p.queue(a,"fx").length||l.empty.fire()})}));1===a.nodeType&&("height"in d||"width"in d)&&(b.overflow=[x.overflow,x.overflowX,x.overflowY],f=p.css(a,"display"),e="none"===f?p._data(a,"olddisplay")||m(a.nodeName):f,"inline"===e&&"none"===p.css(a,"float")&&(D.inlineBlockNeedsLayout&&"inline"!==m(a.nodeName)?x.zoom=
1:x.display="inline-block"));b.overflow&&(x.overflow="hidden",D.shrinkWrapBlocks()||g.always(function(){x.overflow=b.overflow[0];x.overflowX=b.overflow[1];x.overflowY=b.overflow[2]}));for(c in d)if(e=d[c],Sb.exec(e)){delete d[c];h=h||"toggle"===e;if(e===(C?"hide":"show"))if("show"===e&&z&&void 0!==z[c])C=!0;else continue;w[c]=z&&z[c]||p.style(a,c)}else f=void 0;if(p.isEmptyObject(w))"inline"===("none"===f?m(a.nodeName):f)&&(x.display=f);else for(c in z?"hidden"in z&&(C=z.hidden):z=p._data(a,"fxshow",
{}),h&&(z.hidden=!C),C?p(a).show():g.done(function(){p(a).hide()}),g.done(function(){var d;p._removeData(a,"fxshow");for(d in w)p.style(a,d,w[d])}),w)d=W(C?z[c]:0,c,g),c in z||(z[c]=d.start,C&&(d.end=d.start,d.start="width"===c||"height"===c?1:0))}],Ma={"*":[function(a,d){var b=this.createTween(a,d),c=b.cur(),e=tb.exec(d),h=e&&e[3]||(p.cssNumber[a]?"":"px"),m=(p.cssNumber[a]||"px"!==h&&+c)&&tb.exec(p.css(b.elem,a)),l=1,r=20;if(m&&m[3]!==h){h=h||m[3];e=e||[];m=+c||1;do l=l||".5",m/=l,p.style(b.elem,
a,m+h);while(l!==(l=b.cur()/c)&&1!==l&&--r)}e&&(m=b.start=+m||+c||0,b.unit=h,b.end=e[1]?m+(e[1]+1)*e[2]:+e[2]);return b}]};p.Animation=p.extend(T,{tweener:function(a,d){p.isFunction(a)?(d=a,a=["*"]):a=a.split(" ");for(var b,c=0,e=a.length;c<e;c++)b=a[c],Ma[b]=Ma[b]||[],Ma[b].unshift(d)},prefilter:function(a,d){d?Qa.unshift(a):Qa.push(a)}});p.speed=function(a,d,b){var c=a&&"object"===typeof a?p.extend({},a):{complete:b||!b&&d||p.isFunction(a)&&a,duration:a,easing:b&&d||d&&!p.isFunction(d)&&d};c.duration=
p.fx.off?0:"number"===typeof c.duration?c.duration:c.duration in p.fx.speeds?p.fx.speeds[c.duration]:p.fx.speeds._default;if(null==c.queue||!0===c.queue)c.queue="fx";c.old=c.complete;c.complete=function(){p.isFunction(c.old)&&c.old.call(this);c.queue&&p.dequeue(this,c.queue)};return c};p.fn.extend({fadeTo:function(a,d,b,c){return this.filter(ba).css("opacity",0).show().end().animate({opacity:d},a,b,c)},animate:function(a,d,b,c){var e=p.isEmptyObject(a),h=p.speed(d,b,c);d=function(){var d=T(this,p.extend({},
a),h);(e||p._data(this,"finish"))&&d.stop(!0)};d.finish=d;return e||!1===h.queue?this.each(d):this.queue(h.queue,d)},stop:function(a,d,b){var c=function(a){var d=a.stop;delete a.stop;d(b)};"string"!==typeof a&&(b=d,d=a,a=void 0);d&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var d=!0,e=null!=a&&a+"queueHooks",h=p.timers,m=p._data(this);if(e)m[e]&&m[e].stop&&c(m[e]);else for(e in m)m[e]&&m[e].stop&&Tb.test(e)&&c(m[e]);for(e=h.length;e--;)h[e].elem!==this||null!=a&&h[e].queue!==a||(h[e].anim.stop(b),
d=!1,h.splice(e,1));!d&&b||p.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var d,b=p._data(this),c=b[a+"queue"];d=b[a+"queueHooks"];var e=p.timers,h=c?c.length:0;b.finish=!0;p.queue(this,a,[]);d&&d.stop&&d.stop.call(this,!0);for(d=e.length;d--;)e[d].elem===this&&e[d].queue===a&&(e[d].anim.stop(!0),e.splice(d,1));for(d=0;d<h;d++)c[d]&&c[d].finish&&c[d].finish.call(this);delete b.finish})}});p.each(["toggle","show","hide"],function(a,d){var b=p.fn[d];p.fn[d]=
function(a,c,e){return null==a||"boolean"===typeof a?b.apply(this,arguments):this.animate(P(d,!0),a,c,e)}});p.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,d){p.fn[a]=function(a,b,c){return this.animate(d,a,b,c)}});p.timers=[];p.fx.tick=function(){var a,d=p.timers,b=0;for(Ea=p.now();b<d.length;b++)a=d[b],a()||d[b]!==a||d.splice(b--,1);d.length||p.fx.stop();Ea=void 0};p.fx.timer=function(a){p.timers.push(a);
a()?p.fx.start():p.timers.pop()};p.fx.interval=13;p.fx.start=function(){Wa||(Wa=setInterval(p.fx.tick,p.fx.interval))};p.fx.stop=function(){clearInterval(Wa);Wa=null};p.fx.speeds={slow:600,fast:200,_default:400};p.fn.delay=function(a,d){a=p.fx?p.fx.speeds[a]||a:a;return this.queue(d||"fx",function(d,b){var c=setTimeout(d,a);b.stop=function(){clearTimeout(c)}})};(function(){var a,d,b,c,e;d=E.createElement("div");d.setAttribute("className","t");d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
c=d.getElementsByTagName("a")[0];b=E.createElement("select");e=b.appendChild(E.createElement("option"));a=d.getElementsByTagName("input")[0];c.style.cssText="top:1px";D.getSetAttribute="t"!==d.className;D.style=/top/.test(c.getAttribute("style"));D.hrefNormalized="/a"===c.getAttribute("href");D.checkOn=!!a.value;D.optSelected=e.selected;D.enctype=!!E.createElement("form").enctype;b.disabled=!0;D.optDisabled=!e.disabled;a=E.createElement("input");a.setAttribute("value","");D.input=""===a.getAttribute("value");
a.value="t";a.setAttribute("type","radio");D.radioValue="t"===a.value})();var Ub=/\r/g;p.fn.extend({val:function(a){var d,b,c,e=this[0];if(arguments.length)return c=p.isFunction(a),this.each(function(b){1===this.nodeType&&(b=c?a.call(this,b,p(this).val()):a,null==b?b="":"number"===typeof b?b+="":p.isArray(b)&&(b=p.map(b,function(a){return null==a?"":a+""})),d=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&void 0!==d.set(this,b,"value")||(this.value=b))});if(e){if((d=
p.valHooks[e.type]||p.valHooks[e.nodeName.toLowerCase()])&&"get"in d&&void 0!==(b=d.get(e,"value")))return b;b=e.value;return"string"===typeof b?b.replace(Ub,""):null==b?"":b}}});p.extend({valHooks:{option:{get:function(a){var d=p.find.attr(a,"value");return null!=d?d:p.trim(p.text(a))}},select:{get:function(a){for(var d,b=a.options,c=a.selectedIndex,e=(a="select-one"===a.type||0>c)?null:[],h=a?c+1:b.length,m=0>c?h:a?c:0;m<h;m++)if(d=b[m],!(!d.selected&&m!==c||(D.optDisabled?d.disabled:null!==d.getAttribute("disabled"))||
d.parentNode.disabled&&p.nodeName(d.parentNode,"optgroup"))){d=p(d).val();if(a)return d;e.push(d)}return e},set:function(a,d){for(var b,c,e=a.options,h=p.makeArray(d),m=e.length;m--;)if(c=e[m],0<=p.inArray(p.valHooks.option.get(c),h))try{c.selected=b=!0}catch(l){c.scrollHeight}else c.selected=!1;b||(a.selectedIndex=-1);return e}}}});p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(a,d){if(p.isArray(d))return a.checked=0<=p.inArray(p(a).val(),d)}};D.checkOn||(p.valHooks[this].get=
function(a){return null===a.getAttribute("value")?"on":a.value})});var Ja,ub,xa=p.expr.attrHandle,fb=/^(?:checked|selected)$/i,Ba=D.getSetAttribute,Xa=D.input;p.fn.extend({attr:function(a,d){return sa(this,p.attr,a,d,1<arguments.length)},removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})}});p.extend({attr:function(a,d,b){var c,e,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h){if("undefined"===typeof a.getAttribute)return p.prop(a,d,b);1===h&&p.isXMLDoc(a)||(d=d.toLowerCase(),c=p.attrHooks[d]||
(p.expr.match.bool.test(d)?ub:Ja));if(void 0!==b)if(null===b)p.removeAttr(a,d);else{if(c&&"set"in c&&void 0!==(e=c.set(a,b,d)))return e;a.setAttribute(d,b+"");return b}else{if(c&&"get"in c&&null!==(e=c.get(a,d)))return e;e=p.find.attr(a,d);return null==e?void 0:e}}},removeAttr:function(a,d){var b,c,e=0,h=d&&d.match(Y);if(h&&1===a.nodeType)for(;b=h[e++];)c=p.propFix[b]||b,p.expr.match.bool.test(b)?Xa&&Ba||!fb.test(b)?a[c]=!1:a[p.camelCase("default-"+b)]=a[c]=!1:p.attr(a,b,""),a.removeAttribute(Ba?
b:c)},attrHooks:{type:{set:function(a,d){if(!D.radioValue&&"radio"===d&&p.nodeName(a,"input")){var b=a.value;a.setAttribute("type",d);b&&(a.value=b);return d}}}}});ub={set:function(a,d,b){!1===d?p.removeAttr(a,b):Xa&&Ba||!fb.test(b)?a.setAttribute(!Ba&&p.propFix[b]||b,b):a[p.camelCase("default-"+b)]=a[b]=!0;return b}};p.each(p.expr.match.bool.source.match(/\w+/g),function(a,d){var b=xa[d]||p.find.attr;xa[d]=Xa&&Ba||!fb.test(d)?function(a,d,c){var e,h;c||(h=xa[d],xa[d]=e,e=null!=b(a,d,c)?d.toLowerCase():
null,xa[d]=h);return e}:function(a,d,b){if(!b)return a[p.camelCase("default-"+d)]?d.toLowerCase():null}});Xa&&Ba||(p.attrHooks.value={set:function(a,d,b){if(p.nodeName(a,"input"))a.defaultValue=d;else return Ja&&Ja.set(a,d,b)}});Ba||(Ja={set:function(a,d,b){var c=a.getAttributeNode(b);c||a.setAttributeNode(c=a.ownerDocument.createAttribute(b));c.value=d+="";if("value"===b||d===a.getAttribute(b))return d}},xa.id=xa.name=xa.coords=function(a,d,b){var c;if(!b)return(c=a.getAttributeNode(d))&&""!==c.value?
c.value:null},p.valHooks.button={get:function(a,d){var b=a.getAttributeNode(d);if(b&&b.specified)return b.value},set:Ja.set},p.attrHooks.contenteditable={set:function(a,d,b){Ja.set(a,""===d?!1:d,b)}},p.each(["width","height"],function(a,d){p.attrHooks[d]={set:function(a,b){if(""===b)return a.setAttribute(d,"auto"),b}}}));D.style||(p.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,d){return a.style.cssText=d+""}});var Vb=/^(?:input|select|textarea|button|object)$/i,
Wb=/^(?:a|area)$/i;p.fn.extend({prop:function(a,d){return sa(this,p.prop,a,d,1<arguments.length)},removeProp:function(a){a=p.propFix[a]||a;return this.each(function(){try{this[a]=void 0,delete this[a]}catch(d){}})}});p.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,d,b){var c,e,h;h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h){if(h=1!==h||!p.isXMLDoc(a))d=p.propFix[d]||d,e=p.propHooks[d];return void 0!==b?e&&"set"in e&&void 0!==(c=e.set(a,b,d))?c:a[d]=b:e&&"get"in e&&null!==(c=e.get(a,
d))?c:a[d]}},propHooks:{tabIndex:{get:function(a){var d=p.find.attr(a,"tabindex");return d?parseInt(d,10):Vb.test(a.nodeName)||Wb.test(a.nodeName)&&a.href?0:-1}}}});D.hrefNormalized||p.each(["href","src"],function(a,d){p.propHooks[d]={get:function(a){return a.getAttribute(d,4)}}});D.optSelected||(p.propHooks.selected={get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}});p.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){p.propFix[this.toLowerCase()]=this});D.enctype||(p.propFix.enctype="encoding");var gb=/[\t\r\n\f]/g;p.fn.extend({addClass:function(a){var d,b,c,e,h,m=0,l=this.length;d="string"===typeof a&&a;if(p.isFunction(a))return this.each(function(d){p(this).addClass(a.call(this,d,this.className))});if(d)for(d=(a||"").match(Y)||[];m<l;m++)if(b=this[m],c=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(gb," "):" ")){for(h=0;e=d[h++];)0>c.indexOf(" "+e+" ")&&(c+=e+" ");c=p.trim(c);b.className!==
c&&(b.className=c)}return this},removeClass:function(a){var d,b,c,e,h,m=0,l=this.length;d=0===arguments.length||"string"===typeof a&&a;if(p.isFunction(a))return this.each(function(d){p(this).removeClass(a.call(this,d,this.className))});if(d)for(d=(a||"").match(Y)||[];m<l;m++)if(b=this[m],c=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(gb," "):"")){for(h=0;e=d[h++];)for(;0<=c.indexOf(" "+e+" ");)c=c.replace(" "+e+" "," ");c=a?p.trim(c):"";b.className!==c&&(b.className=c)}return this},
toggleClass:function(a,d){var b=typeof a;return"boolean"===typeof d&&"string"===b?d?this.addClass(a):this.removeClass(a):p.isFunction(a)?this.each(function(b){p(this).toggleClass(a.call(this,b,this.className,d),d)}):this.each(function(){if("string"===b)for(var d,c=0,e=p(this),h=a.match(Y)||[];d=h[c++];)e.hasClass(d)?e.removeClass(d):e.addClass(d);else if("undefined"===b||"boolean"===b)this.className&&p._data(this,"__className__",this.className),this.className=this.className||!1===a?"":p._data(this,
"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var d=0,b=this.length;d<b;d++)if(1===this[d].nodeType&&0<=(" "+this[d].className+" ").replace(gb," ").indexOf(a))return!0;return!1}});p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,d){p.fn[d]=function(a,b){return 0<arguments.length?this.on(d,null,a,b):this.trigger(d)}});
p.fn.extend({hover:function(a,d){return this.mouseenter(a).mouseleave(d||a)},bind:function(a,d,b){return this.on(a,null,d,b)},unbind:function(a,d){return this.off(a,null,d)},delegate:function(a,d,b,c){return this.on(d,a,b,c)},undelegate:function(a,d,b){return 1===arguments.length?this.off(a,"**"):this.off(d,a||"**",b)}});var hb=p.now(),ib=/\?/,Xb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;p.parseJSON=function(a){if(k.JSON&&
k.JSON.parse)return k.JSON.parse(a+"");var d,b=null,c=p.trim(a+"");return c&&!p.trim(c.replace(Xb,function(a,c,e,h){d&&c&&(b=0);if(0===b)return a;d=e||c;b+=!h-!e;return""}))?Function("return "+c)():p.error("Invalid JSON: "+a)};p.parseXML=function(a){var d,b;if(!a||"string"!==typeof a)return null;try{k.DOMParser?(b=new DOMParser,d=b.parseFromString(a,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a))}catch(c){d=void 0}d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||
p.error("Invalid XML: "+a);return d};var Ca,ya,Yb=/#.*$/,vb=/([?&])_=[^&]*/,Zb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,$b=/^(?:GET|HEAD)$/,ac=/^\/\//,wb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,xb={},$a={},yb="*/".concat("*");try{ya=location.href}catch(hc){ya=E.createElement("a"),ya.href="",ya=ya.href}Ca=wb.exec(ya.toLowerCase())||[];p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ya,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ca[1]),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,d){return d?na(na(a,
p.ajaxSettings),d):na(p.ajaxSettings,a)},ajaxPrefilter:Z(xb),ajaxTransport:Z($a),ajax:function(a,d){function b(a,d,c,e){var g,n,H,t;t=d;if(2!==q){q=2;l&&clearTimeout(l);f=void 0;m=e||"";J.readyState=0<a?4:0;e=200<=a&&300>a||304===a;if(c){H=w;for(var u=J,P,v,W,I,T=H.contents,G=H.dataTypes;"*"===G[0];)G.shift(),void 0===v&&(v=H.mimeType||u.getResponseHeader("Content-Type"));if(v)for(I in T)if(T[I]&&T[I].test(v)){G.unshift(I);break}if(G[0]in c)W=G[0];else{for(I in c){if(!G[0]||H.converters[I+" "+G[0]]){W=
I;break}P||(P=I)}W=W||P}W?(W!==G[0]&&G.unshift(W),H=c[W]):H=void 0}a:{c=w;P=H;v=J;W=e;var fa,L,aa,u={},T=c.dataTypes.slice();if(T[1])for(L in c.converters)u[L.toLowerCase()]=c.converters[L];for(I=T.shift();I;)if(c.responseFields[I]&&(v[c.responseFields[I]]=P),!aa&&W&&c.dataFilter&&(P=c.dataFilter(P,c.dataType)),aa=I,I=T.shift())if("*"===I)I=aa;else if("*"!==aa&&aa!==I){L=u[aa+" "+I]||u["* "+I];if(!L)for(fa in u)if(H=fa.split(" "),H[1]===I&&(L=u[aa+" "+H[0]]||u["* "+H[0]])){!0===L?L=u[fa]:!0!==u[fa]&&
(I=H[0],T.unshift(H[1]));break}if(!0!==L)if(L&&c["throws"])P=L(P);else try{P=L(P)}catch(ga){H={state:"parsererror",error:L?ga:"No conversion from "+aa+" to "+I};break a}}H={state:"success",data:P}}if(e)w.ifModified&&((t=J.getResponseHeader("Last-Modified"))&&(p.lastModified[h]=t),(t=J.getResponseHeader("etag"))&&(p.etag[h]=t)),204===a||"HEAD"===w.type?t="nocontent":304===a?t="notmodified":(t=H.state,g=H.data,n=H.error,e=!n);else if(n=t,a||!t)t="error",0>a&&(a=0);J.status=a;J.statusText=(d||t)+"";
e?z.resolveWith(x,[g,t,J]):z.rejectWith(x,[J,t,n]);J.statusCode(k);k=void 0;r&&C.trigger(e?"ajaxSuccess":"ajaxError",[J,w,e?g:n]);K.fireWith(x,[J,t]);r&&(C.trigger("ajaxComplete",[J,w]),--p.active||p.event.trigger("ajaxStop"))}}"object"===typeof a&&(d=a,a=void 0);d=d||{};var c,e,h,m,l,r,f,g,w=p.ajaxSetup({},d),x=w.context||w,C=w.context&&(x.nodeType||x.jquery)?p(x):p.event,z=p.Deferred(),K=p.Callbacks("once memory"),k=w.statusCode||{},n={},H={},q=0,t="canceled",J={readyState:0,getResponseHeader:function(a){var d;
if(2===q){if(!g)for(g={};d=Zb.exec(m);)g[d[1].toLowerCase()]=d[2];d=g[a.toLowerCase()]}return null==d?null:d},getAllResponseHeaders:function(){return 2===q?m:null},setRequestHeader:function(a,d){var b=a.toLowerCase();q||(a=H[b]=H[b]||a,n[a]=d);return this},overrideMimeType:function(a){q||(w.mimeType=a);return this},statusCode:function(a){var d;if(a)if(2>q)for(d in a)k[d]=[k[d],a[d]];else J.always(a[J.status]);return this},abort:function(a){a=a||t;f&&f.abort(a);b(0,a);return this}};z.promise(J).complete=
K.add;J.success=J.done;J.error=J.fail;w.url=((a||w.url||ya)+"").replace(Yb,"").replace(ac,Ca[1]+"//");w.type=d.method||d.type||w.method||w.type;w.dataTypes=p.trim(w.dataType||"*").toLowerCase().match(Y)||[""];null==w.crossDomain&&(c=wb.exec(w.url.toLowerCase()),w.crossDomain=!(!c||c[1]===Ca[1]&&c[2]===Ca[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(Ca[3]||("http:"===Ca[1]?"80":"443"))));w.data&&w.processData&&"string"!==typeof w.data&&(w.data=p.param(w.data,w.traditional));L(xb,w,d,J);if(2===q)return J;
(r=p.event&&w.global)&&0===p.active++&&p.event.trigger("ajaxStart");w.type=w.type.toUpperCase();w.hasContent=!$b.test(w.type);h=w.url;w.hasContent||(w.data&&(h=w.url+=(ib.test(h)?"&":"?")+w.data,delete w.data),!1===w.cache&&(w.url=vb.test(h)?h.replace(vb,"$1_="+hb++):h+(ib.test(h)?"&":"?")+"_="+hb++));w.ifModified&&(p.lastModified[h]&&J.setRequestHeader("If-Modified-Since",p.lastModified[h]),p.etag[h]&&J.setRequestHeader("If-None-Match",p.etag[h]));(w.data&&w.hasContent&&!1!==w.contentType||d.contentType)&&
J.setRequestHeader("Content-Type",w.contentType);J.setRequestHeader("Accept",w.dataTypes[0]&&w.accepts[w.dataTypes[0]]?w.accepts[w.dataTypes[0]]+("*"!==w.dataTypes[0]?", "+yb+"; q=0.01":""):w.accepts["*"]);for(e in w.headers)J.setRequestHeader(e,w.headers[e]);if(w.beforeSend&&(!1===w.beforeSend.call(x,J,w)||2===q))return J.abort();t="abort";for(e in{success:1,error:1,complete:1})J[e](w[e]);if(f=L($a,w,d,J)){J.readyState=1;r&&C.trigger("ajaxSend",[J,w]);w.async&&0<w.timeout&&(l=setTimeout(function(){J.abort("timeout")},
w.timeout));try{q=1,f.send(n,b)}catch(u){if(2>q)b(-1,u);else throw u;}}else b(-1,"No Transport");return J},getJSON:function(a,d,b){return p.get(a,d,b,"json")},getScript:function(a,d){return p.get(a,void 0,d,"script")}});p.each(["get","post"],function(a,d){p[d]=function(a,b,c,e){p.isFunction(b)&&(e=e||c,c=b,b=void 0);return p.ajax({url:a,type:d,dataType:e,data:b,success:c})}});p._evalUrl=function(a){return p.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};p.fn.extend({wrapAll:function(a){if(p.isFunction(a))return this.each(function(d){p(this).wrapAll(a.call(this,
d))});if(this[0]){var d=p(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&d.insertBefore(this[0]);d.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return p.isFunction(a)?this.each(function(d){p(this).wrapInner(a.call(this,d))}):this.each(function(){var d=p(this),b=d.contents();b.length?b.wrapAll(a):d.append(a)})},wrap:function(a){var d=p.isFunction(a);return this.each(function(b){p(this).wrapAll(d?
a.call(this,b):a)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()}});p.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!D.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||p.css(a,"display"))};p.expr.filters.visible=function(a){return!p.expr.filters.hidden(a)};var bc=/%20/g,Gb=/\[\]$/,zb=/\r?\n/g,cc=/^(?:submit|button|image|reset|file)$/i,dc=/^(?:input|select|textarea|keygen)/i;p.param=
function(a,d){var b,c=[],e=function(a,d){d=p.isFunction(d)?d():null==d?"":d;c[c.length]=encodeURIComponent(a)+"="+encodeURIComponent(d)};void 0===d&&(d=p.ajaxSettings&&p.ajaxSettings.traditional);if(p.isArray(a)||a.jquery&&!p.isPlainObject(a))p.each(a,function(){e(this.name,this.value)});else for(b in a)M(b,a[b],d,e);return c.join("&").replace(bc,"+")};p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=p.prop(this,"elements");
return a?p.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!p(this).is(":disabled")&&dc.test(this.nodeName)&&!cc.test(a)&&(this.checked||!Ka.test(a))}).map(function(a,d){var b=p(this).val();return null==b?null:p.isArray(b)?p.map(b,function(a){return{name:d.name,value:a.replace(zb,"\r\n")}}):{name:d.name,value:b.replace(zb,"\r\n")}}).get()}});p.ajaxSettings.xhr=void 0!==k.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&
Ra()))a:{try{a=new k.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}a=void 0}return a}:Ra;var ec=0,Ya={},Za=p.ajaxSettings.xhr();k.attachEvent&&k.attachEvent("onunload",function(){for(var a in Ya)Ya[a](void 0,!0)});D.cors=!!Za&&"withCredentials"in Za;(Za=D.ajax=!!Za)&&p.ajaxTransport(function(a){if(!a.crossDomain||D.cors){var d;return{send:function(b,c){var e,h=a.xhr(),m=++ec;h.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(e in a.xhrFields)h[e]=a.xhrFields[e];a.mimeType&&
h.overrideMimeType&&h.overrideMimeType(a.mimeType);a.crossDomain||b["X-Requested-With"]||(b["X-Requested-With"]="XMLHttpRequest");for(e in b)void 0!==b[e]&&h.setRequestHeader(e,b[e]+"");h.send(a.hasContent&&a.data||null);d=function(b,e){var l,r,f;if(d&&(e||4===h.readyState))if(delete Ya[m],d=void 0,h.onreadystatechange=p.noop,e)4!==h.readyState&&h.abort();else{f={};l=h.status;"string"===typeof h.responseText&&(f.text=h.responseText);try{r=h.statusText}catch(w){r=""}l||!a.isLocal||a.crossDomain?1223===
l&&(l=204):l=f.text?200:404}f&&c(l,r,f,h.getAllResponseHeaders())};a.async?4===h.readyState?setTimeout(d):h.onreadystatechange=Ya[m]=d:d()},abort:function(){d&&d(void 0,!0)}}}});p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){p.globalEval(a);return a}}});p.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET",
a.global=!1)});p.ajaxTransport("script",function(a){if(a.crossDomain){var d,b=E.head||p("head")[0]||E.documentElement;return{send:function(c,e){d=E.createElement("script");d.async=!0;a.scriptCharset&&(d.charset=a.scriptCharset);d.src=a.url;d.onload=d.onreadystatechange=function(a,b){if(b||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),d=null,b||e(200,"success")};b.insertBefore(d,b.firstChild)},abort:function(){if(d)d.onload(void 0,
!0)}}}});var Ab=[],jb=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Ab.pop()||p.expando+"_"+hb++;this[a]=!0;return a}});p.ajaxPrefilter("json jsonp",function(a,d,b){var c,e,h,m=!1!==a.jsonp&&(jb.test(a.url)?"url":"string"===typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&jb.test(a.data)&&"data");if(m||"jsonp"===a.dataTypes[0])return c=a.jsonpCallback=p.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,m?a[m]=a[m].replace(jb,
"$1"+c):!1!==a.jsonp&&(a.url+=(ib.test(a.url)?"&":"?")+a.jsonp+"="+c),a.converters["script json"]=function(){h||p.error(c+" was not called");return h[0]},a.dataTypes[0]="json",e=k[c],k[c]=function(){h=arguments},b.always(function(){k[c]=e;a[c]&&(a.jsonpCallback=d.jsonpCallback,Ab.push(c));h&&p.isFunction(e)&&e(h[0]);h=e=void 0}),"script"});p.parseHTML=function(a,d,b){if(!a||"string"!==typeof a)return null;"boolean"===typeof d&&(b=d,d=!1);d=d||E;var c=ma.exec(a);b=!b&&[];if(c)return[d.createElement(c[1])];
c=p.buildFragment([a],d,b);b&&b.length&&p(b).remove();return p.merge([],c.childNodes)};var Bb=p.fn.load;p.fn.load=function(a,d,b){if("string"!==typeof a&&Bb)return Bb.apply(this,arguments);var c,e,h,m=this,l=a.indexOf(" ");0<=l&&(c=p.trim(a.slice(l,a.length)),a=a.slice(0,l));p.isFunction(d)?(b=d,d=void 0):d&&"object"===typeof d&&(h="POST");0<m.length&&p.ajax({url:a,type:h,dataType:"html",data:d}).done(function(a){e=arguments;m.html(c?p("<div>").append(p.parseHTML(a)).find(c):a)}).complete(b&&function(a,
d){m.each(b,e||[a.responseText,d,a])});return this};p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,d){p.fn[d]=function(a){return this.on(d,a)}});p.expr.filters.animated=function(a){return p.grep(p.timers,function(d){return a===d.elem}).length};var Cb=k.document.documentElement;p.offset={setOffset:function(a,d,b){var c,e,h,m=p.css(a,"position"),l=p(a),r={};"static"===m&&(a.style.position="relative");h=l.offset();e=p.css(a,"top");c=p.css(a,"left");("absolute"===
m||"fixed"===m)&&-1<p.inArray("auto",[e,c])?(c=l.position(),e=c.top,c=c.left):(e=parseFloat(e)||0,c=parseFloat(c)||0);p.isFunction(d)&&(d=d.call(a,b,h));null!=d.top&&(r.top=d.top-h.top+e);null!=d.left&&(r.left=d.left-h.left+c);"using"in d?d.using.call(a,r):l.css(r)}};p.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(d){p.offset.setOffset(this,a,d)});var d,b,c={top:0,left:0},e=(b=this[0])&&b.ownerDocument;if(e){d=e.documentElement;if(!p.contains(d,b))return c;
"undefined"!==typeof b.getBoundingClientRect&&(c=b.getBoundingClientRect());b=ca(e);return{top:c.top+(b.pageYOffset||d.scrollTop)-(d.clientTop||0),left:c.left+(b.pageXOffset||d.scrollLeft)-(d.clientLeft||0)}}},position:function(){if(this[0]){var a,d,b={top:0,left:0},c=this[0];"fixed"===p.css(c,"position")?d=c.getBoundingClientRect():(a=this.offsetParent(),d=this.offset(),p.nodeName(a[0],"html")||(b=a.offset()),b.top+=p.css(a[0],"borderTopWidth",!0),b.left+=p.css(a[0],"borderLeftWidth",!0));return{top:d.top-
b.top-p.css(c,"marginTop",!0),left:d.left-b.left-p.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Cb;a&&!p.nodeName(a,"html")&&"static"===p.css(a,"position");)a=a.offsetParent;return a||Cb})}});p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,d){var b=/Y/.test(d);p.fn[a]=function(c){return sa(this,function(a,c,e){var h=ca(a);if(void 0===e)return h?d in h?h[d]:h.document.documentElement[c]:a[c];h?h.scrollTo(b?p(h).scrollLeft():
e,b?e:p(h).scrollTop()):a[c]=e},a,c,arguments.length,null)}});p.each(["top","left"],function(a,d){p.cssHooks[d]=w(D.pixelPosition,function(a,b){if(b)return b=Aa(a,d),Pa.test(b)?p(a).position()[d]+"px":b})});p.each({Height:"height",Width:"width"},function(a,d){p.each({padding:"inner"+a,content:d,"":"outer"+a},function(b,c){p.fn[c]=function(c,e){var h=arguments.length&&(b||"boolean"!==typeof c),m=b||(!0===c||!0===e?"margin":"border");return sa(this,function(d,b,c){return p.isWindow(d)?d.document.documentElement["client"+
a]:9===d.nodeType?(b=d.documentElement,Math.max(d.body["scroll"+a],b["scroll"+a],d.body["offset"+a],b["offset"+a],b["client"+a])):void 0===c?p.css(d,b,m):p.style(d,b,c,m)},d,h?c:void 0,h,null)}})});p.fn.size=function(){return this.length};p.fn.andSelf=p.fn.addBack;"function"===typeof define&&define.amd&&define("jquery",[],function(){return p});var fc=k.jQuery,gc=k.$;p.noConflict=function(a){k.$===p&&(k.$=gc);a&&k.jQuery===p&&(k.jQuery=fc);return p};"undefined"===typeof q&&(k.jQuery=k.$=p);return p});var UestcNews={js:{}};UestcNews.js.SpecialSlider={};
$(function(){var k=0,q=$("#slide_list").find("li").length,n=function(n){$("#slide_list").find("li").hide();$($("#slide_list").find("li")[n]).fadeIn();$("#slide_body .bar li").removeClass("on");$($("#slide_body .bar li")[n]).addClass("on");k=n};n(0);for(var v=function(){k=k==q-1?0:k+1;n(k)},t=0;t<q;t++)(function(k){$("#slide_body .bar li").eq(k).on("click",function(){n(k)})})(t);var y=setInterval(function(){v()},5E3),F=!0;$("#go").on("click",function(){F?(clearInterval(y),$(this).removeClass("play").addClass("stop"),
F=!1):(y=setInterval(function(){v()},5E3),$(this).removeClass("stop").addClass("play"),F=!0)})});
$(function(){return $.fn.specialSlider=function(k,q,n,v){k.find&&(k=$(k));q.find&&(q=$(q));var t=k.find(".goLeft"),y=k.find(".goRight"),F=k.find(".item"),u=k.find("ul"),da=F.size(),A=da*n,ka=n*v;F.eq(0).addClass("current");da>v&&(u.css("width",A),y.addClass("can-click-right"),t.on("click",function(){var k=parseInt(u.css("left"));0!=k?(k+=ka,u.stop(!0,!0).animate({left:k+"px"}),y.addClass("can-click-right")):$(this).removeClass("can-click-left")}),console.log(3),y.on("click",function(){var k=parseInt(u.css("left"));
A+k>ka?(k-=ka,u.stop(!0,!0).animate({left:k+"px"}),t.addClass("can-click-left")):$(this).removeClass("can-click-right")}));$("#Niko_showImg_div").css("height",$("#Niko_showImg").height()+"px");F.on("click",function(){var n=$("#Niko_showImg_div"),g=$("#special_image_desc");$(this).attr("data-href")&&(q[0].src=$(this).attr("data-href"),q[0].onload=function(){n.stop(!0,!0).animate({height:$("#Niko_showImg").height()+"px"})});$(this).attr("data-desc")&&g.html($(this).attr("data-desc"));k.find("li.current").removeClass("current");
$(this).addClass("current")})}});plugin.ueditorFront={};plugin.ueditorFront.UeditorConfig={};
(function(){window.UEDITOR_CONFIG={UEDITOR_HOME_URL:"/public/plugin/ueditorFront/",serverUrl:"/?n=UestcNews.Front.Upload.UeditorInterface",toolbars:["source | undo redo | removeformat formatmatch autotypeset blockquote fullscreen print superscript subscript".split(" "),"insertimage imagenone imageleft imageright imagecenter | inserttable deletetable insertparagraphbeforetable insertrow deleterow insertcol deletecol mergecells mergeright mergedown splittocells splittorows splittocols charts | link unlink | spechars map".split(" "),"justifyleft justifycenter justifyright justifyjustify | directionalityltr directionalityrtl indent | rowspacingtop rowspacingbottom lineheight".split(" "),
"fontfamily fontsize bold italic underline fontborder strikethrough | forecolor backcolor insertorderedlist insertunorderedlist selectall cleardoc attachment".split(" ")],initialFrameWidth:645,initialFrameHeight:320,initialStyle:"body{font-size:14px; font-family: \u5b8b\u4f53;} p{line-height:24px;padding-top:15px;margin:0;word-wrap: break-word;word-break: break-word;} "};window.UE={getUEBasePath:function(k,q){var n=k||self.document.URL||self.location.href,v;(v=q)||(v=document.getElementsByTagName("script"),
v=v[v.length-1].src);var t=v;/^(\/|\\\\)/.test(v)?t=/^.+?\w(\/|\\\\)/.exec(n)[0]+v.replace(/^(\/|\\\\)/,""):/^[a-z]+:/i.test(v)||(n=n.split("#")[0].split("?")[0].replace(/[^\\\/]+$/,""),t=n+""+v);n=t;v=/^[a-z]+:\/\//.exec(n)[0];var t=null,y=[],n=n.replace(v,"").split("?")[0].split("#")[0],n=n.replace(/\\/g,"/").split(/\//);for(n[n.length-1]="";n.length;)".."===(t=n.shift())?y.pop():"."!==t&&y.push(t);return v+y.join("/")}}})();plugin.ueditorFront.UeditorAll={};
(function(){function k(f,c,e){var a;c=c.toLowerCase();return(a=f.__allListeners||e&&(f.__allListeners={}))&&(a[c]||e&&(a[c]=[]))}function q(f,c,e,a,b,l){a=a&&f[c];var d;for(!a&&(a=f[e]);!a&&(d=(d||f).parentNode);){if("BODY"==d.tagName||l&&!l(d))return null;a=d[e]}return a&&b&&!b(a)?q(a,c,e,!1,b):a}UEDITOR_CONFIG=window.UEDITOR_CONFIG||{};var n=window.baidu||{};window.baidu=n;window.UE=n.editor=window.UE||{};UE.plugins={};UE.commands={};UE.instants={};UE.I18N={};UE._customizeUI={};UE.version="1.4.2";
var v=UE.dom={},t=UE.browser=function(){var f=navigator.userAgent.toLowerCase(),c=window.opera,e={ie:/(msie\s|trident.*rv:)([\w.]+)/.test(f),opera:!!c&&c.version,webkit:-1<f.indexOf(" applewebkit/"),mac:-1<f.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode};e.gecko="Gecko"==navigator.product&&!e.webkit&&!e.opera&&!e.ie;var a=0;if(e.ie){var a=f.match(/(?:msie\s([\w.]+))/),b=f.match(/(?:trident.*rv:([\w.]+))/),a=a&&b&&a[1]&&b[1]?Math.max(1*a[1],1*b[1]):a&&a[1]?1*a[1]:b&&b[1]?1*b[1]:0;e.ie11Compat=
11==document.documentMode;e.ie9Compat=9==document.documentMode;e.ie8=!!document.documentMode;e.ie8Compat=8==document.documentMode;e.ie7Compat=7==a&&!document.documentMode||7==document.documentMode;e.ie6Compat=7>a||e.quirks;e.ie9above=8<a;e.ie9below=9>a;e.ie11above=10<a;e.ie11below=11>a}e.gecko&&(b=f.match(/rv:([\d\.]+)/))&&(b=b[1].split("."),a=1E4*b[0]+100*(b[1]||0)+1*(b[2]||0));/chrome\/(\d+\.\d)/i.test(f)&&(e.chrome=+RegExp.$1);/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(f)&&!/chrome/i.test(f)&&
(e.safari=+(RegExp.$1||RegExp.$2));e.opera&&(a=parseFloat(c.version()));e.webkit&&(a=parseFloat(f.match(/ applewebkit\/(\d+)/)[1]));e.version=a;e.isCompatible=!e.mobile&&(e.ie&&6<=a||e.gecko&&10801<=a||e.opera&&9.5<=a||e.air&&1<=a||e.webkit&&522<=a||!1);return e}(),y=t.ie,F=t.opera,u=UE.utils={each:function(f,c,e){if(null!=f)if(f.length===+f.length)for(var a=0,b=f.length;a<b;a++){if(!1===c.call(e,f[a],a,f))return!1}else for(a in f)if(f.hasOwnProperty(a)&&!1===c.call(e,f[a],a,f))return!1},makeInstance:function(f){var c=
new Function;c.prototype=f;f=new c;c.prototype=null;return f},extend:function(f,c,e){if(c)for(var a in c)e&&f.hasOwnProperty(a)||(f[a]=c[a]);return f},extend2:function(f){for(var c=arguments,e=1;e<c.length;e++){var a=c[e],b;for(b in a)f.hasOwnProperty(b)||(f[b]=a[b])}return f},inherits:function(f,c){var e=f.prototype,a=u.makeInstance(c.prototype);u.extend(a,e,!0);f.prototype=a;return a.constructor=f},bind:function(f,c){return function(){return f.apply(c,arguments)}},defer:function(f,c,e){var a;return function(){e&&
clearTimeout(a);a=setTimeout(f,c)}},indexOf:function(f,c,e){var a=-1;e=this.isNumber(e)?e:0;this.each(f,function(b,l){if(l>=e&&b===c)return a=l,!1});return a},removeItem:function(f,c){for(var e=0,a=f.length;e<a;e++)f[e]===c&&(f.splice(e,1),e--)},trim:function(f){return f.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},listToMap:function(f){if(!f)return{};f=u.isArray(f)?f:f.split(",");for(var c=0,e,a={};e=f[c++];)a[e.toUpperCase()]=a[e]=1;return a},unhtml:function(f,c){return f?f.replace(c||/[&<">'](?:(amp|lt|quot|gt|#39|nbsp);)?/g,
function(c,a){return a?c:{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[c]}):""},html:function(f){return f?f.replace(/&((g|l|quo)t|amp|#39|nbsp);/g,function(c){return{"&lt;":"<","&amp;":"&","&quot;":'"',"&gt;":">","&#39;":"'","&nbsp;":" "}[c]}):""},cssStyleToDomStyle:function(){var f=document.createElement("div").style,c={"float":void 0!=f.cssFloat?"cssFloat":void 0!=f.styleFloat?"styleFloat":"float"};return function(e){return c[e]||(c[e]=e.toLowerCase().replace(/-./g,function(a){return a.charAt(1).toUpperCase()}))}}(),
loadFile:function(){function f(e,a){try{for(var b=0,l;l=c[b++];)if(l.doc===e&&l.url==(a.src||a.href))return l}catch(d){return null}}var c=[];return function(e,a,b){var l=f(e,a);if(l)l.ready?b&&b():l.funs.push(b);else if(c.push({doc:e,url:a.src||a.href,funs:[b]}),!e.body){b=[];for(var d in a)"tag"!=d&&b.push(d+'="'+a[d]+'"');e.write("<"+a.tag+" "+b.join(" ")+" ></"+a.tag+">")}else if(!a.id||!e.getElementById(a.id)){var h=e.createElement(a.tag);delete a.tag;for(d in a)h.setAttribute(d,a[d]);h.onload=
h.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){l=f(e,a);if(0<l.funs.length){l.ready=1;for(var d;d=l.funs.pop();)d()}h.onload=h.onreadystatechange=null}};h.onerror=function(){throw Error("The load "+(a.href||a.src)+" fails,check the url settings of file ueditor.config.js ");};e.getElementsByTagName("head")[0].appendChild(h)}}}(),isEmptyObject:function(f){if(null==f)return!0;if(this.isArray(f)||this.isString(f))return 0===f.length;for(var c in f)if(f.hasOwnProperty(c))return!1;
return!0},fixColor:function(f,c){if(/color/i.test(f)&&/rgba?/.test(c)){var e=c.split(",");if(3<e.length)return"";c="#";for(var a=0,b;b=e[a++];)b=parseInt(b.replace(/[^\d]/gi,""),10).toString(16),c+=1==b.length?"0"+b:b;c=c.toUpperCase()}return c},optCss:function(f){function c(a,c){if(!a)return"";var d=a.top,e=a.bottom,m=a.left,f=a.right,r="";if(d&&m&&e&&f)r+=";"+c+":"+(d==e&&e==m&&m==f?d:d==e&&m==f?d+" "+m:m==f?d+" "+m+" "+e:d+" "+f+" "+e+" "+m)+";";else for(var g in a)r+=";"+c+"-"+g+":"+a[g]+";";
return r}var e,a;f=f.replace(/(padding|margin|border)\-([^:]+):([^;]+);?/gi,function(b,c,d,h){if(1==h.split(" ").length)switch(c){case "padding":return!e&&(e={}),e[d]=h,"";case "margin":return!a&&(a={}),a[d]=h,"";case "border":return"initial"==h?"":b}return b});f+=c(e,"padding")+c(a,"margin");return f.replace(/^[ \n\r\t;]*|[ \n\r\t]*$/,"").replace(/;([ \n\r\t]+)|\1;/g,";").replace(/(&((l|g)t|quot|#39))?;{2,}/g,function(a,c){return c?c+";;":";"})},clone:function(f,c){var e;c=c||{};for(var a in f)f.hasOwnProperty(a)&&
(e=f[a],"object"==typeof e?(c[a]=u.isArray(e)?[]:{},u.clone(f[a],c[a])):c[a]=e);return c},transUnitToPx:function(f){if(!/(pt|cm)/.test(f))return f;var c;f.replace(/([\d.]+)(\w+)/,function(e,a,b){f=a;c=b});switch(c){case "cm":f=25*parseFloat(f);break;case "pt":f=Math.round(96*parseFloat(f)/72)}return f+(f?"px":"")},domReady:function(){function f(e){for(e.isReady=!0;e=c.pop();e());}var c=[];return function(e,a){a=a||window;var b=a.document;e&&c.push(e);"complete"===b.readyState?f(b):(b.isReady&&f(b),
t.ie&&11!=t.version?(function(){if(!b.isReady){try{b.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}f(b)}}(),a.attachEvent("onload",function(){f(b)})):(b.addEventListener("DOMContentLoaded",function(){b.removeEventListener("DOMContentLoaded",arguments.callee,!1);f(b)},!1),a.addEventListener("load",function(){f(b)},!1)))}}(),cssRule:t.ie&&11!=t.version?function(f,c,e){var a,b;if(void 0===c||c&&c.nodeType&&9==c.nodeType){if(e=c&&c.nodeType&&9==c.nodeType?c:e||document,
a=e.indexList||(e.indexList={}),b=a[f],void 0!==b)return e.styleSheets[b].cssText}else{e=e||document;a=e.indexList||(e.indexList={});b=a[f];if(""===c)return void 0!==b?(e.styleSheets[b].cssText="",delete a[f],!0):!1;void 0!==b?sheetStyle=e.styleSheets[b]:(sheetStyle=e.createStyleSheet("",b=e.styleSheets.length),a[f]=b);sheetStyle.cssText=c}}:function(f,c,e){var a;if(void 0===c||c&&c.nodeType&&9==c.nodeType)return e=c&&c.nodeType&&9==c.nodeType?c:e||document,(a=e.getElementById(f))?a.innerHTML:void 0;
e=e||document;a=e.getElementById(f);if(""===c)return a?(a.parentNode.removeChild(a),!0):!1;a?a.innerHTML=c:(a=e.createElement("style"),a.id=f,a.innerHTML=c,e.getElementsByTagName("head")[0].appendChild(a))},sort:function(f,c){c=c||function(a,d){return a.localeCompare(d)};for(var e=0,a=f.length;e<a;e++)for(var b=e,l=f.length;b<l;b++)if(0<c(f[e],f[b])){var d=f[e];f[e]=f[b];f[b]=d}return f},serializeParam:function(f){var c=[],e;for(e in f)if("method"!=e&&"timeout"!=e&&"async"!=e)if("function"!=(typeof f[e]).toLowerCase()&&
"object"!=(typeof f[e]).toLowerCase())c.push(encodeURIComponent(e)+"="+encodeURIComponent(f[e]));else if(u.isArray(f[e]))for(var a=0;a<f[e].length;a++)c.push(encodeURIComponent(e)+"[]="+encodeURIComponent(f[e][a]));return c.join("&")},formatUrl:function(f){f=f.replace(/&&/g,"&");f=f.replace(/\?&/g,"?");f=f.replace(/&$/g,"");f=f.replace(/&#/g,"#");return f=f.replace(/&+/g,"&")},isCrossDomainUrl:function(f){var c=document.createElement("a");c.href=f;t.ie&&(c.href=c.href);return!(c.protocol==location.protocol&&
c.hostname==location.hostname&&(c.port==location.port||"80"==c.port&&""==location.port||""==c.port&&"80"==location.port))},clearEmptyAttrs:function(f){for(var c in f)""===f[c]&&delete f[c];return f},str2json:function(f){return u.isString(f)?window.JSON?JSON.parse(f):(new Function("return "+u.trim(f||"")))():null},json2str:function(){if(window.JSON)return JSON.stringify;var f=function(a){return 10>a?"0"+a:a},c=function(a){/["\\\x00-\x1f]/.test(a)&&(a=a.replace(/["\\\x00-\x1f]/g,function(a){var c=e[a];
if(c)return c;c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)}));return'"'+a+'"'},e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return function(a){switch(typeof a){case "undefined":return"undefined";case "number":return isFinite(a)?String(a):"null";case "string":return c(a);case "boolean":return String(a);default:if(null===a)return"null";if(u.isArray(a)){var b=["["],e=a.length,d,h,m;for(h=0;h<e;h++)switch(m=a[h],typeof m){case "undefined":case "function":case "unknown":break;
default:d&&b.push(","),b.push(u.json2str(m)),d=1}b.push("]");return b.join("")}if(u.isArray(a))return'"'+a.getFullYear()+"-"+f(a.getMonth()+1)+"-"+f(a.getDate())+"T"+f(a.getHours())+":"+f(a.getMinutes())+":"+f(a.getSeconds())+'"';d=["{"];h=u.json2str;for(e in a)if(Object.prototype.hasOwnProperty.call(a,e))switch(m=a[e],typeof m){case "undefined":case "unknown":case "function":break;default:b&&d.push(","),b=1,d.push(h(e)+":"+h(m))}d.push("}");return d.join("")}}}()};u.each("String Function Array Number RegExp Object Date".split(" "),
function(f){UE.utils["is"+f]=function(c){return Object.prototype.toString.apply(c)=="[object "+f+"]"}});var da=UE.EventBase=function(){};da.prototype={addListener:function(f,c){f=u.trim(f).split(/\s+/);for(var e=0,a;a=f[e++];)k(this,a,!0).push(c)},on:function(f,c){return this.addListener(f,c)},off:function(f,c){return this.removeListener(f,c)},trigger:function(){return this.fireEvent.apply(this,arguments)},removeListener:function(f,c){f=u.trim(f).split(/\s+/);for(var e=0,a;a=f[e++];)u.removeItem(k(this,
a)||[],c)},fireEvent:function(){for(var f=arguments[0],f=u.trim(f).split(" "),c=0,e;e=f[c++];){var a=k(this,e),b,l,d;if(a)for(d=a.length;d--;)if(a[d]){l=a[d].apply(this,arguments);if(!0===l)return l;void 0!==l&&(b=l)}if(l=this["on"+e.toLowerCase()])b=l.apply(this,arguments)}return b}};var A=v.dtd=function(){function f(a){for(var d in a)a[d.toUpperCase()]=a[d];return a}var c=u.extend2,e=f({isindex:1,fieldset:1}),a=f({input:1,button:1,select:1,textarea:1,label:1}),b=c(f({a:1}),a),l=c({iframe:1},b),
d=f({hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1}),h=f({ins:1,del:1,script:1,style:1}),m=c(f({b:1,acronym:1,bdo:1,"var":1,"#":1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1}),h),w=c(f({sub:1,img:1,embed:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1}),m),r=c(f({p:1}),w),a=c(f({iframe:1}),w,a),w=f({img:1,embed:1,noscript:1,br:1,kbd:1,center:1,
button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,"#":1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,"var":1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1}),g=c(f({a:0}),a),z=f({tr:1}),C=f({"#":1}),K=c(f({param:1}),w),k=c(f({form:1}),e,l,d,r),
n=f({li:1,ol:1,ul:1}),q=f({style:1,script:1}),t=f({base:1,link:1,meta:1,title:1}),q=c(t,q),v=f({head:1,body:1}),T=f({html:1}),Z=f({address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1}),L=f({area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1});return f({$nonBodyContent:c(T,v,t),$block:Z,$inline:g,$inlineWithA:c(f({a:1}),
g),$body:c(f({script:1,style:1}),Z),$cdata:f({script:1,style:1}),$empty:L,$nonChild:f({iframe:1,textarea:1}),$listItem:f({dd:1,dt:1,li:1}),$list:f({ul:1,ol:1,dl:1}),$isNotEmpty:f({table:1,ul:1,ol:1,dl:1,iframe:1,area:1,base:1,col:1,hr:1,img:1,embed:1,input:1,link:1,meta:1,param:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1}),$removeEmpty:f({a:1,abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,
u:1,"var":1}),$removeEmptyBlock:f({p:1,div:1}),$tableContent:f({caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1,table:1}),$notTransContent:f({pre:1,script:1,style:1,textarea:1}),html:v,head:q,style:C,script:C,body:k,base:{},link:{},meta:{},title:C,col:{},tr:f({td:1,th:1}),img:{},embed:{},colgroup:f({thead:1,col:1,tbody:1,tr:1,tfoot:1}),noscript:k,td:k,br:{},th:k,center:k,kbd:g,button:c(r,d),basefont:{},h5:g,h4:g,samp:g,h6:g,ol:n,h1:g,h3:g,option:C,h2:g,form:c(e,l,d,r),select:f({optgroup:1,
option:1}),font:g,ins:g,menu:n,abbr:g,label:g,table:f({thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1}),code:g,tfoot:z,cite:g,li:k,input:{},iframe:k,strong:g,textarea:C,noframes:k,big:g,small:g,span:f({"#":1,br:1,b:1,strong:1,u:1,i:1,em:1,sub:1,sup:1,strike:1,span:1}),hr:g,dt:g,sub:g,optgroup:f({option:1}),param:{},bdo:g,"var":g,div:k,object:K,sup:g,dd:k,strike:g,area:{},dir:n,map:c(f({area:1,form:1,p:1}),e,h,d),applet:K,dl:f({dt:1,dd:1}),del:g,isindex:{},fieldset:c(f({legend:1}),w),thead:z,
ul:n,acronym:g,b:g,a:c(f({a:1}),a),blockquote:c(f({td:1,tr:1,tbody:1,li:1}),k),caption:g,i:g,u:g,tbody:z,s:g,address:c(l,r),tt:g,legend:g,q:g,pre:c(m,b),p:c(f({a:1}),g),em:g,dfn:g})}(),ka=y&&9>t.version?{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder"}:{tabindex:"tabIndex",readonly:"readOnly"},la=u.listToMap("-webkit-box -moz-box block list-item table table-row-group table-header-group table-footer-group table-row table-column-group table-column table-cell table-caption".split(" ")),
g=v.domUtils={NODE_ELEMENT:1,NODE_DOCUMENT:9,NODE_TEXT:3,NODE_COMMENT:8,NODE_DOCUMENT_FRAGMENT:11,POSITION_IDENTICAL:0,POSITION_DISCONNECTED:1,POSITION_FOLLOWING:2,POSITION_PRECEDING:4,POSITION_IS_CONTAINED:8,POSITION_CONTAINS:16,fillChar:y&&"6"==t.version?"\ufeff":"\u200b",keys:{8:1,46:1,16:1,17:1,18:1,37:1,38:1,39:1,40:1,13:1},getPosition:function(f,c){if(f===c)return 0;var e,a=[f],b=[c];for(e=f;e=e.parentNode;){if(e===c)return 10;a.push(e)}for(e=c;e=e.parentNode;){if(e===f)return 20;b.push(e)}a.reverse();
b.reverse();if(a[0]!==b[0])return 1;for(e=-1;e++,a[e]===b[e];);f=a[e];for(c=b[e];f=f.nextSibling;)if(f===c)return 4;return 2},getNodeIndex:function(f,c){for(var e=f,a=0;e=e.previousSibling;)c&&3==e.nodeType?e.nodeType!=e.nextSibling.nodeType&&a++:a++;return a},inDoc:function(f,c){return 10==g.getPosition(f,c)},findParent:function(f,c,e){if(f&&!g.isBody(f))for(f=e?f:f.parentNode;f;){if(!c||c(f)||g.isBody(f))return c&&!c(f)&&g.isBody(f)?null:f;f=f.parentNode}return null},findParentByTagName:function(f,
c,e,a){c=u.listToMap(u.isArray(c)?c:[c]);return g.findParent(f,function(b){return c[b.tagName]&&!(a&&a(b))},e)},findParents:function(f,c,e,a){for(c=c&&(e&&e(f)||!e)?[f]:[];f=g.findParent(f,e);)c.push(f);return a?c:c.reverse()},insertAfter:function(f,c){return f.nextSibling?f.parentNode.insertBefore(c,f.nextSibling):f.parentNode.appendChild(c)},remove:function(f,c){var e=f.parentNode,a;if(e){if(c&&f.hasChildNodes())for(;a=f.firstChild;)e.insertBefore(a,f);e.removeChild(f)}return f},getNextDomNode:function(f,
c,e,a){return q(f,"firstChild","nextSibling",c,e,a)},getPreDomNode:function(f,c,e,a){return q(f,"lastChild","previousSibling",c,e,a)},isBookmarkNode:function(f){return 1==f.nodeType&&f.id&&/^_baidu_bookmark_/i.test(f.id)},getWindow:function(f){f=f.ownerDocument||f;return f.defaultView||f.parentWindow},getCommonAncestor:function(f,c){if(f===c)return f;for(var e=[f],a=[c],b=f,l=-1;b=b.parentNode;){if(b===c)return b;e.push(b)}for(b=c;b=b.parentNode;){if(b===f)return b;a.push(b)}e.reverse();for(a.reverse();l++,
e[l]===a[l];);return 0==l?null:e[l-1]},clearEmptySibling:function(f,c,e){function a(a,c){for(var d;a&&!g.isBookmarkNode(a)&&(g.isEmptyInlineElement(a)||!(new RegExp("[^\t\n\r"+g.fillChar+"]")).test(a.nodeValue));)d=a[c],g.remove(a),a=d}!c&&a(f.nextSibling,"nextSibling");!e&&a(f.previousSibling,"previousSibling")},split:function(f,c){var e=f.ownerDocument;if(t.ie&&c==f.nodeValue.length){var a=e.createTextNode("");return g.insertAfter(f,a)}a=f.splitText(c);t.ie8&&(e=e.createTextNode(""),g.insertAfter(a,
e),g.remove(e));return a},isWhitespace:function(f){return!(new RegExp("[^ \t\n\r"+g.fillChar+"]")).test(f.nodeValue)},getXY:function(f){for(var c=0,e=0;f.offsetParent;)e+=f.offsetTop,c+=f.offsetLeft,f=f.offsetParent;return{x:c,y:e}},on:function(f,c,e){var a=u.isArray(c)?c:u.trim(c).split(/\s+/),b=a.length;if(b)for(;b--;)if(c=a[b],f.addEventListener)f.addEventListener(c,e,!1);else{e._d||(e._d={els:[]});var l=c+e.toString(),d=u.indexOf(e._d.els,f);e._d[l]&&-1!=d||(-1==d&&e._d.els.push(f),e._d[l]||(e._d[l]=
function(a){return e.call(a.srcElement,a||window.event)}),f.attachEvent("on"+c,e._d[l]))}f=null},un:function(f,c,e){var a=u.isArray(c)?c:u.trim(c).split(/\s+/),b=a.length;if(b)for(;b--;)if(c=a[b],f.removeEventListener)f.removeEventListener(c,e,!1);else{var l=c+e.toString();try{f.detachEvent("on"+c,e._d?e._d[l]:e)}catch(d){}e._d&&e._d[l]&&(c=u.indexOf(e._d.els,f),-1!=c&&e._d.els.splice(c,1),0==e._d.els.length&&delete e._d[l])}},isSameElement:function(f,c){if(f.tagName!=c.tagName)return!1;var e=f.attributes,
a=c.attributes;if(!y&&e.length!=a.length)return!1;for(var b,l,d=0,h=0,m=0;b=e[m++];){if("style"==b.nodeName)if(b.specified&&d++,g.isSameStyle(f,c))continue;else return!1;if(y)if(b.specified)d++,l=a.getNamedItem(b.nodeName);else continue;else l=c.attributes[b.nodeName];if(!l.specified||b.nodeValue!=l.nodeValue)return!1}if(y){for(m=0;l=a[m++];)l.specified&&h++;if(d!=h)return!1}return!0},isSameStyle:function(f,c){var e=f.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":"),a=c.style.cssText.replace(/( ?; ?)/g,
";").replace(/( ?: ?)/g,":");if(t.opera){e=f.style;a=c.style;if(e.length!=a.length)return!1;for(var b in e)if(!/^(\d+|csstext)$/i.test(b)&&e[b]!=a[b])return!1;return!0}if(!e||!a)return e==a;e=e.split(";");a=a.split(";");if(e.length!=a.length)return!1;b=0;for(var l;l=e[b++];)if(-1==u.indexOf(a,l))return!1;return!0},isBlockElm:function(f){return 1==f.nodeType&&(A.$block[f.tagName]||la[g.getComputedStyle(f,"display")])&&!A.$nonChild[f.tagName]},isBody:function(f){return f&&1==f.nodeType&&"body"==f.tagName.toLowerCase()},
breakParent:function(f,c){var e,a=f,b=f,l,d;do{a=a.parentNode;l?(e=a.cloneNode(!1),e.appendChild(l),l=e,e=a.cloneNode(!1),e.appendChild(d),d=e):(l=a.cloneNode(!1),d=l.cloneNode(!1));for(;e=b.previousSibling;)l.insertBefore(e,l.firstChild);for(;e=b.nextSibling;)d.appendChild(e);b=a}while(c!==a);e=c.parentNode;e.insertBefore(l,c);e.insertBefore(d,c);e.insertBefore(f,d);g.remove(c);return f},isEmptyInlineElement:function(f){if(1!=f.nodeType||!A.$removeEmpty[f.tagName])return 0;for(f=f.firstChild;f;){if(g.isBookmarkNode(f)||
1==f.nodeType&&!g.isEmptyInlineElement(f)||3==f.nodeType&&!g.isWhitespace(f))return 0;f=f.nextSibling}return 1},trimWhiteTextNode:function(f){function c(c){for(var a;(a=f[c])&&3==a.nodeType&&g.isWhitespace(a);)f.removeChild(a)}c("firstChild");c("lastChild")},mergeChild:function(f,c,e){c=g.getElementsByTagName(f,f.tagName.toLowerCase());for(var a=0,b;b=c[a++];)if(b.parentNode&&!g.isBookmarkNode(b))if("span"==b.tagName.toLowerCase()){if(f===b.parentNode&&(g.trimWhiteTextNode(f),1==f.childNodes.length)){f.style.cssText=
b.style.cssText+";"+f.style.cssText;g.remove(b,!0);continue}b.style.cssText=f.style.cssText+";"+b.style.cssText;if(e){var l=e.style;if(l)for(var l=l.split(";"),d=0,h;h=l[d++];)b.style[u.cssStyleToDomStyle(h.split(":")[0])]=h.split(":")[1]}g.isSameStyle(b,f)&&g.remove(b,!0)}else g.isSameElement(f,b)&&g.remove(b,!0)},getElementsByTagName:function(f,c,e){if(e&&u.isString(e)){var a=e;e=function(d){return g.hasClass(d,a)}}c=u.trim(c).replace(/[ ]{2,}/g," ").split(" ");for(var b=[],l=0,d;d=c[l++];){d=f.getElementsByTagName(d);
for(var h=0,m;m=d[h++];)e&&!e(m)||b.push(m)}return b},mergeToParent:function(f){for(var c=f.parentNode;c&&A.$removeEmpty[c.tagName];){if(c.tagName==f.tagName||"A"==c.tagName){g.trimWhiteTextNode(c);if("SPAN"==c.tagName&&!g.isSameStyle(c,f)||"A"==c.tagName&&"SPAN"==f.tagName)if(1<c.childNodes.length||c!==f.parentNode){f.style.cssText=c.style.cssText+";"+f.style.cssText;c=c.parentNode;continue}else c.style.cssText+=";"+f.style.cssText,"A"==c.tagName&&(c.style.textDecoration="underline");if("A"!=c.tagName){c===
f.parentNode&&g.remove(f,!0);break}}c=c.parentNode}},mergeSibling:function(f,c,e){function a(a,c,d){var e;if((e=d[a])&&!g.isBookmarkNode(e)&&1==e.nodeType&&g.isSameElement(d,e)){for(;e.firstChild;)"firstChild"==c?d.insertBefore(e.lastChild,d.firstChild):d.appendChild(e.firstChild);g.remove(e)}}!c&&a("previousSibling","firstChild",f);!e&&a("nextSibling","lastChild",f)},unSelectable:y&&t.ie9below||t.opera?function(f){f.onselectstart=function(){return!1};f.onclick=f.onkeyup=f.onkeydown=function(){return!1};
f.unselectable="on";f.setAttribute("unselectable","on");for(var c=0,e;e=f.all[c++];)switch(e.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:e.unselectable="on",f.setAttribute("unselectable","on")}}:function(f){f.style.MozUserSelect=f.style.webkitUserSelect=f.style.msUserSelect=f.style.KhtmlUserSelect="none"},removeAttributes:function(f,c){c=u.isArray(c)?c:u.trim(c).replace(/[ ]{2,}/g," ").split(" ");for(var e=0,a;a=c[e++];){a=ka[a]||a;switch(a){case "className":f[a]=
"";break;case "style":f.style.cssText="";var b=f.getAttributeNode("style");!t.ie&&b&&f.removeAttributeNode(b)}f.removeAttribute(a)}},createElement:function(f,c,e){return g.setAttributes(f.createElement(c),e)},setAttributes:function(f,c){for(var e in c)if(c.hasOwnProperty(e)){var a=c[e];switch(e){case "class":f.className=a;break;case "style":f.style.cssText=f.style.cssText+";"+a;break;case "innerHTML":f[e]=a;break;case "value":f.value=a;break;default:f.setAttribute(ka[e]||e,a)}}return f},getComputedStyle:function(f,
c){if(-1<"width height top left".indexOf(c))return f["offset"+c.replace(/^\w/,function(a){return a.toUpperCase()})]+"px";3==f.nodeType&&(f=f.parentNode);if(t.ie&&9>t.version&&"font-size"==c&&!f.style.fontSize&&!A.$empty[f.tagName]&&!A.$nonChild[f.tagName]){var e=f.ownerDocument.createElement("span");e.style.cssText="padding:0;border:0;font-family:simsun;";e.innerHTML=".";f.appendChild(e);var a=e.offsetHeight;f.removeChild(e);e=null;return a+"px"}try{e=g.getStyle(f,c)||(window.getComputedStyle?g.getWindow(f).getComputedStyle(f,
"").getPropertyValue(c):(f.currentStyle||f.style)[u.cssStyleToDomStyle(c)])}catch(b){return""}return u.transUnitToPx(u.fixColor(c,e))},removeClasses:function(f,c){c=u.isArray(c)?c:u.trim(c).replace(/[ ]{2,}/g," ").split(" ");for(var e=0,a,b=f.className;a=c[e++];)b=b.replace(new RegExp("\\b"+a+"\\b"),"");(b=u.trim(b).replace(/[ ]{2,}/g," "))?f.className=b:g.removeAttributes(f,["class"])},addClass:function(f,c){if(f){c=u.trim(c).replace(/[ ]{2,}/g," ").split(" ");for(var e=0,a,b=f.className;a=c[e++];)(new RegExp("\\b"+
a+"\\b")).test(b)||(b+=" "+a);f.className=u.trim(b)}},hasClass:function(f,c){if(u.isRegExp(c))return c.test(f.className);c=u.trim(c).replace(/[ ]{2,}/g," ").split(" ");for(var e=0,a,b=f.className;a=c[e++];)if(!(new RegExp("\\b"+a+"\\b","i")).test(b))return!1;return e-1==c.length},preventDefault:function(f){f.preventDefault?f.preventDefault():f.returnValue=!1},removeStyle:function(f,c){t.ie?("color"==c&&(c="(^|;)"+c),f.style.cssText=f.style.cssText.replace(new RegExp(c+"[^:]*:[^;]+;?","ig"),"")):f.style.removeProperty?
f.style.removeProperty(c):f.style.removeAttribute(u.cssStyleToDomStyle(c));f.style.cssText||g.removeAttributes(f,["style"])},getStyle:function(f,c){var e=f.style[u.cssStyleToDomStyle(c)];return u.fixColor(c,e)},setStyle:function(f,c,e){f.style[u.cssStyleToDomStyle(c)]=e;u.trim(f.style.cssText)||this.removeAttributes(f,"style")},setStyles:function(f,c){for(var e in c)c.hasOwnProperty(e)&&g.setStyle(f,e,c[e])},removeDirtyAttr:function(f){for(var c=0,e,a=f.getElementsByTagName("*");e=a[c++];)e.removeAttribute("_moz_dirty");
f.removeAttribute("_moz_dirty")},getChildCount:function(f,c){var e=0,a=f.firstChild;for(c=c||function(){return 1};a;)c(a)&&e++,a=a.nextSibling;return e},isEmptyNode:function(f){return!f.firstChild||0==g.getChildCount(f,function(c){return!g.isBr(c)&&!g.isBookmarkNode(c)&&!g.isWhitespace(c)})},clearSelectedArr:function(f){for(var c;c=f.pop();)g.removeAttributes(c,["class"])},scrollToView:function(f,c,e){var a=function(){var a=c.document,e="CSS1Compat"==a.compatMode;return{width:(e?a.documentElement.clientWidth:
a.body.clientWidth)||0,height:(e?a.documentElement.clientHeight:a.body.clientHeight)||0}}().height;e=-1*a+e+(f.offsetHeight||0);f=g.getXY(f);e+=f.y;f=function(a){if("pageXOffset"in a)return{x:a.pageXOffset||0,y:a.pageYOffset||0};a=a.document;return{x:a.documentElement.scrollLeft||a.body.scrollLeft||0,y:a.documentElement.scrollTop||a.body.scrollTop||0}}(c).y;(e>f||e<f-a)&&c.scrollTo(0,e+(0>e?-20:20))},isBr:function(f){return 1==f.nodeType&&"BR"==f.tagName},isFillChar:function(f,c){if(3!=f.nodeType)return!1;
var e=f.nodeValue;return c?(new RegExp("^"+g.fillChar)).test(e):!e.replace(new RegExp(g.fillChar,"g"),"").length},isStartInblock:function(f){f=f.cloneRange();var c=0,e=f.startContainer,a;if(1==e.nodeType&&e.childNodes[f.startOffset])for(var e=e.childNodes[f.startOffset],b=e.previousSibling;b&&g.isFillChar(b);)e=b,b=b.previousSibling;this.isFillChar(e,!0)&&1==f.startOffset&&(f.setStartBefore(e),e=f.startContainer);for(;e&&g.isFillChar(e);)a=e,e=e.previousSibling;a&&(f.setStartBefore(a),e=f.startContainer);
for(1==e.nodeType&&g.isEmptyNode(e)&&1==f.startOffset&&f.setStart(e,0).collapse(!0);!f.startOffset;){e=f.startContainer;if(g.isBlockElm(e)||g.isBody(e)){c=1;break}var b=f.startContainer.previousSibling,l;if(b){for(;b&&g.isFillChar(b);)l=b,b=b.previousSibling;l?f.setStartBefore(l):f.setStartBefore(f.startContainer)}else f.setStartBefore(f.startContainer)}return c&&!g.isBody(f.startContainer)?1:0},isEmptyBlock:function(f,c){if(1!=f.nodeType)return 0;c=c||new RegExp("[ \t\r\n"+g.fillChar+"]","g");if(0<
f[t.ie?"innerText":"textContent"].replace(c,"").length)return 0;for(var e in A.$isNotEmpty)if(f.getElementsByTagName(e).length)return 0;return 1},setViewportOffset:function(f,c){var e=parseInt(f.style.left)|0,a=parseInt(f.style.top)|0,b=f.getBoundingClientRect(),l=c.left-b.left,b=c.top-b.top;l&&(f.style.left=e+l+"px");b&&(f.style.top=a+b+"px")},fillNode:function(f,c){var e=t.ie?f.createTextNode(g.fillChar):f.createElement("br");c.innerHTML="";c.appendChild(e)},moveChild:function(f,c,e){for(;f.firstChild;)e&&
c.firstChild?c.insertBefore(f.lastChild,c.firstChild):c.appendChild(f.firstChild)},hasNoAttributes:function(f){return t.ie?/^<\w+\s*?>/.test(f.outerHTML):0==f.attributes.length},isCustomeNode:function(f){return 1==f.nodeType&&f.getAttribute("_ue_custom_node_")},isTagNode:function(f,c){return 1==f.nodeType&&(new RegExp("\\b"+f.tagName+"\\b","i")).test(c)},filterNodeList:function(f,c,e){var a=[];if(!u.isFunction(c)){var b=c;c=function(a){return-1!=u.indexOf(u.isArray(b)?b:b.split(" "),a.tagName.toLowerCase())}}u.each(f,
function(b){c(b)&&a.push(b)});return 0==a.length?null:1!=a.length&&e?a:a[0]},isInNodeEndBoundary:function(f,c){var e=f.startContainer;if(3==e.nodeType&&f.startOffset!=e.nodeValue.length||1==e.nodeType&&f.startOffset!=e.childNodes.length)return 0;for(;e!==c;){if(e.nextSibling)return 0;e=e.parentNode}return 1},isBoundaryNode:function(f,c){for(var e;!g.isBody(f);)if(e=f,f=f.parentNode,e!==f[c])return!1;return!0}},S=new RegExp(g.fillChar,"g");(function(){function f(a){return!a.collapsed&&1==a.startContainer.nodeType&&
a.startContainer===a.endContainer&&1==a.endOffset-a.startOffset}function c(a,d,b,c){1==d.nodeType&&(A.$empty[d.tagName]||A.$nonChild[d.tagName])&&(b=g.getNodeIndex(d)+(a?0:1),d=d.parentNode);a?(c.startContainer=d,c.startOffset=b,c.endContainer||c.collapse(!0)):(c.endContainer=d,c.endOffset=b,c.startContainer||c.collapse(!1));c.collapsed=c.startContainer&&c.endContainer&&c.startContainer===c.endContainer&&c.startOffset==c.endOffset;return c}function e(a,d){var b=a.startContainer,c=a.endContainer,e=
a.startOffset,h=a.endOffset,m=a.document,l=m.createDocumentFragment(),f,k;1==b.nodeType&&(b=b.childNodes[e]||(f=b.appendChild(m.createTextNode(""))));1==c.nodeType&&(c=c.childNodes[h]||(k=c.appendChild(m.createTextNode(""))));if(b===c&&3==b.nodeType)return l.appendChild(m.createTextNode(b.substringData(e,h-e))),d&&(b.deleteData(e,h-e),a.collapse(!0)),l;for(var n,q,t=l,u=g.findParents(b,!0),v=g.findParents(c,!0),y=0;u[y]==v[y];)y++;for(var A=y,F;F=u[A];A++){n=F.nextSibling;F==b?f||(3==a.startContainer.nodeType?
(t.appendChild(m.createTextNode(b.nodeValue.slice(e))),d&&b.deleteData(e,b.nodeValue.length-e)):t.appendChild(d?b:b.cloneNode(!0))):(q=F.cloneNode(!1),t.appendChild(q));for(;n&&n!==c&&n!==v[A];)F=n.nextSibling,t.appendChild(d?n:n.cloneNode(!0)),n=F;t=q}t=l;u[y]||(t.appendChild(u[y-1].cloneNode(!1)),t=t.firstChild);for(A=y;e=v[A];A++){n=e.previousSibling;e==c?k||3!=a.endContainer.nodeType||(t.appendChild(m.createTextNode(c.substringData(0,h))),d&&c.deleteData(0,h)):(q=e.cloneNode(!1),t.appendChild(q));
if(A!=y||!u[y])for(;n&&n!==b;)e=n.previousSibling,t.insertBefore(d?n:n.cloneNode(!0),t.firstChild),n=e;t=q}d&&a.setStartBefore(v[y]?u[y]?v[y]:u[y-1]:v[y-1]).collapse(!0);f&&g.remove(f);k&&g.remove(k);return l}function a(a,d){try{if(h&&g.inDoc(h,a))if(h.nodeValue.replace(S,"").length)h.nodeValue=h.nodeValue.replace(S,"");else{var b=h.parentNode;for(g.remove(h);b&&g.isEmptyInlineElement(b)&&(t.safari?!(g.getPosition(b,d)&g.POSITION_CONTAINS):!b.contains(d));)h=b.parentNode,g.remove(b),b=h}}catch(c){}}
function b(a,d){var b;for(a=a[d];a&&g.isFillChar(a);)b=a[d],g.remove(a),a=b}var l=0,d=g.fillChar,h,m=v.Range=function(a){this.startContainer=this.startOffset=this.endContainer=this.endOffset=null;this.document=a;this.collapsed=!0};m.prototype={cloneContents:function(){return this.collapsed?null:e(this,0)},deleteContents:function(){var a;this.collapsed||e(this,1);t.webkit&&(a=this.startContainer,3!=a.nodeType||a.nodeValue.length||(this.setStartBefore(a).collapse(!0),g.remove(a)));return this},extractContents:function(){return this.collapsed?
null:e(this,2)},setStart:function(a,d){return c(!0,a,d,this)},setEnd:function(a,d){return c(!1,a,d,this)},setStartAfter:function(a){return this.setStart(a.parentNode,g.getNodeIndex(a)+1)},setStartBefore:function(a){return this.setStart(a.parentNode,g.getNodeIndex(a))},setEndAfter:function(a){return this.setEnd(a.parentNode,g.getNodeIndex(a)+1)},setEndBefore:function(a){return this.setEnd(a.parentNode,g.getNodeIndex(a))},setStartAtFirst:function(a){return this.setStart(a,0)},setStartAtLast:function(a){return this.setStart(a,
3==a.nodeType?a.nodeValue.length:a.childNodes.length)},setEndAtFirst:function(a){return this.setEnd(a,0)},setEndAtLast:function(a){return this.setEnd(a,3==a.nodeType?a.nodeValue.length:a.childNodes.length)},selectNode:function(a){return this.setStartBefore(a).setEndAfter(a)},selectNodeContents:function(a){return this.setStart(a,0).setEndAtLast(a)},cloneRange:function(){return(new m(this.document)).setStart(this.startContainer,this.startOffset).setEnd(this.endContainer,this.endOffset)},collapse:function(a){a?
(this.endContainer=this.startContainer,this.endOffset=this.startOffset):(this.startContainer=this.endContainer,this.startOffset=this.endOffset);this.collapsed=!0;return this},shrinkBoundary:function(a){function d(a){return 1==a.nodeType&&!g.isBookmarkNode(a)&&!A.$empty[a.tagName]&&!A.$nonChild[a.tagName]}for(var b,c=this.collapsed;1==this.startContainer.nodeType&&(b=this.startContainer.childNodes[this.startOffset])&&d(b);)this.setStart(b,0);if(c)return this.collapse(!0);if(!a)for(;1==this.endContainer.nodeType&&
0<this.endOffset&&(b=this.endContainer.childNodes[this.endOffset-1])&&d(b);)this.setEnd(b,b.childNodes.length);return this},getCommonAncestor:function(a,d){var b=this.startContainer,c=this.endContainer;return b===c?a&&f(this)&&(b=b.childNodes[this.startOffset],1==b.nodeType)?b:d&&3==b.nodeType?b.parentNode:b:g.getCommonAncestor(b,c)},trimBoundary:function(a){this.txtToElmBoundary();var d=this.startContainer,b=this.startOffset,c=this.collapsed,e=this.endContainer;if(3==d.nodeType){if(0==b)this.setStartBefore(d);
else if(b>=d.nodeValue.length)this.setStartAfter(d);else{var h=g.split(d,b);d===e?this.setEnd(h,this.endOffset-b):d.parentNode===e&&(this.endOffset+=1);this.setStartBefore(h)}if(c)return this.collapse(!0)}a||(b=this.endOffset,e=this.endContainer,3==e.nodeType&&(0==b?this.setEndBefore(e):(b<e.nodeValue.length&&g.split(e,b),this.setEndAfter(e))));return this},txtToElmBoundary:function(a){function d(a,b){var c=a[b+"Container"],e=a[b+"Offset"];if(3==c.nodeType)if(!e)a["set"+b.replace(/(\w)/,function(a){return a.toUpperCase()})+
"Before"](c);else if(e>=c.nodeValue.length)a["set"+b.replace(/(\w)/,function(a){return a.toUpperCase()})+"After"](c)}if(a||!this.collapsed)d(this,"start"),d(this,"end");return this},insertNode:function(a){var d=a,b=1;11==a.nodeType&&(d=a.firstChild,b=a.childNodes.length);this.trimBoundary(!0);var c=this.startContainer,e=c.childNodes[this.startOffset];e?c.insertBefore(a,e):c.appendChild(a);d.parentNode===this.endContainer&&(this.endOffset+=b);return this.setStartBefore(d)},setCursor:function(a,d){return this.collapse(!a).select(d)},
createBookmark:function(a,d){var b,c=this.document.createElement("span");c.style.cssText="display:none;line-height:0px;";c.appendChild(this.document.createTextNode("\u200d"));c.id="_baidu_bookmark_start_"+(d?"":l++);this.collapsed||(b=c.cloneNode(!0),b.id="_baidu_bookmark_end_"+(d?"":l++));this.insertNode(c);b&&this.collapse().insertNode(b).setEndBefore(b);this.setStartAfter(c);return{start:a?c.id:c,end:b?a?b.id:b:null,id:a}},moveToBookmark:function(a){var d=a.id?this.document.getElementById(a.start):
a.start;a=a.end&&a.id?this.document.getElementById(a.end):a.end;this.setStartBefore(d);g.remove(d);a?(this.setEndBefore(a),g.remove(a)):this.collapse(!0);return this},enlarge:function(a,d){var b=g.isBody,c,e,h=this.document.createTextNode("");if(a){e=this.startContainer;1==e.nodeType?e.childNodes[this.startOffset]?c=e=e.childNodes[this.startOffset]:(e.appendChild(h),c=e=h):c=e;for(;;){if(g.isBlockElm(e)){for(e=c;(c=e.previousSibling)&&!g.isBlockElm(c);)e=c;this.setStartBefore(e);break}c=e;e=e.parentNode}e=
this.endContainer;1==e.nodeType?((c=e.childNodes[this.endOffset])?e.insertBefore(h,c):e.appendChild(h),c=e=h):c=e;for(;;){if(g.isBlockElm(e)){for(e=c;(c=e.nextSibling)&&!g.isBlockElm(c);)e=c;this.setEndAfter(e);break}c=e;e=e.parentNode}h.parentNode===this.endContainer&&this.endOffset--;g.remove(h)}if(!this.collapsed){for(;!(0!=this.startOffset||d&&d(this.startContainer)||b(this.startContainer));)this.setStartBefore(this.startContainer);for(;!(this.endOffset!=(1==this.endContainer.nodeType?this.endContainer.childNodes.length:
this.endContainer.nodeValue.length)||d&&d(this.endContainer)||b(this.endContainer));)this.setEndAfter(this.endContainer)}return this},enlargeToBlockElm:function(a){for(;!g.isBlockElm(this.startContainer);)this.setStartBefore(this.startContainer);if(!a)for(;!g.isBlockElm(this.endContainer);)this.setEndAfter(this.endContainer);return this},adjustmentBoundary:function(){if(!this.collapsed){for(;!g.isBody(this.startContainer)&&this.startOffset==this.startContainer[3==this.startContainer.nodeType?"nodeValue":
"childNodes"].length&&this.startContainer[3==this.startContainer.nodeType?"nodeValue":"childNodes"].length;)this.setStartAfter(this.startContainer);for(;!g.isBody(this.endContainer)&&!this.endOffset&&this.endContainer[3==this.endContainer.nodeType?"nodeValue":"childNodes"].length;)this.setEndBefore(this.endContainer)}return this},applyInlineStyle:function(a,d,b){if(this.collapsed)return this;this.trimBoundary().enlarge(!1,function(a){return 1==a.nodeType&&g.isBlockElm(a)}).adjustmentBoundary();for(var c=
this.createBookmark(),e=c.end,h=function(a){return 1==a.nodeType?"br"!=a.tagName.toLowerCase():!g.isWhitespace(a)},m=g.getNextDomNode(c.start,!1,h),l,f,k=this.cloneRange();m&&g.getPosition(m,e)&g.POSITION_PRECEDING;)if(3==m.nodeType||A[a][m.tagName]){k.setStartBefore(m);for(l=m;l&&(3==l.nodeType||A[a][l.tagName])&&l!==e;)f=l,l=g.getNextDomNode(l,1==l.nodeType,null,function(d){return A[a][d.tagName]});var m=k.setEndAfter(f).extractContents(),n;if(b&&0<b.length){var q;q=n=b[0].cloneNode(!1);for(var t=
1,u;u=b[t++];)n.appendChild(u.cloneNode(!1)),n=n.firstChild}else n=k.document.createElement(a);d&&g.setAttributes(n,d);n.appendChild(m);k.insertNode(b?q:n);var v;"span"==a&&d.style&&/text\-decoration/.test(d.style)&&(v=g.findParentByTagName(n,"a",!0))?(g.setAttributes(v,d),g.remove(n,!0),n=v):(g.mergeSibling(n),g.clearEmptySibling(n));g.mergeChild(n,d);m=g.getNextDomNode(n,!1,h);g.mergeToParent(n);if(l===e)break}else m=g.getNextDomNode(m,!0,h);return this.moveToBookmark(c)},removeInlineStyle:function(a){if(this.collapsed)return this;
a=u.isArray(a)?a:[a];this.shrinkBoundary().adjustmentBoundary();for(var d=this.startContainer,b=this.endContainer;;){if(1==d.nodeType){if(-1<u.indexOf(a,d.tagName.toLowerCase()))break;if("body"==d.tagName.toLowerCase()){d=null;break}}d=d.parentNode}for(;;){if(1==b.nodeType){if(-1<u.indexOf(a,b.tagName.toLowerCase()))break;if("body"==b.tagName.toLowerCase()){b=null;break}}b=b.parentNode}var c=this.createBookmark(),e,h;d&&(h=this.cloneRange().setEndBefore(c.start).setStartBefore(d),e=h.extractContents(),
h.insertNode(e),g.clearEmptySibling(d,!0),d.parentNode.insertBefore(c.start,d));b&&(h=this.cloneRange().setStartAfter(c.end).setEndAfter(b),e=h.extractContents(),h.insertNode(e),g.clearEmptySibling(b,!1,!0),b.parentNode.insertBefore(c.end,b.nextSibling));for(d=g.getNextDomNode(c.start,!1,function(a){return 1==a.nodeType});d&&d!==c.end;)b=g.getNextDomNode(d,!0,function(a){return 1==a.nodeType}),-1<u.indexOf(a,d.tagName.toLowerCase())&&g.remove(d,!0),d=b;return this.moveToBookmark(c)},getClosedNode:function(){var a;
if(!this.collapsed){var d=this.cloneRange().adjustmentBoundary().shrinkBoundary();f(d)&&(d=d.startContainer.childNodes[d.startOffset])&&1==d.nodeType&&(A.$empty[d.tagName]||A.$nonChild[d.tagName])&&(a=d)}return a},select:t.ie?function(c,e){var m;this.collapsed||this.shrinkBoundary();var l=this.getClosedNode();if(l&&!e){try{m=this.document.body.createControlRange(),m.addElement(l),m.select()}catch(f){}return this}var l=this.createBookmark(),k=l.start;m=this.document.body.createTextRange();m.moveToElementText(k);
m.moveStart("character",1);if(!this.collapsed){var n=this.document.body.createTextRange(),k=l.end;n.moveToElementText(k);m.setEndPoint("EndToEnd",n)}else if(!c&&3!=this.startContainer.nodeType){var n=this.document.createTextNode(d),q=this.document.createElement("span");q.appendChild(this.document.createTextNode(d));k.parentNode.insertBefore(q,k);k.parentNode.insertBefore(n,k);a(this.document,n);h=n;b(q,"previousSibling");b(k,"nextSibling");m.moveStart("character",-1);m.collapse(!0)}this.moveToBookmark(l);
q&&g.remove(q);try{m.select()}catch(t){}return this}:function(c){function e(a){function d(b,c,e){3==b.nodeType&&b.nodeValue.length<c&&(a[e+"Offset"]=b.nodeValue.length)}d(a.startContainer,a.startOffset,"start");d(a.endContainer,a.endOffset,"end")}var m=g.getWindow(this.document),l=m.getSelection();t.gecko?this.document.body.focus():m.focus();if(l){l.removeAllRanges();this.collapsed&&!c&&(c=m=this.startContainer,1==m.nodeType&&(c=m.childNodes[this.startOffset]),3==m.nodeType&&this.startOffset||(c?
c.previousSibling&&3==c.previousSibling.nodeType:m.lastChild&&3==m.lastChild.nodeType)||(c=this.document.createTextNode(d),this.insertNode(c),a(this.document,c),b(c,"previousSibling"),b(c,"nextSibling"),h=c,this.setStart(c,t.webkit?1:0).collapse(!0)));m=this.document.createRange();if(this.collapsed&&t.opera&&1==this.startContainer.nodeType)if(c=this.startContainer.childNodes[this.startOffset]){for(;c&&g.isBlockElm(c);)if(1==c.nodeType&&c.childNodes[0])c=c.childNodes[0];else break;c&&this.setStartBefore(c).collapse(!0)}else(c=
this.startContainer.lastChild)&&g.isBr(c)&&this.setStartBefore(c).collapse(!0);e(this);m.setStart(this.startContainer,this.startOffset);m.setEnd(this.endContainer,this.endOffset);l.addRange(m)}return this},scrollToView:function(a,d){a=a?window:g.getWindow(this.document);var b=this.document.createElement("span");b.innerHTML="&nbsp;";this.cloneRange().insertNode(b);g.scrollToView(b,a,d);g.remove(b);return this},inFillChar:function(){var a=this.startContainer;return this.collapsed&&3==a.nodeType&&a.nodeValue.replace(new RegExp("^"+
g.fillChar),"").length+1==a.nodeValue.length?!0:!1},createAddress:function(a,d){function b(a){for(var c=a?e.startContainer:e.endContainer,h=g.findParents(c,!0,function(a){return!g.isBody(a)}),m=[],l=0,f;f=h[l++];)m.push(g.getNodeIndex(f,d));h=0;if(d)if(3==c.nodeType){for(c=c.previousSibling;c&&3==c.nodeType;)h+=c.nodeValue.replace(S,"").length,c=c.previousSibling;h+=a?e.startOffset:e.endOffset}else if(c=c.childNodes[a?e.startOffset:e.endOffset])h=g.getNodeIndex(c,d);else for(c=a?e.startContainer:
e.endContainer,a=c.firstChild;a;)if(g.isFillChar(a))a=a.nextSibling;else if(h++,3==a.nodeType)for(;a&&3==a.nodeType;)a=a.nextSibling;else a=a.nextSibling;else h=a?g.isFillChar(c)?0:e.startOffset:e.endOffset;0>h&&(h=0);m.push(h);return m}var c={},e=this;c.startAddress=b(!0);a||(c.endAddress=e.collapsed?[].concat(c.startAddress):b());return c},moveToAddress:function(a,d){function b(a,d){for(var e=c.document.body,h,m,l=0,r,f=a.length;l<f;l++)if(r=a[l],h=e,e=e.childNodes[r],!e){m=r;break}d?e?c.setStartBefore(e):
c.setStart(h,m):e?c.setEndBefore(e):c.setEnd(h,m)}var c=this;b(a.startAddress,!0);!d&&a.endAddress&&b(a.endAddress);return c},equals:function(a){for(var d in this)if(this.hasOwnProperty(d)&&this[d]!==a[d])return!1;return!0},traversal:function(a,d){if(this.collapsed)return this;for(var b=this.createBookmark(),c=b.end,e=g.getNextDomNode(b.start,!1,d);e&&e!==c&&g.getPosition(e,c)&g.POSITION_PRECEDING;){var h=g.getNextDomNode(e,!1,d);a(e);e=h}return this.moveToBookmark(b)}}})();(function(){function f(a,
b){var c=g.getNodeIndex;a=a.duplicate();a.collapse(b);var d=a.parentElement();if(!d.hasChildNodes())return{container:d,offset:0};for(var e=d.children,m,f=a.duplicate(),r=0,x=e.length-1,z=-1;r<=x;){z=Math.floor((r+x)/2);m=e[z];f.moveToElementText(m);var C=f.compareEndPoints("StartToStart",a);if(0<C)x=z-1;else if(0>C)r=z+1;else return{container:d,offset:c(m)}}if(-1==z){f.moveToElementText(d);f.setEndPoint("StartToStart",a);f=f.text.replace(/(\r\n|\r)/g,"\n").length;e=d.childNodes;if(!f)return m=e[e.length-
1],{container:m,offset:m.nodeValue.length};for(c=e.length;0<f;)f-=e[--c].nodeValue.length;return{container:e[c],offset:-f}}f.collapse(0<C);f.setEndPoint(0<C?"StartToStart":"EndToStart",a);f=f.text.replace(/(\r\n|\r)/g,"\n").length;if(!f)return A.$empty[m.tagName]||A.$nonChild[m.tagName]?{container:d,offset:c(m)+(0<C?0:1)}:{container:m,offset:0<C?0:m.childNodes.length};for(;0<f;)try{e=m,m=m[0<C?"previousSibling":"nextSibling"],f-=m.nodeValue.length}catch(k){return{container:d,offset:c(e)}}return{container:m,
offset:0<C?-f:m.nodeValue.length+f}}function c(a,b){if(a.item)b.selectNode(a.item(0));else{var c=f(a,!0);b.setStart(c.container,c.offset);0!=a.compareEndPoints("StartToEnd",a)&&(c=f(a,!1),b.setEnd(c.container,c.offset))}return b}function e(a){var b;try{b=a.getNative().createRange()}catch(c){return null}var d=b.item?b.item(0):b.parentElement();return(d.ownerDocument||d)===a.document?b:null}(v.Selection=function(a){var b=this;b.document=a;t.ie9below&&(a=g.getWindow(a).frameElement,g.on(a,"beforedeactivate",
function(){b._bakIERange=b.getIERange()}),g.on(a,"activate",function(){try{!e(b)&&b._bakIERange&&b._bakIERange.select()}catch(a){}b._bakIERange=null}));a=a=null}).prototype={rangeInBody:function(a,b){var c=t.ie9below||b?a.item?a.item():a.parentElement():a.startContainer;return c===this.document.body||g.inDoc(c,this.document)},getNative:function(){var a=this.document;try{return a?t.ie9below?a.selection:g.getWindow(a).getSelection():null}catch(b){return null}},getIERange:function(){var a=e(this);return!a&&
this._bakIERange?this._bakIERange:a},cache:function(){this.clear();this._cachedRange=this.getRange();this._cachedStartElement=this.getStart();this._cachedStartElementPath=this.getStartElementPath()},getStartElementPath:function(){if(this._cachedStartElementPath)return this._cachedStartElementPath;var a=this.getStart();return a?g.findParents(a,!0,null,!0):[]},clear:function(){this._cachedStartElementPath=this._cachedRange=this._cachedStartElement=null},isFocus:function(){try{if(t.ie9below){var a=e(this);
return!(!a||!this.rangeInBody(a))}return!!this.getNative().rangeCount}catch(b){return!1}},getRange:function(){function a(a){for(var d=b.document.body.firstChild,c=a.collapsed;d&&d.firstChild;)a.setStart(d,0),d=d.firstChild;a.startContainer||a.setStart(b.document.body,0);c&&a.collapse(!0)}var b=this;if(null!=b._cachedRange)return this._cachedRange;var e=new n.editor.dom.Range(b.document);if(t.ie9below){var d=b.getIERange();if(d)try{c(d,e)}catch(h){a(e)}else a(e)}else{var m=b.getNative();if(m&&m.rangeCount)d=
m.getRangeAt(0),m=m.getRangeAt(m.rangeCount-1),e.setStart(d.startContainer,d.startOffset).setEnd(m.endContainer,m.endOffset),e.collapsed&&g.isBody(e.startContainer)&&!e.startOffset&&a(e);else{if(this._bakRange&&g.inDoc(this._bakRange.startContainer,this.document))return this._bakRange;a(e)}}return this._bakRange=e},getStart:function(){if(this._cachedStartElement)return this._cachedStartElement;var a=t.ie9below?this.getIERange():this.getRange(),b,c;if(t.ie9below){if(!a)return this.document.body.firstChild;
if(a.item)return a.item(0);b=a.duplicate();0<b.text.length&&b.moveStart("character",1);b.collapse(1);b=b.parentElement();for(c=a=a.parentElement();a=a.parentNode;)if(a==b){b=c;break}}else if(a.shrinkBoundary(),b=a.startContainer,1==b.nodeType&&b.hasChildNodes()&&(b=b.childNodes[Math.min(b.childNodes.length-1,a.startOffset)]),3==b.nodeType)return b.parentNode;return b},getText:function(){var a;return this.isFocus()&&(a=this.getNative())?(a=t.ie9below?a.createRange():a.getRangeAt(0),t.ie9below?a.text:
a.toString()):""},clearRange:function(){this.getNative()[t.ie9below?"empty":"removeAllRanges"]()}}})();(function(){function f(a,b){var c;if(b.textarea)if(u.isString(b.textarea))for(var e=0,l,f=g.getElementsByTagName(a,"textarea");l=f[e++];){if(l.id=="ueditor_textarea_"+b.options.textarea){c=l;break}}else c=b.textarea;c||(a.appendChild(c=g.createElement(document,"textarea",{name:b.options.textarea,id:"ueditor_textarea_"+b.options.textarea,style:"display:none"})),b.textarea=c);c.value=b.hasContents()?
b.options.allHtmlEnabled?b.getAllHtml():b.getContent(null,null,!0):""}function c(a){for(var b in a)return b}function e(a){a.langIsReady=!0;a.fireEvent("langReady")}var a=0,b,l=UE.Editor=function(d){var b=this;b.uid=a++;da.call(b);b.commands={};b.options=u.extend(u.clone(d||{}),UEDITOR_CONFIG,!0);b.shortcutkeys={};b.inputRules=[];b.outputRules=[];b.setOpt({isShow:!0,initialContent:"",initialStyle:"",autoClearinitialContent:!1,iframeCssUrl:b.options.UEDITOR_HOME_URL+"themes/iframe.css",textarea:"editorValue",
focus:!1,focusInEnd:!0,autoClearEmptyNode:!0,fullscreen:!1,readonly:!1,zIndex:999,imagePopup:!0,enterTag:"p",customDomain:!1,lang:"zh-cn",langPath:b.options.UEDITOR_HOME_URL+"lang/",theme:"default",themePath:b.options.UEDITOR_HOME_URL+"themes/",allHtmlEnabled:!1,scaleEnabled:!1,tableNativeEditInFF:!1,autoSyncData:!0,fileNameFormat:"{time}{rand:6}"});b.loadServerConfig();u.isEmptyObject(UE.I18N)?u.loadFile(document,{src:b.options.langPath+b.options.lang+"/"+b.options.lang+".js",tag:"script",type:"text/javascript",
defer:"defer"},function(){UE.plugin.load(b);e(b)}):(b.options.lang=c(UE.I18N),UE.plugin.load(b),e(b));UE.instants["ueditorInstant"+b.uid]=b};l.prototype={registerCommand:function(a,b){this.commands[a]=b},ready:function(a){a&&(this.isReady?a.apply(this):this.addListener("ready",a))},setOpt:function(a,b){var c={};u.isString(a)?c[a]=b:c=a;u.extend(this.options,c,!0)},getOpt:function(a){return this.options[a]},destroy:function(){this.fireEvent("destroy");var a=this.container.parentNode,b=this.textarea;
b?b.style.display="":(b=document.createElement("textarea"),a.parentNode.insertBefore(b,a));b.style.width=this.iframe.offsetWidth+"px";b.style.height=this.iframe.offsetHeight+"px";b.value=this.getContent();b.id=this.key;a.innerHTML="";g.remove(a);var a=this.key,c;for(c in this)this.hasOwnProperty(c)&&delete this[c];UE.delEditor(a)},render:function(a){var b=this.options;u.isString(a)&&(a=document.getElementById(a));if(a){b.minFrameWidth=b.initialFrameWidth?b.initialFrameWidth:b.initialFrameWidth=a.offsetWidth;
b.initialFrameHeight?b.minFrameHeight=b.initialFrameHeight:b.initialFrameHeight=b.minFrameHeight=a.offsetHeight;a.style.width=/%$/.test(b.initialFrameWidth)?"100%":b.initialFrameWidth-parseInt(g.getComputedStyle(a,"padding-left"))-parseInt(g.getComputedStyle(a,"padding-right"))+"px";a.style.height=/%$/.test(b.initialFrameHeight)?"100%":b.initialFrameHeight-parseInt(g.getComputedStyle(a,"padding-top"))-parseInt(g.getComputedStyle(a,"padding-bottom"))+"px";a.style.zIndex=b.zIndex;var c=(y&&9>t.version?
"":"<!DOCTYPE html>")+"<html xmlns='http://www.w3.org/1999/xhtml' class='view' ><head><style type='text/css'>.view{padding:0;word-wrap:break-word;cursor:text;height:90%;}\nbody{margin:8px;font-family:sans-serif;font-size:16px;}p{margin:5px 0;}</style>"+(b.iframeCssUrl?"<link rel='stylesheet' type='text/css' href='"+u.unhtml(b.iframeCssUrl)+"'/>":"")+(b.initialStyle?"<style>"+b.initialStyle+"</style>":"")+"</head><body class='view' ></body><script type='text/javascript' "+(y?"defer='defer'":"")+" id='_initialScript'>setTimeout(function(){editor = window.parent.UE.instants['ueditorInstant"+
this.uid+"'];editor._setup(document);},0);var _tmpScript = document.getElementById('_initialScript');_tmpScript.parentNode.removeChild(_tmpScript);\x3c/script></html>";a.appendChild(g.createElement(document,"iframe",{id:"ueditor_"+this.uid,width:"100%",height:"100%",frameborder:"0",src:"javascript:void(function(){document.open();"+(b.customDomain&&document.domain!=location.hostname?'document.domain="'+document.domain+'";':"")+'document.write("'+c+'");document.close();}())'}));a.style.overflow="hidden";
setTimeout(function(){/%$/.test(b.initialFrameWidth)&&(b.minFrameWidth=b.initialFrameWidth=a.offsetWidth);/%$/.test(b.initialFrameHeight)&&(b.minFrameHeight=b.initialFrameHeight=a.offsetHeight,a.style.height=b.initialFrameHeight+"px")})}},_setup:function(a){var b=this,c=b.options;y?(a.body.disabled=!0,a.body.contentEditable=!0,a.body.disabled=!1):a.body.contentEditable=!0;a.body.spellcheck=!1;b.document=a;b.window=a.defaultView||a.parentWindow;b.iframe=b.window.frameElement;b.body=a.body;b.selection=
new v.Selection(a);var e;t.gecko&&(e=this.selection.getNative())&&e.removeAllRanges();this._initEvents();for(var l=this.iframe.parentNode;!g.isBody(l);l=l.parentNode)if("FORM"==l.tagName){b.form=l;if(b.options.autoSyncData)g.on(b.window,"blur",function(){f(l,b)});else g.on(l,"submit",function(){f(this,b)});break}if(c.initialContent)if(c.autoClearinitialContent){var x=b.execCommand;b.execCommand=function(){b.fireEvent("firstBeforeExecCommand");return x.apply(b,arguments)};this._setDefaultContent(c.initialContent)}else this.setContent(c.initialContent,
!1,!0);g.isEmptyNode(b.body)&&(b.body.innerHTML="<p>"+(t.ie?"":"<br/>")+"</p>");c.focus&&setTimeout(function(){b.focus(b.options.focusInEnd);!b.options.autoClearinitialContent&&b._selectionChange()},0);b.container||(b.container=this.iframe.parentNode);c.fullscreen&&b.ui&&b.ui.setFullScreen(!0);try{b.document.execCommand("2D-position",!1,!1)}catch(z){}try{b.document.execCommand("enableInlineTableEditing",!1,!1)}catch(C){}try{b.document.execCommand("enableObjectResizing",!1,!1)}catch(k){}b._bindshortcutKeys();
b.isReady=1;b.fireEvent("ready");c.onready&&c.onready.call(b);if(!t.ie9below)g.on(b.window,["blur","focus"],function(a){if("blur"==a.type){b._bakRange=b.selection.getRange();try{b._bakNativeRange=b.selection.getNative().getRangeAt(0),b.selection.getNative().removeAllRanges()}catch(d){b._bakNativeRange=null}}else try{b._bakRange&&b._bakRange.select()}catch(c){}});t.gecko&&10902>=t.version&&(b.body.contentEditable=!1,setTimeout(function(){b.body.contentEditable=!0},100),setInterval(function(){b.body.style.height=
b.iframe.offsetHeight-20+"px"},100));!c.isShow&&b.setHide();c.readonly&&b.setDisabled()},sync:function(a){(a=a?document.getElementById(a):g.findParent(this.iframe.parentNode,function(a){return"FORM"==a.tagName},!0))&&f(a,this)},setHeight:function(a,b){a!==parseInt(this.iframe.parentNode.style.height)&&(this.iframe.parentNode.style.height=a+"px");!b&&(this.options.minFrameHeight=this.options.initialFrameHeight=a);this.body.style.height=a+"px";!b&&this.trigger("setHeight")},addshortcutkey:function(a,
b){var c={};b?c[a]=b:c=a;u.extend(this.shortcutkeys,c)},_bindshortcutKeys:function(){var a=this,b=this.shortcutkeys;a.addListener("keydown",function(c,e){var l=e.keyCode||e.which,f;for(f in b)for(var z=b[f].split(","),C=0,k;k=z[C++];){k=k.split(":");var n=k[0];k=k[1];if(/^(ctrl)(\+shift)?\+(\d+)$/.test(n.toLowerCase())||/^(\d+)$/.test(n))if("ctrl"==RegExp.$1&&(e.ctrlKey||e.metaKey)&&(""!=RegExp.$2?e[RegExp.$2.slice(1)+"Key"]:1)&&l==RegExp.$3||l==RegExp.$1)-1!=a.queryCommandState(f,k)&&a.execCommand(f,
k),g.preventDefault(e)}})},getContent:function(a,b,c,e,l){a&&u.isFunction(a)&&(b=a,a="");if(b?!b():!this.hasContents())return"";this.fireEvent("beforegetcontent");b=UE.htmlparser(this.body.innerHTML,e);this.filterOutputRule(b);this.fireEvent("aftergetcontent",a,b);return b.toHtml(l)},getAllHtml:function(){var a=[];this.fireEvent("getAllHtml",a);if(t.ie&&8<t.version){var b="";u.each(this.document.styleSheets,function(a){b+=a.href?'<link rel="stylesheet" type="text/css" href="'+a.href+'" />':"<style>"+
a.cssText+"</style>"});u.each(this.document.getElementsByTagName("script"),function(a){b+=a.outerHTML})}return"<html><head>"+(this.options.charset?'<meta http-equiv="Content-Type" content="text/html; charset='+this.options.charset+'"/>':"")+(b||this.document.getElementsByTagName("head")[0].innerHTML)+a.join("\n")+"</head><body "+(y&&9>t.version?'class="view"':"")+">"+this.getContent(null,null,!0)+"</body></html>"},getPlainTxt:function(){var a=new RegExp(g.fillChar,"g"),b=this.body.innerHTML.replace(/[\n\r]/g,
""),b=b.replace(/<(p|div)[^>]*>(<br\/?>|&nbsp;)<\/\1>/gi,"\n").replace(/<br\/?>/gi,"\n").replace(/<[^>/]+>/g,"").replace(/(\n)?<\/([^>]+)>/g,function(a,d,b){return A.$block[b]?"\n":d?d:""});return b.replace(a,"").replace(/\u00a0/g," ").replace(/&nbsp;/g," ")},getContentTxt:function(){return this.body[t.ie?"innerText":"textContent"].replace(new RegExp(g.fillChar,"g"),"").replace(/\u00a0/g," ")},setContent:function(a,b,c){this.fireEvent("beforesetcontent",a);a=UE.htmlparser(a);this.filterInputRule(a);
a=a.toHtml();this.body.innerHTML=(b?this.body.innerHTML:"")+a;if("p"==this.options.enterTag)if(b=this.body.firstChild,!b||1==b.nodeType&&(A.$cdata[b.tagName]||"DIV"==b.tagName&&b.getAttribute("cdata_tag")||g.isCustomeNode(b))&&b===this.body.lastChild)this.body.innerHTML="<p>"+(t.ie?"&nbsp;":"<br/>")+"</p>"+this.body.innerHTML;else for(var e=this.document.createElement("p");b;){for(;b&&(3==b.nodeType||1==b.nodeType&&A.p[b.tagName]&&!A.$cdata[b.tagName]);)a=b.nextSibling,e.appendChild(b),b=a;if(e.firstChild)if(b)b.parentNode.insertBefore(e,
b),e=this.document.createElement("p");else{this.body.appendChild(e);break}b=b.nextSibling}this.fireEvent("aftersetcontent");this.fireEvent("contentchange");!c&&this._selectionChange();this._bakRange=this._bakIERange=this._bakNativeRange=null;var l;t.gecko&&(l=this.selection.getNative())&&l.removeAllRanges();this.options.autoSyncData&&this.form&&f(this.form,this)},focus:function(a){try{var b=this.selection.getRange();if(a){var c=this.body.lastChild;c&&1==c.nodeType&&!A.$empty[c.tagName]&&(g.isEmptyBlock(c)?
b.setStartAtFirst(c):b.setStartAtLast(c),b.collapse(!0));b.setCursor(!0)}else!b.collapsed&&g.isBody(b.startContainer)&&0==b.startOffset&&(c=this.body.firstChild)&&1==c.nodeType&&!A.$empty[c.tagName]&&b.setStartAtFirst(c).collapse(!0),b.select(!0);this.fireEvent("focus selectionchange")}catch(e){}},isFocus:function(){return this.selection.isFocus()},blur:function(){var a=this.selection.getNative();if(a.empty&&t.ie){var b=document.body.createTextRange();b.moveToElementText(document.body);b.collapse(!0);
b.select();a.empty()}else a.removeAllRanges()},_initEvents:function(){var a=this,b=a.document,c=a.window;a._proxyDomEvent=u.bind(a._proxyDomEvent,a);g.on(b,"click contextmenu mousedown keydown keyup keypress mouseup mouseover mouseout selectstart".split(" "),a._proxyDomEvent);g.on(c,["focus","blur"],a._proxyDomEvent);g.on(a.body,"drop",function(b){t.gecko&&b.stopPropagation&&b.stopPropagation();a.fireEvent("contentchange")});g.on(b,["mouseup","keydown"],function(b){"keydown"==b.type&&(b.ctrlKey||
b.metaKey||b.shiftKey||b.altKey)||2!=b.button&&a._selectionChange(250,b)})},_proxyDomEvent:function(a){return!1===this.fireEvent("before"+a.type.replace(/^on/,"").toLowerCase())||!1===this.fireEvent(a.type.replace(/^on/,""),a)?!1:this.fireEvent("after"+a.type.replace(/^on/,"").toLowerCase())},_selectionChange:function(a,c){var e=this,l=!1,r,f;t.ie&&9>t.version&&c&&"mouseup"==c.type&&!this.selection.getRange().collapsed&&(l=!0,r=c.clientX,f=c.clientY);clearTimeout(b);b=setTimeout(function(){if(e.selection&&
e.selection.getNative()){var a;if(l&&"None"==e.selection.getNative().type){a=e.document.body.createTextRange();try{a.moveToPoint(r,f)}catch(b){a=null}}var d;a&&(d=e.selection.getIERange,e.selection.getIERange=function(){return a});e.selection.cache();d&&(e.selection.getIERange=d);e.selection._cachedRange&&e.selection._cachedStartElement&&(e.fireEvent("beforeselectionchange"),e.fireEvent("selectionchange",!!c),e.fireEvent("afterselectionchange"),e.selection.clear())}},a||50)},_callCmdFn:function(a,
b){var c=b[0].toLowerCase(),e;e=(c=this.commands[c]||UE.commands[c])&&c[a];if(!(c&&e||"queryCommandState"!=a))return 0;if(e)return e.apply(this,b)},execCommand:function(a){a=a.toLowerCase();var b,c=this.commands[a]||UE.commands[a];if(!c||!c.execCommand)return null;c.notNeedUndo||this.__hasEnterExecCommand?(b=this._callCmdFn("execCommand",arguments),this.__hasEnterExecCommand||c.ignoreContentChange||this._ignoreContentChange||this.fireEvent("contentchange")):(this.__hasEnterExecCommand=!0,-1!=this.queryCommandState.apply(this,
arguments)&&(this.fireEvent("saveScene"),this.fireEvent.apply(this,["beforeexeccommand",a].concat(arguments)),b=this._callCmdFn("execCommand",arguments),this.fireEvent.apply(this,["afterexeccommand",a].concat(arguments)),this.fireEvent("saveScene")),this.__hasEnterExecCommand=!1);this.__hasEnterExecCommand||c.ignoreContentChange||this._ignoreContentChange||this._selectionChange();return b},queryCommandState:function(a){return this._callCmdFn("queryCommandState",arguments)},queryCommandValue:function(a){return this._callCmdFn("queryCommandValue",
arguments)},hasContents:function(a){if(a)for(var b=0,c;c=a[b++];)if(0<this.document.getElementsByTagName(c).length)return!0;if(!g.isEmptyBlock(this.body))return!0;a=["div"];for(b=0;c=a[b++];){c=g.getElementsByTagName(this.document,c);for(var e=0,l;l=c[e++];)if(g.isCustomeNode(l))return!0}return!1},reset:function(){this.fireEvent("reset")},setEnabled:function(){var a;if("false"==this.body.contentEditable){this.body.contentEditable=!0;a=this.selection.getRange();try{a.moveToBookmark(this.lastBk),delete this.lastBk}catch(b){a.setStartAtFirst(this.body).collapse(!0)}a.select(!0);
this.bkqueryCommandState&&(this.queryCommandState=this.bkqueryCommandState,delete this.bkqueryCommandState);this.bkqueryCommandValue&&(this.queryCommandValue=this.bkqueryCommandValue,delete this.bkqueryCommandValue);this.fireEvent("selectionchange")}},enable:function(){return this.setEnabled()},setDisabled:function(a){var b=this;a=a?u.isArray(a)?a:[a]:[];"true"==b.body.contentEditable&&(b.lastBk||(b.lastBk=b.selection.getRange().createBookmark(!0)),b.body.contentEditable=!1,b.bkqueryCommandState=
b.queryCommandState,b.bkqueryCommandValue=b.queryCommandValue,b.queryCommandState=function(c){return-1!=u.indexOf(a,c)?b.bkqueryCommandState.apply(b,arguments):-1},b.queryCommandValue=function(c){return-1!=u.indexOf(a,c)?b.bkqueryCommandValue.apply(b,arguments):null},b.fireEvent("selectionchange"))},disable:function(a){return this.setDisabled(a)},_setDefaultContent:function(){function a(){var b=this;b.document.getElementById("initContent")&&(b.body.innerHTML="<p>"+(y?"":"<br/>")+"</p>",b.removeListener("firstBeforeExecCommand focus",
a),setTimeout(function(){b.focus();b._selectionChange()},0))}return function(b){this.body.innerHTML='<p id="initContent">'+b+"</p>";this.addListener("firstBeforeExecCommand focus",a)}}(),setShow:function(){var a=this.selection.getRange();if("none"==this.container.style.display){try{a.moveToBookmark(this.lastBk),delete this.lastBk}catch(b){a.setStartAtFirst(this.body).collapse(!0)}setTimeout(function(){a.select(!0)},100);this.container.style.display=""}},show:function(){return this.setShow()},setHide:function(){this.lastBk||
(this.lastBk=this.selection.getRange().createBookmark(!0));this.container.style.display="none"},hide:function(){return this.setHide()},getLang:function(a){var b=UE.I18N[this.options.lang];if(!b)throw Error("not import language file");a=(a||"").split(".");for(var c=0,e;(e=a[c++])&&(b=b[e],b););return b},getContentLength:function(a,b){var c=this.getContent(!1,!1,!0).length;if(a){b=(b||[]).concat(["hr","img","iframe"]);for(var c=this.getContentTxt().replace(/[\t\r\n]+/g,"").length,e=0,l;l=b[e++];)c+=
this.document.getElementsByTagName(l).length}return c},addInputRule:function(a){this.inputRules.push(a)},filterInputRule:function(a){for(var b=0,c;c=this.inputRules[b++];)c.call(this,a)},addOutputRule:function(a){this.outputRules.push(a)},filterOutputRule:function(a){for(var b=0,c;c=this.outputRules[b++];)c.call(this,a)},getActionUrl:function(a){a=this.getOpt(a)||a;var b=this.getOpt("imageUrl"),c=this.getOpt("serverUrl");!c&&b&&(c=b.replace(/^(.*[\/]).+([\.].+)$/,"$1controller$2"));return c?(c=c+
(-1==c.indexOf("?")?"?":"&")+"action="+(a||""),u.formatUrl(c)):""}};u.inherits(l,da)})();(function(){UE.Editor.prototype.loadServerConfig=function(){var f=this;setTimeout(function(){try{f.options.imageUrl&&f.setOpt("serverUrl",f.options.imageUrl.replace(/^(.*[\/]).+([\.].+)$/,"$1controller$2"));var c=f.getActionUrl("config"),e=u.isCrossDomainUrl(c);f._serverConfigLoaded=!1;c&&UE.ajax.request(c,{method:"GET",dataType:e?"jsonp":"",onsuccess:function(a){try{var c=e?a:eval("("+a.responseText+")");u.extend(f.options,
c);f.fireEvent("serverConfigLoaded");f._serverConfigLoaded=!0}catch(d){console&&console.error("\u540e\u53f0\u914d\u7f6e\u9879\u8fd4\u56de\u51fa\u9519!")}},onerror:function(){console&&console.error("\u83b7\u53d6\u540e\u53f0\u914d\u7f6e\u9879\u51fa\u9519!")}})}catch(a){console&&console.log("\u83b7\u53d6\u540e\u53f0\u914d\u7f6e\u9879\u8bf7\u6c42\u51fa\u9519!")}})};UE.Editor.prototype.isServerConfigLoaded=function(){return this._serverConfigLoaded||!1};UE.Editor.prototype.afterConfigReady=function(f){if(f&&
u.isFunction(f)){var c=this,e=function(){f.apply(c,arguments);c.removeListener("serverConfigLoaded",e)};c.isServerConfigLoaded()?f.call(c,"serverConfigLoaded"):c.addListener("serverConfigLoaded",e)}}})();UE.ajax=function(){function f(a){var b=[],d;for(d in a)if("method"!=d&&"timeout"!=d&&"async"!=d&&"dataType"!=d&&"callback"!=d&&void 0!=a[d]&&null!=a[d])if("function"!=(typeof a[d]).toLowerCase()&&"object"!=(typeof a[d]).toLowerCase())b.push(encodeURIComponent(d)+"="+encodeURIComponent(a[d]));else if(u.isArray(a[d]))for(var c=
0;c<a[d].length;c++)b.push(encodeURIComponent(d)+"[]="+encodeURIComponent(a[d][c]));return b.join("&")}function c(a,b){var c=d(),e=!1,l={method:"POST",timeout:5E3,async:!0,data:{},onsuccess:function(){},onerror:function(){}};"object"===typeof a&&(b=a,a=b.url);if(c&&a){var g=b?u.extend(l,b):l,l=f(g);u.isEmptyObject(g.data)||(l+=(l?"&":"")+f(g.data));var C=setTimeout(function(){4!=c.readyState&&(e=!0,c.abort(),clearTimeout(C))},g.timeout),k=g.method.toUpperCase(),n=a+(-1==a.indexOf("?")?"?":"&")+("POST"==
k?"":l+"&noCache="+ +new Date);c.open(k,n,g.async);c.onreadystatechange=function(){if(4==c.readyState)if(e||200!=c.status)g.onerror(c);else g.onsuccess(c)};"POST"==k?(c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(l)):c.send(null)}}function e(a,b){function d(a){return function(){try{if(a)l.onerror&&l.onerror();else try{clearTimeout(t),c.apply(window,arguments)}catch(b){}}catch(d){l.onerror&&l.onerror.call(window,d)}finally{l.oncomplete&&l.oncomplete.apply(window,arguments);
e.parentNode&&e.parentNode.removeChild(e);window[n]=null;try{delete window[n]}catch(m){}}}}var c=b.onsuccess||function(){},e=document.createElement("SCRIPT"),l=b||{},g=l.charset,k=l.jsonp||"callback",n,q=l.timeOut||0,t,v=new RegExp("(\\?|&)"+k+"=([^&]*)"),I;if(u.isFunction(c))n="bd__editor__"+Math.floor(2147483648*Math.random()).toString(36),window[n]=d(0);else if(u.isString(c))n=c;else if(I=v.exec(a))n=I[2];a=a.replace(v,"$1"+k+"="+n);0>a.search(v)&&(a+=(0>a.indexOf("?")?"?":"&")+k+"="+n);k=f(b);
u.isEmptyObject(b.data)||(k+=(k?"&":"")+f(b.data));k&&(a=a.replace(/\?/,"?"+k+"&"));e.onerror=d(1);q&&(t=setTimeout(d(1),q));(function(a,b,d){a.setAttribute("type","text/javascript");a.setAttribute("defer","defer");d&&a.setAttribute("charset",d);a.setAttribute("src",b);document.getElementsByTagName("head")[0].appendChild(a)})(e,a,g)}var a="XMLHttpRequest()";try{new ActiveXObject("Msxml2.XMLHTTP"),a="ActiveXObject('Msxml2.XMLHTTP')"}catch(b){try{new ActiveXObject("Microsoft.XMLHTTP"),a="ActiveXObject('Microsoft.XMLHTTP')"}catch(l){}}var d=
new Function("return new "+a);return{request:function(a,b){b&&"jsonp"==b.dataType?e(a,b):c(a,b)},getJSONP:function(a,b,d){e(a,{data:b,oncomplete:d})}}}();UE.filterWord=function(){function f(c){return c=c.replace(/[\d.]+\w+/g,function(a){return u.transUnitToPx(a)})}function c(c){return c.replace(/[\t\r\n]+/g," ").replace(/\x3c!--[\s\S]*?--\x3e/ig,"").replace(/<v:shape [^>]*>[\s\S]*?.<\/v:shape>/gi,function(a){if(t.opera)return"";try{if(/Bitmap/i.test(a))return"";var b=a.match(/width:([ \d.]*p[tx])/i)[1],
c=a.match(/height:([ \d.]*p[tx])/i)[1],d=a.match(/src=\s*"([^"]*)"/i)[1];return'<img width="'+f(b)+'" height="'+f(c)+'" src="'+d+'" />'}catch(e){return""}}).replace(/<\/?div[^>]*>/g,"").replace(/v:\w+=(["']?)[^'"]+\1/g,"").replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|xml|meta|link|style|\w+:\w+)(?=[\s\/>]))[^>]*>/gi,"").replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>").replace(/\s+(class|lang|align)\s*=\s*(['"]?)([\w-]+)\2/ig,function(a,b,c,
d){return"class"==b&&"MsoListParagraph"==d?a:""}).replace(/<(font|span)[^>]*>(\s*)<\/\1>/gi,function(a,b,c){return c.replace(/[\t\r\n ]+/g," ")}).replace(/(<[a-z][^>]*)\sstyle=(["'])([^\2]*?)\2/gi,function(a,b,c,d){a=[];d=d.replace(/^\s+|\s+$/,"").replace(/&#39;/g,"'").replace(/&quot;/gi,"'").split(/;\s*/g);c=0;for(var e;e=d[c];c++){var m,g=e.split(":");if(2==g.length&&(e=g[0].toLowerCase(),m=g[1].toLowerCase(),!(/^(background)\w*/.test(e)&&0==m.replace(/(initial|\s)/g,"").length||/^(margin)\w*/.test(e)&&
/^0\w+$/.test(m)))){switch(e){case "mso-padding-alt":case "mso-padding-top-alt":case "mso-padding-right-alt":case "mso-padding-bottom-alt":case "mso-padding-left-alt":case "mso-margin-alt":case "mso-margin-top-alt":case "mso-margin-right-alt":case "mso-margin-bottom-alt":case "mso-margin-left-alt":case "mso-height":case "mso-width":case "mso-vertical-align-alt":/<table/.test(b)||(a[c]=e.replace(/^mso-|-alt$/g,"")+":"+f(m));continue;case "horiz-align":a[c]="text-align:"+m;continue;case "vert-align":a[c]=
"vertical-align:"+m;continue;case "font-color":case "mso-foreground":a[c]="color:"+m;continue;case "mso-background":case "mso-highlight":a[c]="background:"+m;continue;case "mso-default-height":a[c]="min-height:"+f(m);continue;case "mso-default-width":a[c]="min-width:"+f(m);continue;case "mso-padding-between-alt":a[c]="border-collapse:separate;border-spacing:"+f(m);continue;case "text-line-through":if("single"==m||"double"==m)a[c]="text-decoration:line-through";continue;case "mso-zero-height":"yes"==
m&&(a[c]="display:none");continue;case "margin":if(!/[1-9]/.test(m))continue}/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/.test(e)||/text\-indent|padding|margin/.test(e)&&/\-[\d.]+/.test(m)||(a[c]=e+":"+g[1])}}return b+(a.length?' style="'+a.join(";").replace(/;{2,}/g,";")+'"':"")}).replace(/[\d.]+(cm|pt)/g,function(a){return u.transUnitToPx(a)})}return function(e){return/(class="?Mso|style="[^"]*\bmso\-|w:WordDocument|<(v|o):|lang=)/ig.test(e)?
c(e):e}}();(function(){function f(a,b,d){a.push("\n");return b+(d?1:-1)}function c(a,b){for(var d=0;d<b;d++)a.push("    ")}function e(b,d,m,l){switch(b.type){case "root":for(var h=0,k;k=b.children[h++];)m&&"element"==k.type&&!A.$inlineWithA[k.tagName]&&1<h&&(f(d,l,!0),c(d,l)),e(k,d,m,l);break;case "text":"pre"==b.parentNode.tagName?d.push(b.data):d.push(g[b.parentNode.tagName]?u.html(b.data):b.data.replace(/[ ]{2}/g," &nbsp;"));break;case "element":a(b,d,m,l);break;case "comment":d.push("\x3c!--"+
b.data+"--\x3e")}return d}function a(a,b,d,l){var h="";if(a.attrs){var h=[],g=a.attrs,w;for(w in g)h.push(w+(void 0!==g[w]?'="'+(m[w]?u.html(g[w]).replace(/["]/g,function(a){return"&quot;"}):u.unhtml(g[w]))+'"':""));h=h.join(" ")}b.push("<"+a.tagName+(h?" "+h:"")+(A.$empty[a.tagName]?"/":"")+">");d&&!A.$inlineWithA[a.tagName]&&"pre"!=a.tagName&&a.children&&a.children.length&&(l=f(b,l,!0),c(b,l));if(a.children&&a.children.length)for(h=0;g=a.children[h++];)d&&"element"==g.type&&!A.$inlineWithA[g.tagName]&&
1<h&&(f(b,l),c(b,l)),e(g,b,d,l);A.$empty[a.tagName]||(d&&!A.$inlineWithA[a.tagName]&&"pre"!=a.tagName&&a.children&&a.children.length&&(l=f(b,l),c(b,l)),b.push("</"+a.tagName+">"))}function b(a,d){var c;if("element"==a.type&&a.getAttr("id")==d)return a;if(a.children&&a.children.length)for(var e=0;c=a.children[e++];)if(c=b(c,d))return c}function l(a,b,d){"element"==a.type&&a.tagName==b&&d.push(a);if(a.children&&a.children.length)for(var c=0,e;e=a.children[c++];)l(e,b,d)}function d(a,b){if(a.children&&
a.children.length)for(var c=0,e;e=a.children[c];)d(e,b),e.parentNode&&(e.children&&e.children.length&&b(e),e.parentNode&&c++);else b(a)}var h=UE.uNode=function(a){this.type=a.type;this.data=a.data;this.tagName=a.tagName;this.parentNode=a.parentNode;this.attrs=a.attrs||{};this.children=a.children},m={href:1,src:1,_src:1,_href:1,cdata_data:1},g={style:1,script:1};h.createElement=function(a){return/[<>]/.test(a)?UE.htmlparser(a).children[0]:new h({type:"element",children:[],tagName:a})};h.createText=
function(a,b){return new UE.uNode({type:"text",data:b?a:u.unhtml(a||"")})};h.prototype={toHtml:function(a){var b=[];e(this,b,a,0);return b.join("")},innerHTML:function(a){if("element"!=this.type||A.$empty[this.tagName])return this;if(u.isString(a)){if(this.children)for(var b=0,d;d=this.children[b++];)d.parentNode=null;this.children=[];a=UE.htmlparser(a);for(b=0;d=a.children[b++];)this.children.push(d),d.parentNode=this;return this}a=new UE.uNode({type:"root",children:this.children});return a.toHtml()},
innerText:function(a,b){if("element"!=this.type||A.$empty[this.tagName])return this;if(a){if(this.children)for(var d=0,c;c=this.children[d++];)c.parentNode=null;this.children=[];this.appendChild(h.createText(a,b));return this}return this.toHtml().replace(/<[^>]+>/g,"")},getData:function(){return"element"==this.type?"":this.data},firstChild:function(){return this.children?this.children[0]:null},lastChild:function(){return this.children?this.children[this.children.length-1]:null},previousSibling:function(){for(var a=
this.parentNode,b=0,d;d=a.children[b];b++)if(d===this)return 0==b?null:a.children[b-1]},nextSibling:function(){for(var a=this.parentNode,b=0,d;d=a.children[b++];)if(d===this)return a.children[b]},replaceChild:function(a,b){if(this.children){a.parentNode&&a.parentNode.removeChild(a);for(var d=0,c;c=this.children[d];d++)if(c===b)return this.children.splice(d,1,a),b.parentNode=null,a.parentNode=this,a}},appendChild:function(a){if("root"==this.type||"element"==this.type&&!A.$empty[this.tagName]){this.children||
(this.children=[]);a.parentNode&&a.parentNode.removeChild(a);for(var b=0,d;d=this.children[b];b++)if(d===a){this.children.splice(b,1);break}this.children.push(a);a.parentNode=this;return a}},insertBefore:function(a,b){if(this.children){a.parentNode&&a.parentNode.removeChild(a);for(var d=0,c;c=this.children[d];d++)if(c===b)return this.children.splice(d,0,a),a.parentNode=this,a}},insertAfter:function(a,b){if(this.children){a.parentNode&&a.parentNode.removeChild(a);for(var d=0,c;c=this.children[d];d++)if(c===
b)return this.children.splice(d+1,0,a),a.parentNode=this,a}},removeChild:function(a,b){if(this.children)for(var d=0,c;c=this.children[d];d++)if(c===a){this.children.splice(d,1);c.parentNode=null;if(b&&c.children&&c.children.length)for(var e=0,m;m=c.children[e];e++)this.children.splice(d+e,0,m),m.parentNode=this;return c}},getAttr:function(a){return this.attrs&&this.attrs[a.toLowerCase()]},setAttr:function(a,b){if(a)if(this.attrs||(this.attrs={}),u.isObject(a))for(var d in a)a[d]?this.attrs[d.toLowerCase()]=
a[d]:delete this.attrs[d];else b?this.attrs[a.toLowerCase()]=b:delete this.attrs[a];else delete this.attrs},getIndex:function(){for(var a=this.parentNode,b=0,d;d=a.children[b];b++)if(d===this)return b;return-1},getNodeById:function(a){var d;if(this.children&&this.children.length)for(var c=0;d=this.children[c++];)if(d=b(d,a))return d},getNodesByTagName:function(a){a=u.trim(a).replace(/[ ]{2,}/g," ").split(" ");var b=[],d=this;u.each(a,function(a){if(d.children&&d.children.length)for(var c=0,e;e=d.children[c++];)l(e,
a,b)});return b},getStyle:function(a){var b=this.getAttr("style");return b?(a=b.match(new RegExp("(^|;)\\s*"+a+":([^;]+)","i")))&&a[0]?a[2]:"":""},setStyle:function(a,b){function d(a,b){c=c.replace(new RegExp("(^|;)\\s*"+a+":([^;]+;?)","gi"),"$1");b&&(c=a+":"+u.unhtml(b)+";"+c)}var c=this.getAttr("style");c||(c="");if(u.isObject(a))for(var e in a)d(e,a[e]);else d(a,b);this.setAttr("style",u.trim(c))},traversal:function(a){this.children&&this.children.length&&d(this,a);return this}}})();UE.htmlparser=
function(f,c){function e(a,b){if(r[a.tagName]){var d=m.createElement(r[a.tagName]);a.appendChild(d);d.appendChild(m.createText(b))}else a.appendChild(m.createText(b))}function a(b,d,c){var e;if(e=w[d]){for(var f=b,g;"root"!=f.type;){if(u.isArray(e)?-1!=u.indexOf(e,f.tagName):e==f.tagName){b=f;g=!0;break}f=f.parentNode}g||(b=a(b,u.isArray(e)?e[0]:e))}e=new m({parentNode:b,type:"element",tagName:d.toLowerCase(),children:A.$empty[d]?null:[]});if(c){for(f={};g=l.exec(c);)f[g[1].toLowerCase()]=h[g[1].toLowerCase()]?
g[2]||g[3]||g[4]:u.unhtml(g[2]||g[3]||g[4]);e.attrs=f}b.children.push(e);return A.$empty[d]?b:e}var b=/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\s\/<>]+)\s*((?:(?:"[^"]*")|(?:'[^']*')|[^"'<>])*)\/?>))/g,l=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,d={b:1,code:1,i:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,span:1,sub:1,img:1,sup:1,font:1,big:1,small:1,iframe:1,a:1,br:1,pre:1};f=f.replace(new RegExp(g.fillChar,"g"),"");c||(f=f.replace(new RegExp("[\\r\\t\\n"+
(c?"":" ")+"]*</?(\\w+)\\s*(?:[^>]*)>[\\r\\t\\n"+(c?"":" ")+"]*","g"),function(a,b){return b&&d[b.toLowerCase()]?a.replace(/(^[\n\r]+)|([\n\r]+$)/g,""):a.replace(new RegExp("^[\\r\\n"+(c?"":" ")+"]+"),"").replace(new RegExp("[\\r\\n"+(c?"":" ")+"]+$"),"")}));for(var h={href:1,src:1},m=UE.uNode,w={td:"tr",tr:["tbody","thead","tfoot"],tbody:"table",th:"tr",thead:"table",tfoot:"table",caption:"table",li:["ul","ol"],dt:"dl",dd:"dl",option:"select"},r={ol:"li",ul:"li"},x,k=0,C=0,n=new m({type:"root",children:[]}),
q=n;x=b.exec(f);){k=x.index;try{if(k>C&&e(q,f.slice(C,k)),x[3])A.$cdata[q.tagName]?e(q,x[0]):q=a(q,x[3].toLowerCase(),x[4]);else if(x[1]){if("root"!=q.type)if(A.$cdata[q.tagName]&&!A.$cdata[x[1]])e(q,x[0]);else{for(k=q;"element"==q.type&&q.tagName!=x[1].toLowerCase();)if(q=q.parentNode,"root"==q.type)throw q=k,"break";q=q.parentNode}}else x[2]&&q.children.push(new m({type:"comment",data:x[2],parentNode:q}))}catch(t){}C=b.lastIndex}C<f.length&&e(q,f.slice(C));return n};UE.filterNode=function(){function f(c,
e){switch(c.type){case "element":var a;if(a=e[c.tagName])if("-"===a)c.parentNode.removeChild(c);else if(u.isFunction(a)){var b=c.parentNode,l=c.getIndex();a(c);if(c.parentNode){if(c.children)for(a=0;l=c.children[a];)f(l,e),l.parentNode&&a++}else for(a=l;l=b.children[a];)f(l,e),l.parentNode&&a++}else{if((a=a.$)&&c.attrs){var l={},d;for(b in a){d=c.getAttr(b);if("style"==b&&u.isArray(a[b])){var h=[];u.each(a[b],function(a){var b;(b=c.getStyle(a))&&h.push(a+":"+b)});d=h.join(";")}d&&(l[b]=d)}c.attrs=
l}if(c.children)for(a=0;l=c.children[a];)f(l,e),l.parentNode&&a++}else if(A.$cdata[c.tagName])c.parentNode.removeChild(c);else for(b=c.parentNode,l=c.getIndex(),c.parentNode.removeChild(c,!0),a=l;l=b.children[a];)f(l,e),l.parentNode&&a++;break;case "comment":c.parentNode.removeChild(c)}}return function(c,e){if(u.isEmptyObject(e))return c;var a;(a=e["-"])&&u.each(a.split(" "),function(a){e[a]="-"});a=0;for(var b;b=c.children[a];)f(b,e),b.parentNode&&a++;return c}}();UE.plugin=function(){var f={};return{register:function(c,
e,a,b){a&&u.isFunction(a)&&(b=a,a=null);f[c]={optionName:a||c,execFn:e,afterDisabled:b}},load:function(c){u.each(f,function(e){var a=e.execFn.call(c);!1!==c.options[e.optionName]?a&&u.each(a,function(a,e){switch(e.toLowerCase()){case "shortcutkey":c.addshortcutkey(a);break;case "bindevents":u.each(a,function(a,b){c.addListener(b,a)});break;case "bindmultievents":u.each(u.isArray(a)?a:[a],function(a){var b=u.trim(a.type).split(/\s+/);u.each(b,function(b){c.addListener(b,a.handler)})});break;case "commands":u.each(a,
function(a,b){c.commands[b]=a});break;case "outputrule":c.addOutputRule(a);break;case "inputrule":c.addInputRule(a);break;case "defaultoptions":c.setOpt(a)}}):e.afterDisabled&&e.afterDisabled.call(c)});u.each(UE.plugins,function(e){e.call(c)})},run:function(c,e){var a=f[c];a&&a.exeFn.call(e)}}}();var ua=UE.keymap={Backspace:8,Tab:9,Enter:13,Shift:16,Control:17,Alt:18,CapsLock:20,Esc:27,Spacebar:32,PageUp:33,PageDown:34,End:35,Home:36,Left:37,Up:38,Right:39,Down:40,Insert:45,Del:46,NumLock:144,Cmd:91,
"=":187,"-":189,b:66,i:73,z:90,y:89,v:86,x:88,s:83,n:78},qa=UE.LocalStorage=function(){function f(){var a=document.createElement("div");a.style.display="none";if(!a.addBehavior)return null;a.addBehavior("#default#userdata");return{getItem:function(b){var c=null;try{document.body.appendChild(a),a.load(e),c=a.getAttribute(b),document.body.removeChild(a)}catch(d){}return c},setItem:function(b,c){document.body.appendChild(a);a.setAttribute(b,c);a.save(e);document.body.removeChild(a)},removeItem:function(b){document.body.appendChild(a);
a.removeAttribute(b);a.save(e);document.body.removeChild(a)}}}var c=window.localStorage||f()||null,e="localStorage";return{saveLocalData:function(a,b){return c&&b?(c.setItem(a,b),!0):!1},getLocalData:function(a){return c?c.getItem(a):null},removeItem:function(a){c&&c.removeItem(a)}}}();(function(){UE.Editor.prototype.setPreferences=function(f,c){var e={};u.isString(f)?e[f]=c:e=f;var a=qa.getLocalData("ueditor_preference");a&&(a=u.str2json(a))?u.extend(a,e):a=e;a&&qa.saveLocalData("ueditor_preference",
u.json2str(a))};UE.Editor.prototype.getPreferences=function(f){var c=qa.getLocalData("ueditor_preference");return c&&(c=u.str2json(c))?f?c[f]:c:null};UE.Editor.prototype.removePreferences=function(f){var c=qa.getLocalData("ueditor_preference");c&&(c=u.str2json(c))&&(c[f]=void 0,delete c[f]);c&&qa.saveLocalData("ueditor_preference",u.json2str(c))}})();UE.plugins.defaultfilter=function(){var f=this;f.setOpt({allowDivTransToP:!0,disabledTableInTable:!0});f.addInputRule(function(c){function e(a){for(;a&&
"element"==a.type;){if("td"==a.tagName)return!0;a=a.parentNode}return!1}var a=this.options.allowDivTransToP,b;c.traversal(function(c){if("element"==c.type)if(A.$cdata[c.tagName]||!f.options.autoClearEmptyNode||!A.$inline[c.tagName]||A.$empty[c.tagName]||c.attrs&&!u.isEmptyObject(c.attrs))switch(c.tagName){case "style":case "script":c.setAttr({cdata_tag:c.tagName,cdata_data:c.innerHTML()||"",_ue_custom_node_:"true"});c.tagName="div";c.innerHTML("");break;case "a":(b=c.getAttr("href"))&&c.setAttr("_href",
b);break;case "img":if((b=c.getAttr("src"))&&/^data:/.test(b)){c.parentNode.removeChild(c);break}c.setAttr("_src",c.getAttr("src"));break;case "span":t.webkit&&(b=c.getStyle("white-space"))&&/nowrap|normal/.test(b)&&(c.setStyle("white-space",""),f.options.autoClearEmptyNode&&u.isEmptyObject(c.attrs)&&c.parentNode.removeChild(c,!0));(b=c.getAttr("id"))&&/^_baidu_bookmark_/i.test(b)&&c.parentNode.removeChild(c);break;case "p":if(b=c.getAttr("align"))c.setAttr("align"),c.setStyle("text-align",b);u.each(c.children,
function(a){if("element"==a.type&&"p"==a.tagName){var b=a.nextSibling();for(c.parentNode.insertAfter(a,c);b;){var d=b.nextSibling();c.parentNode.insertAfter(b,a);a=b;b=d}return!1}});c.firstChild()||c.innerHTML(t.ie?"&nbsp;":"<br/>");break;case "div":if(c.getAttr("cdata_tag"))break;if((b=c.getAttr("class"))&&/^line number\d+/.test(b))break;if(!a)break;for(var d,h=UE.uNode.createElement("p");d=c.firstChild();)"text"!=d.type&&UE.dom.dtd.$block[d.tagName]?h.firstChild()?(c.parentNode.insertBefore(h,c),
h=UE.uNode.createElement("p")):c.parentNode.insertBefore(d,c):h.appendChild(d);h.firstChild()&&c.parentNode.insertBefore(h,c);c.parentNode.removeChild(c);break;case "dl":c.tagName="ul";break;case "dt":case "dd":c.tagName="li";break;case "li":(d=c.getAttr("class"))&&/list\-/.test(d)||c.setAttr();d=c.getNodesByTagName("ol ul");UE.utils.each(d,function(a){c.parentNode.insertAfter(a,c)});break;case "td":case "th":case "caption":c.children&&c.children.length||c.appendChild(t.ie11below?UE.uNode.createText(" "):
UE.uNode.createElement("br"));break;case "table":f.options.disabledTableInTable&&e(c)&&(c.parentNode.insertBefore(UE.uNode.createText(c.innerText()),c),c.parentNode.removeChild(c))}else c.firstChild()?"span"!=c.tagName||c.attrs&&!u.isEmptyObject(c.attrs)||c.parentNode.removeChild(c,!0):c.parentNode.removeChild(c)})});f.addOutputRule(function(c){var e;c.traversal(function(a){if("element"==a.type)if(!f.options.autoClearEmptyNode||!A.$inline[a.tagName]||A.$empty[a.tagName]||a.attrs&&!u.isEmptyObject(a.attrs))switch(a.tagName){case "div":if(e=
a.getAttr("cdata_tag"))a.tagName=e,a.appendChild(UE.uNode.createText(a.getAttr("cdata_data"))),a.setAttr({cdata_tag:"",cdata_data:"",_ue_custom_node_:""});break;case "a":(e=a.getAttr("_href"))&&a.setAttr({href:u.html(e),_href:""});break;case "span":(e=a.getAttr("id"))&&/^_baidu_bookmark_/i.test(e)&&a.parentNode.removeChild(a);break;case "img":(e=a.getAttr("_src"))&&a.setAttr({src:a.getAttr("_src"),_src:""})}else a.firstChild()?"span"!=a.tagName||a.attrs&&!u.isEmptyObject(a.attrs)||a.parentNode.removeChild(a,
!0):a.parentNode.removeChild(a)})})};UE.commands.inserthtml={execCommand:function(f,c,e){var a=this,b;if(c&&!0!==a.fireEvent("beforeinserthtml",c)){b=a.selection.getRange();f=b.document.createElement("div");f.style.display="inline";e||(e=UE.htmlparser(c),a.options.filterRules&&UE.filterNode(e,a.options.filterRules),a.filterInputRule(e),c=e.toHtml());f.innerHTML=u.trim(c);if(!b.collapsed&&(e=b.startContainer,g.isFillChar(e)&&b.setStartBefore(e),e=b.endContainer,g.isFillChar(e)&&b.setEndAfter(e),b.txtToElmBoundary(),
b.endContainer&&1==b.endContainer.nodeType&&(e=b.endContainer.childNodes[b.endOffset])&&g.isBr(e)&&b.setEndAfter(e),0==b.startOffset&&(e=b.startContainer,g.isBoundaryNode(e,"firstChild")&&(e=b.endContainer,b.endOffset==(3==e.nodeType?e.nodeValue.length:e.childNodes.length)&&g.isBoundaryNode(e,"lastChild")&&(a.body.innerHTML="<p>"+(t.ie?"":"<br/>")+"</p>",b.setStart(a.body.firstChild,0).collapse(!0)))),!b.collapsed&&b.deleteContents(),1==b.startContainer.nodeType)){e=b.startContainer.childNodes[b.startOffset];
var l;if(e&&g.isBlockElm(e)&&(l=e.previousSibling)&&g.isBlockElm(l)){for(b.setEnd(l,l.childNodes.length).collapse();e.firstChild;)l.appendChild(e.firstChild);g.remove(e)}}var d,h,m=0,w;b.inFillChar()&&(e=b.startContainer,g.isFillChar(e)?(b.setStartBefore(e).collapse(!0),g.remove(e)):g.isFillChar(e,!0)&&(e.nodeValue=e.nodeValue.replace(S,""),b.startOffset--,b.collapsed&&b.collapse(!0)));var r=g.findParentByTagName(b.startContainer,"li",!0);if(r){for(var x;e=f.firstChild;){for(;e&&(3==e.nodeType||!g.isBlockElm(e)||
"HR"==e.tagName);)x=e.nextSibling,b.insertNode(e).collapse(),d=e,e=x;if(e)if(/^(ol|ul)$/i.test(e.tagName)){for(;e.firstChild;)d=e.firstChild,g.insertAfter(r,e.firstChild),r=r.nextSibling;g.remove(e)}else x=e.nextSibling,l=a.document.createElement("li"),g.insertAfter(r,l),l.appendChild(e),d=e,e=x,r=l}r=g.findParentByTagName(b.startContainer,"li",!0);g.isEmptyBlock(r)&&g.remove(r);d&&b.setStartAfter(d).collapse(!0).select(!0)}else{for(;e=f.firstChild;){if(m){for(d=a.document.createElement("p");e&&(3==
e.nodeType||!A.$block[e.tagName]);)w=e.nextSibling,d.appendChild(e),e=w;d.firstChild&&(e=d)}b.insertNode(e);w=e.nextSibling;if(!m&&e.nodeType==g.NODE_ELEMENT&&g.isBlockElm(e)&&(d=g.findParent(e,function(a){return g.isBlockElm(a)}))&&"body"!=d.tagName.toLowerCase()&&(!A[d.tagName][e.nodeName]||e.parentNode!==d)){if(A[d.tagName][e.nodeName])for(h=e.parentNode;h!==d;)l=h,h=h.parentNode;else l=d;g.breakParent(e,l||h);l=e.previousSibling;g.trimWhiteTextNode(l);l.childNodes.length||g.remove(l);!t.ie&&(x=
e.nextSibling)&&g.isBlockElm(x)&&x.lastChild&&!g.isBr(x.lastChild)&&x.appendChild(a.document.createElement("br"));m=1}x=e.nextSibling;if(!f.firstChild&&x&&g.isBlockElm(x)){b.setStart(x,0).collapse(!0);break}b.setEndAfter(e).collapse()}e=b.startContainer;w&&g.isBr(w)&&g.remove(w);if(g.isBlockElm(e)&&g.isEmptyNode(e))if(w=e.nextSibling)g.remove(e),1==w.nodeType&&A.$block[w.tagName]&&b.setStart(w,0).collapse(!0).shrinkBoundary();else try{e.innerHTML=t.ie?g.fillChar:"<br/>"}catch(k){b.setStartBefore(e),
g.remove(e)}try{b.select(!0)}catch(C){}}setTimeout(function(){b=a.selection.getRange();b.scrollToView(a.autoHeightEnabled,a.autoHeightEnabled?g.getXY(a.iframe).y:0);a.fireEvent("afterinserthtml",c)},200)}}};UE.plugins.autotypeset=function(){function f(a,b){if(!a||3==a.nodeType)return 0;if(g.isBr(a))return 1;if(a&&a.parentNode&&m[a.tagName.toLowerCase()])return w&&w.contains(a)||a.getAttribute("pagebreak")?0:b?!g.isEmptyBlock(a):g.isEmptyBlock(a,new RegExp("[\\s"+g.fillChar+"]","g"))}function c(a){a.style.cssText||
(g.removeAttributes(a,["style"]),"span"==a.tagName.toLowerCase()&&g.hasNoAttributes(a)&&g.remove(a,!0))}function e(a,b){var e;if(b){if(!l.pasteFilter)return;e=this.document.createElement("div");e.innerHTML=b.html}else e=this.document.body;for(var m=g.getElementsByTagName(e,"*"),k=0,n;n=m[k++];)if(!0!==this.fireEvent("excludeNodeinautotype",n)){l.clearFontSize&&n.style.fontSize&&(g.removeStyle(n,"font-size"),c(n));l.clearFontFamily&&n.style.fontFamily&&(g.removeStyle(n,"font-family"),c(n));if(f(n)){if(l.mergeEmptyline)for(var q=
n.nextSibling,t,v=g.isBr(n);f(q);){t=q;q=t.nextSibling;if(v&&(!q||q&&!g.isBr(q)))break;g.remove(t)}if(l.removeEmptyline&&g.inDoc(n,e)&&!h[n.parentNode.tagName.toLowerCase()]){if(g.isBr(n)&&(q=n.nextSibling)&&!g.isBr(q))continue;g.remove(n);continue}}f(n,!0)&&"SPAN"!=n.tagName&&(l.indent&&(n.style.textIndent=l.indentValue),l.textAlign&&(n.style.textAlign=l.textAlign));if(l.removeClass&&n.className&&!d[n.className.toLowerCase()]){if(w&&w.contains(n))continue;g.removeAttributes(n,["class"])}if(l.imageBlockLine&&
"img"==n.tagName.toLowerCase()&&!n.getAttribute("emotion"))if(b)switch(v=n,l.imageBlockLine){case "left":case "right":case "none":for(var q=v.parentNode,I;A.$inline[q.tagName]||"A"==q.tagName;)q=q.parentNode;t=q;if("P"==t.tagName&&"center"==g.getStyle(t,"text-align")&&!g.isBody(t)&&1==g.getChildCount(t,function(a){return!g.isBr(a)&&!g.isWhitespace(a)}))if(I=t.previousSibling,q=t.nextSibling,I&&q&&1==I.nodeType&&1==q.nodeType&&I.tagName==q.tagName&&g.isBlockElm(I)){for(I.appendChild(t.firstChild);q.firstChild;)I.appendChild(q.firstChild);
g.remove(t);g.remove(q)}else g.setStyle(t,"text-align","");g.setStyle(v,"float",l.imageBlockLine);break;case "center":if("center"!=this.queryCommandValue("imagefloat")){q=v.parentNode;g.setStyle(v,"float","none");for(t=v;q&&1==g.getChildCount(q,function(a){return!g.isBr(a)&&!g.isWhitespace(a)})&&(A.$inline[q.tagName]||"A"==q.tagName);)t=q,q=q.parentNode;q=this.document.createElement("p");g.setAttributes(q,{style:"text-align:center"});t.parentNode.insertBefore(q,t);q.appendChild(t);g.setStyle(t,"float",
"")}}else this.selection.getRange().selectNode(n).select(),this.execCommand("imagefloat",l.imageBlockLine);l.removeEmptyNode&&l.removeTagNames[n.tagName.toLowerCase()]&&g.hasNoAttributes(n)&&g.isEmptyBlock(n)&&g.remove(n)}l.tobdc&&(m=UE.htmlparser(e.innerHTML),m.traversal(function(a){if("text"==a.type){for(var b=a.data,b=u.html(b),d="",c=0;c<b.length;c++)d=32==b.charCodeAt(c)?d+String.fromCharCode(12288):127>b.charCodeAt(c)?d+String.fromCharCode(b.charCodeAt(c)+65248):d+b.charAt(c);a.data=d}}),e.innerHTML=
m.toHtml());l.bdc2sb&&(m=UE.htmlparser(e.innerHTML),m.traversal(function(a){if("text"==a.type){for(var b=a.data,d="",c=0;c<b.length;c++)var e=b.charCodeAt(c),d=65281<=e&&65373>=e?d+String.fromCharCode(b.charCodeAt(c)-65248):12288==e?d+String.fromCharCode(b.charCodeAt(c)-12288+32):d+b.charAt(c);a.data=d}}),e.innerHTML=m.toHtml());b&&(b.html=e.innerHTML)}function a(){var a=b.getPreferences("autotypeset");u.extend(b.options.autotypeset,a)}this.setOpt({autotypeset:{mergeEmptyline:!0,removeClass:!0,removeEmptyline:!1,
textAlign:"left",imageBlockLine:"center",pasteFilter:!1,clearFontSize:!1,clearFontFamily:!1,removeEmptyNode:!1,removeTagNames:u.extend({div:1},A.$removeEmpty),indent:!1,indentValue:"2em",bdc2sb:!1,tobdc:!1}});var b=this,l=b.options.autotypeset,d={selectTdClass:1,pagebreak:1,anchorclass:1},h={li:1},m={div:1,p:1,blockquote:1,center:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,span:1},w;l&&(a(),l.pasteFilter&&b.addListener("beforepaste",e),b.commands.autotypeset={execCommand:function(){b.removeListener("beforepaste",
e);l.pasteFilter&&b.addListener("beforepaste",e);e.call(b)}})};UE.plugin.register("autosubmit",function(){return{shortcutkey:{autosubmit:"ctrl+13"},commands:{autosubmit:{execCommand:function(){var f=g.findParentByTagName(this.iframe,"form",!1);f&&!1!==this.fireEvent("beforesubmit")&&(this.sync(),f.submit())}}}}});UE.plugin.register("background",function(){function f(a){var b={};a=a.split(";");u.each(a,function(a){var d=a.indexOf(":"),c=u.trim(a.substr(0,d)).toLowerCase();c&&(b[c]=u.trim(a.substr(d+
1)||""))});return b}function c(a){if(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c+":"+a[c]+"; ");u.cssRule("editor_background",b.length?"body{"+b.join("")+"}":"",e.document)}else u.cssRule("editor_background","",e.document)}var e=this,a,b=/body[\s]*\{(.+)\}/i,l=e.hasContents;e.hasContents=function(){return e.queryCommandValue("background")?!0:l.apply(e,arguments)};return{bindEvents:{getAllHtml:function(a,b){var c=this.body,l=g.getComputedStyle(c,"background-image"),f="",f=0<l.indexOf(e.options.imagePath)?
l.substring(l.indexOf(e.options.imagePath),l.length-1).replace(/"|\(|\)/ig,""):"none"!=l?l.replace(/url\("?|"?\)/ig,""):"",l='<style type="text/css">body{',c={"background-color":g.getComputedStyle(c,"background-color")||"#ffffff","background-image":f?"url("+f+")":"","background-repeat":g.getComputedStyle(c,"background-repeat")||"","background-position":t.ie?g.getComputedStyle(c,"background-position-x")+" "+g.getComputedStyle(c,"background-position-y"):g.getComputedStyle(c,"background-position"),height:g.getComputedStyle(c,
"height")},x;for(x in c)c.hasOwnProperty(x)&&(l+=x+":"+c[x]+"; ");b.push(l+"}</style> ")},aftersetcontent:function(){0==a&&c()}},inputRule:function(b){a=!1;u.each(b.getNodesByTagName("p"),function(b){var d=b.getAttr("data-background");d&&(a=!0,c(f(d)),b.parentNode.removeChild(b))})},outputRule:function(a){var c=(u.cssRule("editor_background",this.document)||"").replace(/[\n\r]+/g,"").match(b);c&&a.appendChild(UE.uNode.createElement('<p style="display:none;" data-background="'+u.trim(c[1].replace(/"/g,
"").replace(/[\s]+/g," "))+'"><br/></p>'))},commands:{background:{execCommand:function(a,b){c(b)},queryCommandValue:function(){var a=(u.cssRule("editor_background",this.document)||"").replace(/[\n\r]+/g,"").match(b);return a?f(a[1]):null},notNeedUndo:!0}}}});UE.commands.imagefloat={execCommand:function(f,c){var e=this.selection.getRange();if(!e.collapsed){var a=e.getClosedNode();if(a&&"IMG"==a.tagName)switch(c){case "left":case "right":case "none":for(var b=a.parentNode,l,d;A.$inline[b.tagName]||
"A"==b.tagName;)b=b.parentNode;l=b;if("P"==l.tagName&&"center"==g.getStyle(l,"text-align")){if(!g.isBody(l)&&1==g.getChildCount(l,function(a){return!g.isBr(a)&&!g.isWhitespace(a)}))if(b=l.previousSibling,d=l.nextSibling,b&&d&&1==b.nodeType&&1==d.nodeType&&b.tagName==d.tagName&&g.isBlockElm(b)){for(b.appendChild(l.firstChild);d.firstChild;)b.appendChild(d.firstChild);g.remove(l);g.remove(d)}else g.setStyle(l,"text-align","");e.selectNode(a).select()}g.setStyle(a,"float","none"==c?"":c);"none"==c&&
g.removeAttributes(a,"align");break;case "center":if("center"!=this.queryCommandValue("imagefloat")){b=a.parentNode;g.setStyle(a,"float","");g.removeAttributes(a,"align");for(l=a;b&&1==g.getChildCount(b,function(a){return!g.isBr(a)&&!g.isWhitespace(a)})&&(A.$inline[b.tagName]||"A"==b.tagName);)l=b,b=b.parentNode;e.setStartBefore(l).setCursor(!1);b=this.document.createElement("div");b.appendChild(l);g.setStyle(l,"float","");this.execCommand("insertHtml",'<p id="_img_parent_tmp" style="text-align:center">'+
b.innerHTML+"</p>");l=this.document.getElementById("_img_parent_tmp");l.removeAttribute("id");l=l.firstChild;e.selectNode(l).select();(d=l.parentNode.nextSibling)&&g.isEmptyNode(d)&&g.remove(d)}}}},queryCommandValue:function(){var f=this.selection.getRange(),c;return f.collapsed?"none":(f=f.getClosedNode())&&1==f.nodeType&&"IMG"==f.tagName?(c=g.getComputedStyle(f,"float")||f.getAttribute("align"),"none"==c&&(c="center"==g.getComputedStyle(f.parentNode,"text-align")?"center":c),{left:1,right:1,center:1}[c]?
c:"none"):"none"},queryCommandState:function(){var f=this.selection.getRange();return f.collapsed?-1:(f=f.getClosedNode())&&1==f.nodeType&&"IMG"==f.tagName?0:-1}};UE.commands.insertimage={execCommand:function(f,c){c=u.isArray(c)?c:[c];if(c.length){var e=this.selection.getRange(),a=e.getClosedNode();if(!0!==this.fireEvent("beforeinsertimage",c)){if(!a||!/img/i.test(a.tagName)||"edui-faked-video"==a.className&&-1==a.className.indexOf("edui-upload-video")||a.getAttribute("word_img")){var e=[],a="",b;
b=c[0];if(1==c.length)a='<img src="'+b.src+'" '+(b._src?' _src="'+b._src+'" ':"")+(b.width?'width="'+b.width+'" ':"")+(b.height?' height="'+b.height+'" ':"")+("left"==b.floatStyle||"right"==b.floatStyle?' style="float:'+b.floatStyle+';"':"")+(b.title&&""!=b.title?' title="'+b.title+'"':"")+(b.border&&"0"!=b.border?' border="'+b.border+'"':"")+(b.alt&&""!=b.alt?' alt="'+b.alt+'"':"")+(b.hspace&&"0"!=b.hspace?' hspace = "'+b.hspace+'"':"")+(b.vspace&&"0"!=b.vspace?' vspace = "'+b.vspace+'"':"")+"/>",
"center"==b.floatStyle&&(a='<p style="text-align: center">'+a+"</p>"),e.push(a);else for(var l=0;b=c[l++];)a="<p "+("center"==b.floatStyle?'style="text-align: center" ':"")+'><img src="'+b.src+'" '+(b.width?'width="'+b.width+'" ':"")+(b._src?' _src="'+b._src+'" ':"")+(b.height?' height="'+b.height+'" ':"")+' style="'+(b.floatStyle&&"center"!=b.floatStyle?"float:"+b.floatStyle+";":"")+(b.border||"")+'" '+(b.title?' title="'+b.title+'"':"")+" /></p>",e.push(a);this.execCommand("insertHtml",e.join(""))}else b=
c.shift(),l=b.floatStyle,delete b.floatStyle,g.setAttributes(a,b),this.execCommand("imagefloat",l),0<c.length&&(e.setStartAfter(a).setCursor(!1,!0),this.execCommand("insertimage",c));this.fireEvent("afterinsertimage",c)}}}};UE.plugins.justify=function(){var f=g.isBlockElm,c={left:1,right:1,center:1,justify:1},e=function(a,b){var c=a.createBookmark(),d=function(a){return 1==a.nodeType?"br"!=a.tagName.toLowerCase()&&!g.isBookmarkNode(a):!g.isWhitespace(a)};a.enlarge(!0);for(var e=a.createBookmark(),
m=g.getNextDomNode(e.start,!1,d),w=a.cloneRange(),r;m&&!(g.getPosition(m,e.end)&g.POSITION_FOLLOWING);)if(3!=m.nodeType&&f(m))m=g.getNextDomNode(m,!0,d);else{for(w.setStartBefore(m);m&&m!==e.end&&!f(m);)r=m,m=g.getNextDomNode(m,!1,null,function(a){return!f(a)});w.setEndAfter(r);m=w.getCommonAncestor();if(!g.isBody(m)&&f(m))g.setStyles(m,u.isString(b)?{"text-align":b}:b);else{m=a.document.createElement("p");g.setStyles(m,u.isString(b)?{"text-align":b}:b);var x=w.extractContents();m.appendChild(x);
w.insertNode(m)}m=g.getNextDomNode(m,!1,d)}return a.moveToBookmark(e).moveToBookmark(c)};UE.commands.justify={execCommand:function(a,b){var c=this.selection.getRange(),d;c.collapsed&&(d=this.document.createTextNode("p"),c.insertNode(d));e(c,b);d&&(c.setStartBefore(d).collapse(!0),g.remove(d));c.select();return!0},queryCommandValue:function(){var a=this.selection.getStart(),a=g.getComputedStyle(a,"text-align");return c[a]?a:"left"},queryCommandState:function(){var a=this.selection.getStart();return a&&
g.findParentByTagName(a,["td","th","caption"],!0)?-1:0}}};UE.plugins.font=function(){function f(a){for(var b;b=a.parentNode;)if("SPAN"==b.tagName&&1==g.getChildCount(b,function(a){return!g.isBookmarkNode(a)&&!g.isBr(a)}))b.style.cssText+=a.style.cssText,g.remove(a,!0),a=b;else break}function c(a,b,d){if(l[b]&&(a.adjustmentBoundary(),!a.collapsed&&1==a.startContainer.nodeType)){var c=a.startContainer.childNodes[a.startOffset];if(c&&g.isTagNode(c,"span")){var e=a.createBookmark();u.each(g.getElementsByTagName(c,
"span"),function(a){!a.parentNode||g.isBookmarkNode(a)||"backcolor"==b&&g.getComputedStyle(a,"background-color").toLowerCase()===d||(g.removeStyle(a,l[b]),0==a.style.cssText.replace(/^\s+$/,"").length&&g.remove(a,!0))});a.moveToBookmark(e)}}}function e(a,b,d){var e=a.collapsed,l=a.createBookmark();if(e)for(e=l.start.parentNode;A.$inline[e.tagName];)e=e.parentNode;else e=g.getCommonAncestor(l.start,l.end);u.each(g.getElementsByTagName(e,"span"),function(a){if(a.parentNode&&!g.isBookmarkNode(a))if(/\s*border\s*:\s*none;?\s*/i.test(a.style.cssText))/^\s*border\s*:\s*none;?\s*$/.test(a.style.cssText)?
g.remove(a,!0):g.removeStyle(a,"border");else{/border/i.test(a.style.cssText)&&"SPAN"==a.parentNode.tagName&&/border/i.test(a.parentNode.style.cssText)&&(a.style.cssText=a.style.cssText.replace(/border[^:]*:[^;]+;?/gi,""));if("fontborder"!=b||"none"!=d)for(var c=a.nextSibling;c&&1==c.nodeType&&"SPAN"==c.tagName;){if(g.isBookmarkNode(c)&&"fontborder"==b)a.appendChild(c);else if(c.style.cssText==a.style.cssText&&(g.moveChild(c,a),g.remove(c)),a.nextSibling===c)break;c=a.nextSibling}f(a);t.ie&&8<t.version&&
(c=g.findParent(a,function(a){return"SPAN"==a.tagName&&/background-color/.test(a.style.cssText)}))&&!/background-color/.test(a.style.cssText)&&(a.style.backgroundColor=c.style.backgroundColor)}});a.moveToBookmark(l);c(a,b,d)}var a={forecolor:"color",backcolor:"background-color",fontsize:"font-size",fontfamily:"font-family",underline:"text-decoration",strikethrough:"text-decoration",fontborder:"border"},b={underline:1,strikethrough:1,fontborder:1},l={forecolor:"color",backcolor:"background-color",
fontsize:"font-size",fontfamily:"font-family"};this.setOpt({fontfamily:[{name:"songti",val:"\u5b8b\u4f53,SimSun"},{name:"yahei",val:"\u5fae\u8f6f\u96c5\u9ed1,Microsoft YaHei"},{name:"kaiti",val:"\u6977\u4f53,\u6977\u4f53_GB2312, SimKai"},{name:"heiti",val:"\u9ed1\u4f53, SimHei"},{name:"lishu",val:"\u96b6\u4e66, SimLi"},{name:"andaleMono",val:"andale mono"},{name:"arial",val:"arial, helvetica,sans-serif"},{name:"arialBlack",val:"arial black,avant garde"},{name:"comicSansMs",val:"comic sans ms"},{name:"impact",
val:"impact,chicago"},{name:"timesNewRoman",val:"times new roman"}],fontsize:[10,11,12,14,16,18,20,24,36]});this.addInputRule(function(a){u.each(a.getNodesByTagName("u s del font strike"),function(a){if("font"==a.tagName){var b=[],d;for(d in a.attrs)switch(d){case "size":b.push("font-size:"+({1:"10",2:"12",3:"16",4:"18",5:"24",6:"32",7:"48"}[a.attrs[d]]||a.attrs[d])+"px");break;case "color":b.push("color:"+a.attrs[d]);break;case "face":b.push("font-family:"+a.attrs[d]);break;case "style":b.push(a.attrs[d])}a.attrs=
{style:b.join(";")}}else b="u"==a.tagName?"underline":"line-through",a.attrs={style:(a.getAttr("style")||"")+"text-decoration:"+b+";"};a.tagName="span"})});for(var d in a)(function(a,d){UE.commands[a]={execCommand:function(c,l){l=l||(this.queryCommandState(c)?"none":"underline"==c?"underline":"fontborder"==c?"1px solid #000":"line-through");var f=this.selection.getRange(),k;if("default"==l)f.collapsed&&(k=this.document.createTextNode("font"),f.insertNode(k).select()),this.execCommand("removeFormat",
"span,a",d),k&&(f.setStartBefore(k).collapse(!0),g.remove(k)),e(f,c,l),f.select();else if(f.collapsed){var n=g.findParentByTagName(f.startContainer,"span",!0);k=this.document.createTextNode("font");if(!n||n.children.length||n[t.ie?"innerText":"textContent"].replace(S,"").length){f.insertNode(k);f.selectNode(k).select();n=f.document.createElement("span");if(b[a]){if(g.findParentByTagName(k,"a",!0)){f.setStartBefore(k).setCursor();g.remove(k);return}this.execCommand("removeFormat","span,a",d)}n.style.cssText=
d+":"+l;k.parentNode.insertBefore(n,k);if(!t.ie||t.ie&&9==t.version)for(var q=n.parentNode;!g.isBlockElm(q);)"SPAN"==q.tagName&&(n.style.cssText=q.style.cssText+";"+n.style.cssText),q=q.parentNode;F?setTimeout(function(){f.setStart(n,0).collapse(!0);e(f,c,l);f.select()}):(f.setStart(n,0).collapse(!0),e(f,c,l),f.select())}else f.insertNode(k),b[a]&&(f.selectNode(k).select(),this.execCommand("removeFormat","span,a",d,null),n=g.findParentByTagName(k,"span",!0),f.setStartBefore(k)),n&&(n.style.cssText+=
";"+d+":"+l),f.collapse(!0).select();g.remove(k)}else b[a]&&this.queryCommandValue(a)&&this.execCommand("removeFormat","span,a",d),f=this.selection.getRange(),f.applyInlineStyle("span",{style:d+":"+l}),e(f,c,l),f.select();return!0},queryCommandValue:function(a){var b=this.selection.getStart();if("underline"==a||"strikethrough"==a){for(var c=b;c&&!g.isBlockElm(c)&&!g.isBody(c);){if(1==c.nodeType&&(a=g.getComputedStyle(c,d),"none"!=a))return a;c=c.parentNode}return"none"}if("fontborder"==a){for(a=b;a&&
A.$inline[a.tagName];){if((c=g.getComputedStyle(a,"border"))&&/1px/.test(c)&&/solid/.test(c))return c;a=a.parentNode}return""}return"FontSize"==a?(c=g.getComputedStyle(b,d),(a=/^([\d\.]+)(\w+)$/.exec(c))?Math.floor(a[1])+a[2]:c):g.getComputedStyle(b,d)},queryCommandState:function(a){if(!b[a])return 0;var d=this.queryCommandValue(a);return"fontborder"==a?/1px/.test(d)&&/solid/.test(d):"underline"==a?/underline/.test(d):/line\-through/.test(d)}}})(d,a[d])};UE.plugins.link=function(){function f(c){var e=
c.startContainer,a=c.endContainer;(e=g.findParentByTagName(e,"a",!0))&&c.setStartBefore(e);(a=g.findParentByTagName(a,"a",!0))&&c.setEndAfter(a)}UE.commands.unlink={execCommand:function(){var c=this.selection.getRange(),e;if(!c.collapsed||g.findParentByTagName(c.startContainer,"a",!0))e=c.createBookmark(),f(c),c.removeInlineStyle("a").moveToBookmark(e).select()},queryCommandState:function(){return!this.highlight&&this.queryCommandValue("link")?0:-1}};UE.commands.link={execCommand:function(c,e){var a;
e._href&&(e._href=u.unhtml(e._href,/[<">]/g));e.href&&(e.href=u.unhtml(e.href,/[<">]/g));e.textValue&&(e.textValue=u.unhtml(e.textValue,/[<">]/g));var b=a=this.selection.getRange(),l=b.cloneRange(),d=this.queryCommandValue("link");f(b=b.adjustmentBoundary());var h=b.startContainer;1==h.nodeType&&d&&(h=h.childNodes[b.startOffset])&&1==h.nodeType&&"A"==h.tagName&&/^(?:https?|ftp|file)\s*:\s*\/\//.test(h[t.ie?"innerText":"textContent"])&&(h[t.ie?"innerText":"textContent"]=u.html(e.textValue||e.href));
if(!l.collapsed||d)b.removeInlineStyle("a"),l=b.cloneRange();if(l.collapsed){var d=b.document.createElement("a"),m="";e.textValue?(m=u.html(e.textValue),delete e.textValue):m=u.html(e.href);g.setAttributes(d,e);(h=g.findParentByTagName(l.startContainer,"a",!0))&&g.isInNodeEndBoundary(l,h)&&b.setStartAfter(h).collapse(!0);d[t.ie?"innerText":"textContent"]=m;b.insertNode(d).selectNode(d)}else b.applyInlineStyle("a",e);a.collapse().select(!0)},queryCommandValue:function(){var c=this.selection.getRange(),
e;if(c.collapsed){if(e=c.startContainer,(e=1==e.nodeType?e:e.parentNode)&&(e=g.findParentByTagName(e,"a",!0))&&!g.isInNodeEndBoundary(c,e))return e}else{c.shrinkBoundary();var a=3!=c.startContainer.nodeType&&c.startContainer.childNodes[c.startOffset]?c.startContainer.childNodes[c.startOffset]:c.startContainer,b=3==c.endContainer.nodeType||0==c.endOffset?c.endContainer:c.endContainer.childNodes[c.endOffset-1],c=c.getCommonAncestor();e=g.findParentByTagName(c,"a",!0);if(!e&&1==c.nodeType)for(var c=
c.getElementsByTagName("a"),l,d,h=0,m;m=c[h++];)if(l=g.getPosition(m,a),d=g.getPosition(m,b),(l&g.POSITION_FOLLOWING||l&g.POSITION_CONTAINS)&&(d&g.POSITION_PRECEDING||d&g.POSITION_CONTAINS)){e=m;break}return e}},queryCommandState:function(){var c=this.selection.getRange().getClosedNode();return!c||"edui-faked-video"!=c.className&&-1==c.className.indexOf("edui-upload-video")?0:-1}}};UE.plugins.insertframe=function(){var f=this;f.addListener("selectionchange",function(){f._iframe&&delete f._iframe})};
UE.commands.scrawl={queryCommandState:function(){return t.ie&&8>=t.version?-1:0}};UE.plugins.removeformat=function(){this.setOpt({removeFormatTags:"b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var",removeFormatAttributes:"class,style,lang,width,height,align,hspace,valign"});this.commands.removeformat={execCommand:function(f,c,e,a,b){function l(a){if(3==a.nodeType||"span"!=a.tagName.toLowerCase())return 0;if(t.ie){var b=a.attributes;if(b.length){a=0;for(var d=b.length;a<
d;a++)if(b[a].specified)return 0;return 1}}return!a.attributes.length}var d=new RegExp("^(?:"+(c||this.options.removeFormatTags).replace(/,/g,"|")+")$","i"),h=e?[]:(a||this.options.removeFormatAttributes).split(",");f=new v.Range(this.document);var m,w,r=function(a){return 1==a.nodeType};f=this.selection.getRange();(function(a){var c=a.createBookmark();a.collapsed&&a.enlarge(!0);if(!b){var f=g.findParentByTagName(a.startContainer,"a",!0);f&&a.setStartBefore(f);(f=g.findParentByTagName(a.endContainer,
"a",!0))&&a.setEndAfter(f)}m=a.createBookmark();for(f=m.start;(w=f.parentNode)&&!g.isBlockElm(w);)g.breakParent(f,w),g.clearEmptySibling(f);if(m.end){for(f=m.end;(w=f.parentNode)&&!g.isBlockElm(w);)g.breakParent(f,w),g.clearEmptySibling(f);for(var f=g.getNextDomNode(m.start,!1,r),k;f&&f!=m.end;)k=g.getNextDomNode(f,!0,r),A.$empty[f.tagName.toLowerCase()]||g.isBookmarkNode(f)||(d.test(f.tagName)?e?(g.removeStyle(f,e),l(f)&&"text-decoration"!=e&&g.remove(f,!0)):g.remove(f,!0):A.$tableContent[f.tagName]||
A.$list[f.tagName]||(g.removeAttributes(f,h),l(f)&&g.remove(f,!0))),f=k}f=m.start.parentNode;!g.isBlockElm(f)||A.$tableContent[f.tagName]||A.$list[f.tagName]||g.removeAttributes(f,h);f=m.end.parentNode;m.end&&g.isBlockElm(f)&&!A.$tableContent[f.tagName]&&!A.$list[f.tagName]&&g.removeAttributes(f,h);a.moveToBookmark(m).moveToBookmark(c);f=a.startContainer;for(k=a.collapsed;1==f.nodeType&&g.isEmptyNode(f)&&A.$removeEmpty[f.tagName];)c=f.parentNode,a.setStartBefore(f),a.startContainer===a.endContainer&&
a.endOffset--,g.remove(f),f=c;if(!k)for(f=a.endContainer;1==f.nodeType&&g.isEmptyNode(f)&&A.$removeEmpty[f.tagName];)c=f.parentNode,a.setEndBefore(f),g.remove(f),f=c})(f);f.select()}}};UE.plugins.blockquote=function(){this.commands.blockquote={execCommand:function(f,c){var e=this.selection.getRange(),a=g.filterNodeList(this.selection.getStartElementPath(),"blockquote"),b=A.blockquote,l=e.createBookmark();if(a){var b=e.startContainer,b=g.isBlockElm(b)?b:g.findParent(b,function(a){return g.isBlockElm(a)}),
d=e.endContainer,d=g.isBlockElm(d)?d:g.findParent(d,function(a){return g.isBlockElm(a)}),b=g.findParentByTagName(b,"li",!0)||b,d=g.findParentByTagName(d,"li",!0)||d;"LI"==b.tagName||"TD"==b.tagName||b===a||g.isBody(b)?g.remove(a,!0):g.breakParent(b,a);b!==d&&(a=g.findParentByTagName(d,"blockquote"))&&("LI"==d.tagName||"TD"==d.tagName||g.isBody(d)?a.parentNode&&g.remove(a,!0):g.breakParent(d,a));for(var h=g.getElementsByTagName(this.document,"blockquote"),a=0,m;m=h[a++];)m.childNodes.length?g.getPosition(m,
b)&g.POSITION_FOLLOWING&&g.getPosition(m,d)&g.POSITION_PRECEDING&&g.remove(m,!0):g.remove(m)}else{a=e.cloneRange();h=d=1==a.startContainer.nodeType?a.startContainer:a.startContainer.parentNode;for(m=1;;){if(g.isBody(d)){h!==d?e.collapsed?(a.selectNode(h),m=0):a.setStartBefore(h):a.setStart(d,0);break}if(!b[d.tagName]){e.collapsed?a.selectNode(h):a.setStartBefore(h);break}h=d;d=d.parentNode}if(m)for(h=d=d=1==a.endContainer.nodeType?a.endContainer:a.endContainer.parentNode;;){if(g.isBody(d)){h!==d?
a.setEndAfter(h):a.setEnd(d,d.childNodes.length);break}if(!b[d.tagName]){a.setEndAfter(h);break}h=d;d=d.parentNode}d=e.document.createElement("blockquote");g.setAttributes(d,c);d.appendChild(a.extractContents());a.insertNode(d);b=g.getElementsByTagName(d,"blockquote");for(a=0;d=b[a++];)d.parentNode&&g.remove(d,!0)}e.moveToBookmark(l).select()},queryCommandState:function(){return g.filterNodeList(this.selection.getStartElementPath(),"blockquote")?1:0}}};UE.commands.touppercase=UE.commands.tolowercase=
{execCommand:function(f){var c=this.selection.getRange();if(c.collapsed)return c;for(var e=c.createBookmark(),a=e.end,b=function(a){return!g.isBr(a)&&!g.isWhitespace(a)},l=g.getNextDomNode(e.start,!1,b);l&&g.getPosition(l,a)&g.POSITION_PRECEDING&&(3==l.nodeType&&(l.nodeValue=l.nodeValue["touppercase"==f?"toUpperCase":"toLowerCase"]()),l=g.getNextDomNode(l,!0,b),l!==a););c.moveToBookmark(e).select()}};UE.commands.indent={execCommand:function(){var f=this.queryCommandState("indent")?"0em":this.options.indentValue||
"2em";this.execCommand("Paragraph","p",{style:"text-indent:"+f})},queryCommandState:function(){var f=g.filterNodeList(this.selection.getStartElementPath(),"p h1 h2 h3 h4 h5 h6");return f&&f.style.textIndent&&parseInt(f.style.textIndent)?1:0}};UE.commands.print={execCommand:function(){this.window.print()},notNeedUndo:1};UE.commands.preview={execCommand:function(){var f=window.open("","_blank","").document;f.open();f.write('<!DOCTYPE html><html><head><meta charset="utf-8"/><script src="'+this.options.UEDITOR_HOME_URL+
"ueditor.parse.js\">\x3c/script><script>setTimeout(function(){uParse('div',{rootPath: '"+this.options.UEDITOR_HOME_URL+"'})},300)\x3c/script></head><body><div>"+this.getContent(null,null,!0)+"</div></body></html>");f.close()},notNeedUndo:1};UE.plugins.selectall=function(){this.commands.selectall={execCommand:function(){var f=this.body,c=this.selection.getRange();c.selectNodeContents(f);g.isEmptyBlock(f)&&(t.opera&&f.firstChild&&1==f.firstChild.nodeType&&c.setStartAtFirst(f.firstChild),c.collapse(!0));
c.select(!0)},notNeedUndo:1};this.addshortcutkey({selectAll:"ctrl+65"})};UE.plugins.paragraph=function(){var f=g.isBlockElm,c=["TD","LI","PRE"],e=function(a,b,e,d){var h=a.createBookmark(),m=function(a){return 1==a.nodeType?"br"!=a.tagName.toLowerCase()&&!g.isBookmarkNode(a):!g.isWhitespace(a)},w;a.enlarge(!0);var r=a.createBookmark();w=g.getNextDomNode(r.start,!1,m);for(var k=a.cloneRange(),n;w&&!(g.getPosition(w,r.end)&g.POSITION_FOLLOWING);)if(3!=w.nodeType&&f(w))w=g.getNextDomNode(w,!0,m);else{for(k.setStartBefore(w);w&&
w!==r.end&&!f(w);)n=w,w=g.getNextDomNode(w,!1,null,function(a){return!f(a)});k.setEndAfter(n);w=a.document.createElement(b);e&&(g.setAttributes(w,e),d&&"customstyle"==d&&e.style&&(w.style.cssText=e.style));w.appendChild(k.extractContents());g.isEmptyNode(w)&&g.fillChar(a.document,w);k.insertNode(w);var q=w.parentNode;f(q)&&!g.isBody(w.parentNode)&&-1==u.indexOf(c,q.tagName)&&(d&&"customstyle"==d||(q.getAttribute("dir")&&w.setAttribute("dir",q.getAttribute("dir")),q.style.cssText&&(w.style.cssText=
q.style.cssText+";"+w.style.cssText),q.style.textAlign&&!w.style.textAlign&&(w.style.textAlign=q.style.textAlign),q.style.textIndent&&!w.style.textIndent&&(w.style.textIndent=q.style.textIndent),q.style.padding&&!w.style.padding&&(w.style.padding=q.style.padding)),e&&/h\d/i.test(q.tagName)&&!/h\d/i.test(w.tagName)?(g.setAttributes(q,e),d&&"customstyle"==d&&e.style&&(q.style.cssText=e.style),g.remove(w,!0),w=q):g.remove(w.parentNode,!0));w=-1!=u.indexOf(c,q.tagName)?q:w;w=g.getNextDomNode(w,!1,m)}return a.moveToBookmark(r).moveToBookmark(h)};
this.setOpt("paragraph",{p:"",h1:"",h2:"",h3:"",h4:"",h5:"",h6:""});this.commands.paragraph={execCommand:function(a,b,c,d){a=this.selection.getRange();if(a.collapsed){var h=this.document.createTextNode("p");a.insertNode(h);if(t.ie){var m=h.previousSibling;m&&g.isWhitespace(m)&&g.remove(m);(m=h.nextSibling)&&g.isWhitespace(m)&&g.remove(m)}}a=e(a,b,c,d);h&&(a.setStartBefore(h).collapse(!0),pN=h.parentNode,g.remove(h),g.isBlockElm(pN)&&g.isEmptyNode(pN)&&g.fillNode(this.document,pN));t.gecko&&a.collapsed&&
1==a.startContainer.nodeType&&(c=a.startContainer.childNodes[a.startOffset])&&1==c.nodeType&&c.tagName.toLowerCase()==b&&a.setStart(c,0).collapse(!0);a.select();return!0},queryCommandValue:function(){var a=g.filterNodeList(this.selection.getStartElementPath(),"p h1 h2 h3 h4 h5 h6");return a?a.tagName.toLowerCase():""}}};(function(){var f=g.isBlockElm,c=function(a){return g.filterNodeList(a.selection.getStartElementPath(),function(a){return a.getAttribute("dir")})},e=function(a,b,e){var d=function(a){return 1==
a.nodeType?!g.isBookmarkNode(a):!g.isWhitespace(a)};if((b=c(b))&&a.collapsed)return b.setAttribute("dir",e),a;b=a.createBookmark();a.enlarge(!0);for(var h=a.createBookmark(),m=g.getNextDomNode(h.start,!1,d),w=a.cloneRange(),r;m&&!(g.getPosition(m,h.end)&g.POSITION_FOLLOWING);)if(3!=m.nodeType&&f(m))m=g.getNextDomNode(m,!0,d);else{for(w.setStartBefore(m);m&&m!==h.end&&!f(m);)r=m,m=g.getNextDomNode(m,!1,null,function(a){return!f(a)});w.setEndAfter(r);m=w.getCommonAncestor();if(!g.isBody(m)&&f(m))m.setAttribute("dir",
e);else{m=a.document.createElement("p");m.setAttribute("dir",e);var k=w.extractContents();m.appendChild(k);w.insertNode(m)}m=g.getNextDomNode(m,!1,d)}return a.moveToBookmark(h).moveToBookmark(b)};UE.commands.directionality={execCommand:function(a,b){var c=this.selection.getRange();if(c.collapsed){var d=this.document.createTextNode("d");c.insertNode(d)}e(c,this,b);d&&(c.setStartBefore(d).collapse(!0),g.remove(d));c.select();return!0},queryCommandValue:function(){var a=c(this);return a?a.getAttribute("dir"):
"ltr"}}})();UE.plugins.horizontal=function(){this.commands.horizontal={execCommand:function(f){if(-1!==this.queryCommandState(f)){this.execCommand("insertHtml","<hr>");f=this.selection.getRange();var c=f.startContainer;if(1==c.nodeType&&!c.childNodes[f.startOffset]){var e;(e=c.childNodes[f.startOffset-1])&&1==e.nodeType&&"HR"==e.tagName&&("p"==this.options.enterTag?(e=this.document.createElement("p"),f.insertNode(e),f.setStart(e,0).setCursor()):(e=this.document.createElement("br"),f.insertNode(e),
f.setStartBefore(e).setCursor()))}return!0}},queryCommandState:function(){return g.filterNodeList(this.selection.getStartElementPath(),"table")?-1:0}};this.addListener("delkeydown",function(f,c){var e=this.selection.getRange();e.txtToElmBoundary(!0);if(g.isStartInblock(e)){var a=e.startContainer.previousSibling;if(a&&g.isTagNode(a,"hr"))return g.remove(a),e.select(),g.preventDefault(c),!0}})};UE.commands.time=UE.commands.date={execCommand:function(f,c){function e(a,b){var c=("0"+a.getHours()).slice(-2),
e=("0"+a.getMinutes()).slice(-2),f=("0"+a.getSeconds()).slice(-2);return(b||"hh:ii:ss").replace(/hh/ig,c).replace(/ii/ig,e).replace(/ss/ig,f)}function a(a,b){var c=("000"+a.getFullYear()).slice(-4),e=c.slice(-2),f=("0"+(a.getMonth()+1)).slice(-2),g=("0"+a.getDate()).slice(-2);return(b||"yyyy-mm-dd").replace(/yyyy/ig,c).replace(/yy/ig,e).replace(/mm/ig,f).replace(/dd/ig,g)}var b=new Date;this.execCommand("insertHtml","time"==f?e(b,c):a(b,c))}};UE.plugins.rowspacing=function(){this.setOpt({rowspacingtop:["5",
"10","15","20","25"],rowspacingbottom:["5","10","15","20","25"]});this.commands.rowspacing={execCommand:function(f,c,e){this.execCommand("paragraph","p",{style:"margin-"+e+":"+c+"px"});return!0},queryCommandValue:function(f,c){var e=g.filterNodeList(this.selection.getStartElementPath(),function(a){return g.isBlockElm(a)});return e?(e=g.getComputedStyle(e,"margin-"+c).replace(/[^\d]/g,""))?e:0:0}}};UE.plugins.lineheight=function(){this.setOpt({lineheight:"1 1.5 1.75 2 3 4 5".split(" ")});this.commands.lineheight=
{execCommand:function(f,c){this.execCommand("paragraph","p",{style:"line-height:"+("1"==c?"normal":c+"em")});return!0},queryCommandValue:function(){var f=g.filterNodeList(this.selection.getStartElementPath(),function(c){return g.isBlockElm(c)});if(f)return f=g.getComputedStyle(f,"line-height"),"normal"==f?1:f.replace(/[^\d.]*/ig,"")}}};UE.plugins.insertcode=function(){var f=this;f.ready(function(){u.cssRule("pre","pre{margin:.5em 0;padding:.4em .6em;border-radius:8px;background:#f8f8f8;}",f.document)});
f.setOpt("insertcode",{as3:"ActionScript3",bash:"Bash/Shell",cpp:"C/C++",css:"Css",cf:"CodeFunction","c#":"C#",delphi:"Delphi",diff:"Diff",erlang:"Erlang",groovy:"Groovy",html:"Html",java:"Java",jfx:"JavaFx",js:"Javascript",pl:"Perl",php:"Php",plain:"Plain Text",ps:"PowerShell",python:"Python",ruby:"Ruby",scala:"Scala",sql:"Sql",vb:"Vb",xml:"Xml"});f.commands.insertcode={execCommand:function(c,e){var a=this.selection.getRange(),b=g.findParentByTagName(a.startContainer,"pre",!0);if(b)b.className="brush:"+
e+";toolbar:false;";else{var l="";a.collapsed?l=t.ie&&t.ie11below?8>=t.version?"&nbsp;":"":"<br/>":(b=a.extractContents(),a=this.document.createElement("div"),a.appendChild(b),u.each(UE.filterNode(UE.htmlparser(a.innerHTML.replace(/[\r\t]/g,"")),this.options.filterTxtRules).children,function(a){t.ie&&t.ie11below&&8<t.version?("element"==a.type?"br"==a.tagName?l+="\n":A.$empty[a.tagName]||(u.each(a.children,function(b){"element"==b.type?"br"==b.tagName?l+="\n":A.$empty[a.tagName]||(l+=b.innerText()):
l+=b.data}),/\n$/.test(l)||(l+="\n")):l+=a.data+"\n",!a.nextSibling()&&/\n$/.test(l)&&(l=l.replace(/\n$/,""))):t.ie&&t.ie11below?("element"==a.type?"br"==a.tagName?l+="<br>":A.$empty[a.tagName]||(u.each(a.children,function(b){"element"==b.type?"br"==b.tagName?l+="<br>":A.$empty[a.tagName]||(l+=b.innerText()):l+=b.data}),/br>$/.test(l)||(l+="<br>")):l+=a.data+"<br>",!a.nextSibling()&&/<br>$/.test(l)&&(l=l.replace(/<br>$/,""))):(l+="element"==a.type?A.$empty[a.tagName]?"":a.innerText():a.data,!/br\/?\s*>$/.test(l)&&
a.nextSibling()&&(l+="<br>"))}));this.execCommand("inserthtml",'<pre id="coder"class="brush:'+e+';toolbar:false">'+l+"</pre>",!0);b=this.document.getElementById("coder");g.removeAttributes(b,"id");(a=b.previousSibling)&&(3==a.nodeType&&1==a.nodeValue.length&&t.ie&&6==t.version||g.isEmptyBlock(a))&&g.remove(a);a=this.selection.getRange();g.isEmptyBlock(b)?a.setStart(b,0).setCursor(!1,!0):a.selectNodeContents(b).select()}},queryCommandValue:function(){var c=this.selection.getStartElementPath(),e="";
u.each(c,function(a){if("PRE"==a.nodeName)return e=(a=a.className.match(/brush:([^;]+)/))&&a[1]?a[1]:"",!1});return e}};f.addInputRule(function(c){u.each(c.getNodesByTagName("pre"),function(c){var a=c.getNodesByTagName("br");a.length?t.ie&&t.ie11below&&8<t.version&&u.each(a,function(a){var c=UE.uNode.createText("\n");a.parentNode.insertBefore(c,a);a.parentNode.removeChild(a)}):t.ie&&t.ie11below&&8<t.version||(a=c.innerText().split(/\n/),c.innerHTML(""),u.each(a,function(a){a.length&&c.appendChild(UE.uNode.createText(a));
c.appendChild(UE.uNode.createElement("br"))}))})});f.addOutputRule(function(c){u.each(c.getNodesByTagName("pre"),function(c){var a="";u.each(c.children,function(b){a="text"==b.type?a+b.data.replace(/[ ]/g,"&nbsp;").replace(/\n$/,""):"br"==b.tagName?a+"\n":a+(A.$empty[b.tagName]?b.innerText():"")});c.innerText(a.replace(/(&nbsp;|\n)+$/,""))})});f.notNeedCodeQuery={help:1,undo:1,redo:1,source:1,print:1,searchreplace:1,fullscreen:1,preview:1,insertparagraph:1,elementpath:1,insertcode:1,inserthtml:1,
selectall:1};f.queryCommandState=function(c){return!this.notNeedCodeQuery[c.toLowerCase()]&&this.selection&&this.queryCommandValue("insertcode")?-1:UE.Editor.prototype.queryCommandState.apply(this,arguments)};f.addListener("beforeenterkeydown",function(){var c=f.selection.getRange(),e=g.findParentByTagName(c.startContainer,"pre",!0);if(e){f.fireEvent("saveScene");c.collapsed||c.deleteContents();if(!t.ie||t.ie9above){e=f.document.createElement("br");c.insertNode(e).setStartAfter(e).collapse(!0);e.nextSibling||
t.ie&&!(10<t.version)?c.setStartAfter(e):c.insertNode(e.cloneNode(!1));for(var e=e.previousSibling,a;e;)if(a=e,e=e.previousSibling,!e||"BR"==e.nodeName){e=a;break}if(e){for(a="";e&&"BR"!=e.nodeName&&(new RegExp("^[\\s"+g.fillChar+"]*$")).test(e.nodeValue);)a+=e.nodeValue,e=e.nextSibling;"BR"!=e.nodeName&&(e=e.nodeValue.match(new RegExp("^([\\s"+g.fillChar+"]+)")))&&e[1]&&(a+=e[1]);a&&(a=f.document.createTextNode(a),c.insertNode(a).setStartAfter(a))}c.collapse(!0).select(!0)}else if(8<t.version)if(e=
f.document.createTextNode("\n"),a=c.startContainer,0==c.startOffset){if(a.previousSibling){c.insertNode(e);var b=f.document.createTextNode(" ");c.setStartAfter(e).insertNode(b).setStart(b,0).collapse(!0).select(!0)}}else c.insertNode(e).setStartAfter(e),b=f.document.createTextNode(" "),(a=c.startContainer.childNodes[c.startOffset])&&!/^\n/.test(a.nodeValue)&&c.setStartBefore(e),c.insertNode(b).setStart(b,0).collapse(!0).select(!0);else{e=f.document.createElement("br");c.insertNode(e);c.insertNode(f.document.createTextNode(g.fillChar));
c.setStartAfter(e);for(e=e.previousSibling;e;)if(a=e,e=e.previousSibling,!e||"BR"==e.nodeName){e=a;break}if(e){for(a="";e&&"BR"!=e.nodeName&&(new RegExp("^[ "+g.fillChar+"]*$")).test(e.nodeValue);)a+=e.nodeValue,e=e.nextSibling;"BR"!=e.nodeName&&(e=e.nodeValue.match(new RegExp("^([ "+g.fillChar+"]+)")))&&e[1]&&(a+=e[1]);a=f.document.createTextNode(a);c.insertNode(a).setStartAfter(a)}c.collapse(!0).select()}f.fireEvent("saveScene");return!0}});f.addListener("tabkeydown",function(c,e){var a=f.selection.getRange(),
b=g.findParentByTagName(a.startContainer,"pre",!0);if(b){f.fireEvent("saveScene");if(!e.shiftKey)if(a.collapsed)b=f.document.createTextNode("    "),a.insertNode(b).setStartAfter(b).collapse(!0).select(!0);else{for(var l=a.createBookmark(),d=l.start.previousSibling;d;){if(b.firstChild===d&&!g.isBr(d)){b.insertBefore(f.document.createTextNode("    "),d);break}if(g.isBr(d)){b.insertBefore(f.document.createTextNode("    "),d.nextSibling);break}d=d.previousSibling}var h=l.end,d=l.start.nextSibling;for(b.firstChild===
l.start&&b.insertBefore(f.document.createTextNode("    "),d.nextSibling);d&&d!==h;){if(g.isBr(d)&&d.nextSibling){if(d.nextSibling===h)break;b.insertBefore(f.document.createTextNode("    "),d.nextSibling)}d=d.nextSibling}a.moveToBookmark(l).select()}f.fireEvent("saveScene");return!0}});f.addListener("beforeinserthtml",function(c,e){var a=this,b=a.selection.getRange();if(g.findParentByTagName(b.startContainer,"pre",!0)){b.collapsed||b.deleteContents();var l="";if(t.ie&&8<t.version){u.each(UE.filterNode(UE.htmlparser(e),
a.options.filterTxtRules).children,function(a){"element"==a.type?"br"==a.tagName?l+="\n":A.$empty[a.tagName]||(u.each(a.children,function(b){"element"==b.type?"br"==b.tagName?l+="\n":A.$empty[a.tagName]||(l+=b.innerText()):l+=b.data}),/\n$/.test(l)||(l+="\n")):l+=a.data+"\n";!a.nextSibling()&&/\n$/.test(l)&&(l=l.replace(/\n$/,""))});var d=a.document.createTextNode(u.html(l.replace(/&nbsp;/g," ")));b.insertNode(d).selectNode(d).select()}else{var h=a.document.createDocumentFragment();u.each(UE.filterNode(UE.htmlparser(e),
a.options.filterTxtRules).children,function(b){"element"==b.type?"br"==b.tagName?h.appendChild(a.document.createElement("br")):A.$empty[b.tagName]||(u.each(b.children,function(d){"element"==d.type?"br"==d.tagName?h.appendChild(a.document.createElement("br")):A.$empty[b.tagName]||h.appendChild(a.document.createTextNode(u.html(d.innerText().replace(/&nbsp;/g," ")))):h.appendChild(a.document.createTextNode(u.html(d.data.replace(/&nbsp;/g," "))))}),"BR"!=h.lastChild.nodeName&&h.appendChild(a.document.createElement("br"))):
h.appendChild(a.document.createTextNode(u.html(b.data.replace(/&nbsp;/g," "))));b.nextSibling()||"BR"!=h.lastChild.nodeName||h.removeChild(h.lastChild)});b.insertNode(h).select()}return!0}});f.addListener("keydown",function(c,e){if(40==(e.keyCode||e.which)){var a=this.selection.getRange(),b,l=a.startContainer;if(a.collapsed&&(b=g.findParentByTagName(a.startContainer,"pre",!0))&&!b.nextSibling){for(var d=b.lastChild;d&&"BR"==d.nodeName;)d=d.previousSibling;if(d===l||a.startContainer===b&&a.startOffset==
b.childNodes.length)this.execCommand("insertparagraph"),g.preventDefault(e)}}});f.addListener("delkeydown",function(c,e){var a=this.selection.getRange();a.txtToElmBoundary(!0);var b=a.startContainer;if(g.isTagNode(b,"pre")&&a.collapsed&&g.isStartInblock(a)){var l=f.document.createElement("p");g.fillNode(f.document,l);b.parentNode.insertBefore(l,b);g.remove(b);a.setStart(l,0).setCursor(!1,!0);g.preventDefault(e);return!0}})};UE.commands.cleardoc={execCommand:function(f){var c=this;f=c.options.enterTag;
var e=c.selection.getRange();"br"==f?(c.body.innerHTML="<br/>",e.setStart(c.body,0).setCursor()):(c.body.innerHTML="<p>"+(y?"":"<br/>")+"</p>",e.setStart(c.body.firstChild,0).setCursor(!1,!0));setTimeout(function(){c.fireEvent("clearDoc")},0)}};UE.plugin.register("anchor",function(){return{bindEvents:{ready:function(){u.cssRule("anchor",".anchorclass{background: url('"+this.options.themePath+this.options.theme+"/images/anchor.gif') no-repeat scroll left center transparent;cursor: auto;display: inline-block;height: 16px;width: 15px;}",
this.document)}},outputRule:function(f){u.each(f.getNodesByTagName("img"),function(c){var e;if(e=c.getAttr("anchorname"))c.tagName="a",c.setAttr({anchorname:"",name:e,"class":""})})},inputRule:function(f){u.each(f.getNodesByTagName("a"),function(c){c.getAttr("name")&&!c.getAttr("href")&&(c.tagName="img",c.setAttr({anchorname:c.getAttr("name"),"class":"anchorclass"}),c.setAttr("name"))})},commands:{anchor:{execCommand:function(f,c){var e=this.selection.getRange(),a=e.getClosedNode();a&&a.getAttribute("anchorname")?
c?a.setAttribute("anchorname",c):(e.setStartBefore(a).setCursor(),g.remove(a)):c&&(a=this.document.createElement("img"),e.collapse(!0),g.setAttributes(a,{anchorname:c,"class":"anchorclass"}),e.insertNode(a).setStartAfter(a).setCursor(!1,!0))}}}}});UE.plugins.wordcount=function(){var f=this;f.setOpt("wordCount",!0);f.addListener("contentchange",function(){f.fireEvent("wordcount")});var c;f.addListener("ready",function(){var e=this;g.on(e.body,"keyup",function(a){(a.keyCode||a.which)in{16:1,18:1,20:1,
37:1,38:1,39:1,40:1}||(clearTimeout(c),c=setTimeout(function(){e.fireEvent("wordcount")},200))})})};UE.plugins.pagebreak=function(){function f(a){if(g.isEmptyBlock(a)){for(var c=a.firstChild,d;c&&1==c.nodeType&&g.isEmptyBlock(c);)d=c,c=c.firstChild;!d&&(d=a);g.fillNode(e.document,d)}}function c(a){return a&&1==a.nodeType&&"HR"==a.tagName&&"pagebreak"==a.className}var e=this,a=["td"];e.setOpt("pageBreakTag","_ueditor_page_break_tag_");e.ready(function(){u.cssRule("pagebreak",".pagebreak{display:block;clear:both !important;cursor:default !important;width: 100% !important;margin:0;}",
e.document)});e.addInputRule(function(a){a.traversal(function(a){if("text"==a.type&&a.data==e.options.pageBreakTag){var b=UE.uNode.createElement('<hr class="pagebreak" noshade="noshade" size="5" style="-webkit-user-select: none;">');a.parentNode.insertBefore(b,a);a.parentNode.removeChild(a)}})});e.addOutputRule(function(a){u.each(a.getNodesByTagName("hr"),function(a){if("pagebreak"==a.getAttr("class")){var b=UE.uNode.createText(e.options.pageBreakTag);a.parentNode.insertBefore(b,a);a.parentNode.removeChild(a)}})});
e.commands.pagebreak={execCommand:function(){var b=e.selection.getRange(),l=e.document.createElement("hr");g.setAttributes(l,{"class":"pagebreak",noshade:"noshade",size:"5"});g.unSelectable(l);var d=g.findParentByTagName(b.startContainer,a,!0),h=[];if(d)switch(d.tagName){case "TD":d=d.parentNode,d.previousSibling?(d.parentNode.insertBefore(l,d),h=g.findParents(l)):(b=g.findParentByTagName(d,"table"),b.parentNode.insertBefore(l,b),h=g.findParents(l,!0)),d=h[1],l!==d&&g.breakParent(l,d),e.fireEvent("afteradjusttable",
e.document)}else{if(!b.collapsed)for(b.deleteContents(),d=b.startContainer;!g.isBody(d)&&g.isBlockElm(d)&&g.isEmptyNode(d);)b.setStartBefore(d).collapse(!0),g.remove(d),d=b.startContainer;b.insertNode(l);for(d=l.parentNode;!g.isBody(d);)g.breakParent(l,d),(d=l.nextSibling)&&g.isEmptyBlock(d)&&g.remove(d),d=l.parentNode;d=l.nextSibling;h=l.previousSibling;c(h)?g.remove(h):h&&f(h);d?(c(d)?g.remove(d):f(d),b.setEndAfter(l).collapse(!1)):(d=e.document.createElement("p"),l.parentNode.appendChild(d),g.fillNode(e.document,
d),b.setStart(d,0).collapse(!0));b.select(!0)}}}};UE.plugin.register("wordimage",function(){var f=this,c=[];return{commands:{wordimage:{execCommand:function(){for(var c=g.getElementsByTagName(f.body,"img"),a=[],b=0,l;l=c[b++];)(l=l.getAttribute("word_img"))&&a.push(l);return a},queryCommandState:function(){c=g.getElementsByTagName(f.body,"img");for(var e=0,a;a=c[e++];)if(a.getAttribute("word_img"))return 1;return-1},notNeedUndo:!0}},inputRule:function(c){u.each(c.getNodesByTagName("img"),function(a){var b=
a.attrs,c=128>parseInt(b.width)||43>parseInt(b.height),d=f.options,e=d.UEDITOR_HOME_URL+"themes/default/images/spacer.gif";b.src&&/^(?:(file:\/+))/.test(b.src)&&a.setAttr({width:b.width,height:b.height,alt:b.alt,word_img:b.src,src:e,style:"background:url("+(c?d.themePath+d.theme+"/images/word.gif":d.langPath+d.lang+"/images/localimage.png")+") no-repeat center center;border:1px solid #ddd"})})}}});UE.plugins.dragdrop=function(){var f=this;f.ready(function(){g.on(this.body,"dragend",function(){var c=
f.selection.getRange(),e=c.getClosedNode()||f.selection.getStart();if(e&&"IMG"==e.tagName){for(var a=e.previousSibling,b;(b=e.nextSibling)&&1==b.nodeType&&"SPAN"==b.tagName&&!b.firstChild;)g.remove(b);(!a||1!=a.nodeType||g.isEmptyBlock(a))&&a||b&&(!b||g.isEmptyBlock(b))||(a&&"P"==a.tagName&&!g.isEmptyBlock(a)?(a.appendChild(e),g.moveChild(b,a),g.remove(b)):b&&"P"==b.tagName&&!g.isEmptyBlock(b)&&b.insertBefore(e,b.firstChild),a&&"P"==a.tagName&&g.isEmptyBlock(a)&&g.remove(a),b&&"P"==b.tagName&&g.isEmptyBlock(b)&&
g.remove(b),c.selectNode(e).select(),f.fireEvent("saveScene"))}})});f.addListener("keyup",function(c,e){if(13==(e.keyCode||e.which)){var a=f.selection.getRange(),b;(b=g.findParentByTagName(a.startContainer,"p",!0))&&"center"==g.getComputedStyle(b,"text-align")&&g.removeStyle(b,"text-align")}})};UE.plugins.undo=function(){function f(a,b){if(a.length!=b.length)return 0;for(var d=0,c=a.length;d<c;d++)if(a[d]!=b[d])return 0;return 1}var c,e=this,a=e.options.maxUndoCount||20,b=e.options.maxInputCount||
20,l=new RegExp(g.fillChar+"|</hr>","gi"),d={ol:1,ul:1,table:1,tbody:1,tr:1,body:1},h=e.options.autoClearEmptyNode;e.undoManger=new function(){this.list=[];this.index=0;this.hasRedo=this.hasUndo=!1;this.undo=function(){if(this.hasUndo)if(this.list[this.index-1]||1!=this.list.length){for(;this.list[this.index].content==this.list[this.index-1].content;)if(this.index--,0==this.index)return this.restore(0);this.restore(--this.index)}else this.reset()};this.redo=function(){if(this.hasRedo){for(;this.list[this.index].content==
this.list[this.index+1].content;)if(this.index++,this.index==this.list.length-1)return this.restore(this.index);this.restore(++this.index)}};this.restore=function(){var a=this.editor,b=this.list[this.index],c=UE.htmlparser(b.content.replace(l,""));a.options.autoClearEmptyNode=!1;a.filterInputRule(c);a.options.autoClearEmptyNode=h;a.document.body.innerHTML=c.toHtml();a.fireEvent("afterscencerestore");t.ie&&u.each(g.getElementsByTagName(a.document,"td th caption p"),function(b){g.isEmptyNode(b)&&g.fillNode(a.document,
b)});try{var e=(new v.Range(a.document)).moveToAddress(b.address);e.select(d[e.startContainer.nodeName.toLowerCase()])}catch(m){}this.update();this.clearKey();a.fireEvent("reset",!0)};this.getScene=function(){var a=this.editor,b=a.selection.getRange().createAddress(!1,!0);a.fireEvent("beforegetscene");var d=UE.htmlparser(a.body.innerHTML);a.options.autoClearEmptyNode=!1;a.filterOutputRule(d);a.options.autoClearEmptyNode=h;d=d.toHtml();a.fireEvent("aftergetscene");return{address:b,content:d}};this.save=
function(b,d){clearTimeout(c);var m=this.getScene(d),h=this.list[this.index];h&&h.content!=m.content&&e.trigger("contentchange");var l;if(l=h&&h.content==m.content)b?h=1:(h=h.address,l=m.address,h=h.collapsed!=l.collapsed?0:f(h.startAddress,l.startAddress)&&f(h.endAddress,l.endAddress)?1:0),l=h;l||(this.list=this.list.slice(0,this.index+1),this.list.push(m),this.list.length>a&&this.list.shift(),this.index=this.list.length-1,this.clearKey(),this.update())};this.update=function(){this.hasRedo=!!this.list[this.index+
1];this.hasUndo=!!this.list[this.index-1]};this.reset=function(){this.list=[];this.index=0;this.hasRedo=this.hasUndo=!1;this.clearKey()};this.clearKey=function(){w=0}};e.undoManger.editor=e;e.addListener("saveScene",function(){var a=Array.prototype.splice.call(arguments,1);this.undoManger.save.apply(this.undoManger,a)});e.addListener("reset",function(a,b){b||this.undoManger.reset()});e.commands.redo=e.commands.undo={execCommand:function(a){this.undoManger[a]()},queryCommandState:function(a){return this.undoManger["has"+
("undo"==a.toLowerCase()?"Undo":"Redo")]?0:-1},notNeedUndo:1};var m={16:1,17:1,18:1,37:1,38:1,39:1,40:1},w=0,r=!1;e.addListener("ready",function(){g.on(this.body,"compositionstart",function(){r=!0});g.on(this.body,"compositionend",function(){r=!1})});e.addshortcutkey({Undo:"ctrl+90",Redo:"ctrl+89"});var k=!0;e.addListener("keydown",function(a,d){var e=this;if(!(m[d.keyCode||d.which]||d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var h=function(a){a.undoManger.save(!1,!0);a.fireEvent("selectionchange")};
r||(e.selection.getRange().collapsed?(0==e.undoManger.list.length&&e.undoManger.save(!0),clearTimeout(c),c=setTimeout(function(){if(r)var a=setInterval(function(){r||(h(e),clearInterval(a))},300);else h(e)},200),w++,w>=b&&h(e)):(e.undoManger.save(!1,!0),k=!1))}});e.addListener("keyup",function(a,b){m[b.keyCode||b.which]||b.ctrlKey||b.metaKey||b.shiftKey||b.altKey||r||k||(this.undoManger.save(!1,!0),k=!0)});e.stopCmdUndo=function(){e.__hasEnterExecCommand=!0};e.startCmdUndo=function(){e.__hasEnterExecCommand=
!1}};UE.plugin.register("copy",function(){function f(){ZeroClipboard.config({debug:!1,moviePath:c.options.UEDITOR_HOME_URL+"/third-party/zeroclipboard/ZeroClipboard.swf"});var e=c.zeroclipboard=new ZeroClipboard;e.on("copy",function(a){a=a.client;var b=c.selection.getRange(),e=document.createElement("div");e.appendChild(b.cloneContents());a.setText(e.innerText||e.textContent);a.setHtml(e.innerHTML);b.select()});e.on("mouseover mouseout",function(a){var b=a.target;"mouseover"==a.type?g.addClass(b,
"edui-state-hover"):"mouseout"==a.type&&g.removeClasses(b,"edui-state-hover")});e.on("wrongflash noflash",function(){ZeroClipboard.destroy()})}var c=this;return{bindEvents:{ready:function(){t.ie||(window.ZeroClipboard?f():u.loadFile(document,{src:c.options.UEDITOR_HOME_URL+"/third-party/zeroclipboard/ZeroClipboard.js",tag:"script",type:"text/javascript",defer:"defer"},function(){f()}))}},commands:{copy:{execCommand:function(e){c.document.execCommand("copy")||alert(c.getLang("copymsg"))}}}}});UE.plugins.paste=
function(){function f(a){var b=this.document;if(!b.getElementById("baidu_pastebin")){var d=this.selection.getRange(),c=d.createBookmark(),e=b.createElement("div");e.id="baidu_pastebin";t.webkit&&e.appendChild(b.createTextNode(g.fillChar+g.fillChar));b.body.appendChild(e);c.start.style.display="";e.style.cssText="position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:"+g.getXY(c.start).y+"px";d.selectNodeContents(e).select(!0);setTimeout(function(){if(t.webkit)for(var l=
0,f=b.querySelectorAll("#baidu_pastebin"),k;k=f[l++];)if(g.isEmptyNode(k))g.remove(k);else{e=k;break}try{e.parentNode.removeChild(e)}catch(n){}d.moveToBookmark(c).select(!0);a(e)},0)}}function c(a){return a.replace(/<(\/?)([\w\-]+)([^>]*)>/gi,function(a,b,d,c){d=d.toLowerCase();if({img:1}[d])return a;c=c.replace(/([\w\-]*?)\s*=\s*(("([^"]*)")|('([^']*)')|([^\s>]+))/gi,function(a,b,d){return{src:1,href:1,name:1}[b.toLowerCase()]?b+"="+d+" ":""});return{span:1,div:1}[d]?"":"<"+b+d+" "+u.trim(c)+">"})}
function e(e){var m;if(e.firstChild){var f=g.getElementsByTagName(e,"span");m=0;for(var r;r=f[m++];)"_baidu_cut_start"!=r.id&&"_baidu_cut_end"!=r.id||g.remove(r);if(t.webkit){r=e.querySelectorAll("div br");for(m=0;f=r[m++];)f=f.parentNode,"DIV"==f.tagName&&1==f.childNodes.length&&(f.innerHTML="<p><br/></p>",g.remove(f));f=e.querySelectorAll("#baidu_pastebin");for(m=0;r=f[m++];){var k=a.document.createElement("p");for(r.parentNode.insertBefore(k,r);r.firstChild;)k.appendChild(r.firstChild);g.remove(r)}r=
e.querySelectorAll("meta");for(m=0;f=r[m++];)g.remove(f);r=e.querySelectorAll("br");for(m=0;f=r[m++];)/^apple-/i.test(f.className)&&g.remove(f)}if(t.gecko)for(r=e.querySelectorAll("[_moz_dirty]"),m=0;f=r[m++];)f.removeAttribute("_moz_dirty");if(!t.ie)for(r=e.querySelectorAll("span.Apple-style-span"),m=0;f=r[m++];)g.remove(f,!0);m=e.innerHTML;m=UE.filterWord(m);e=UE.htmlparser(m);a.options.filterRules&&UE.filterNode(e,a.options.filterRules);a.filterInputRule(e);t.webkit&&((m=e.lastChild())&&"element"==
m.type&&"br"==m.tagName&&e.removeChild(m),u.each(a.body.querySelectorAll("div"),function(a){g.isEmptyBlock(a)&&g.remove(a,!0)}));m={html:e.toHtml()};a.fireEvent("beforepaste",m,e);m.html&&(e=UE.htmlparser(m.html,!0),1===a.queryCommandState("pasteplain")?a.execCommand("insertHtml",UE.filterNode(e,a.options.filterTxtRules).toHtml(),!0):(UE.filterNode(e,a.options.filterTxtRules),b=e.toHtml(),l=m.html,d=a.selection.getRange().createAddress(!0),a.execCommand("insertHtml",!0===a.getOpt("retainOnlyLabelPasted")?
c(l):l,!0)),a.fireEvent("afterpaste",m))}}var a=this;a.setOpt({retainOnlyLabelPasted:!1});var b,l,d;a.addListener("pasteTransfer",function(e,m){if(d&&b&&l&&b!=l){var f=a.selection.getRange();f.moveToAddress(d,!0);if(!f.collapsed){for(;!g.isBody(f.startContainer);){var r=f.startContainer;if(1==r.nodeType){r=r.childNodes[f.startOffset];if(!r){f.setStartBefore(f.startContainer);continue}(r=r.previousSibling)&&3==r.nodeType&&(new RegExp("^[\n\r\t "+g.fillChar+"]*$")).test(r.nodeValue)&&f.setStartBefore(r)}if(0==
f.startOffset)f.setStartBefore(f.startContainer);else break}for(;!g.isBody(f.endContainer);){r=f.endContainer;if(1==r.nodeType){r=r.childNodes[f.endOffset];if(!r){f.setEndAfter(f.endContainer);continue}(r=r.nextSibling)&&3==r.nodeType&&(new RegExp("^[\n\r\t"+g.fillChar+"]*$")).test(r.nodeValue)&&f.setEndAfter(r)}if(f.endOffset==f.endContainer[3==f.endContainer.nodeType?"nodeValue":"childNodes"].length)f.setEndAfter(f.endContainer);else break}}f.deleteContents();f.select(!0);a.__hasEnterExecCommand=
!0;f=l;2===m?f=c(f):m&&(f=b);a.execCommand("inserthtml",f,!0);a.__hasEnterExecCommand=!1;for(f=a.selection.getRange();!g.isBody(f.startContainer)&&!f.startOffset&&f.startContainer[3==f.startContainer.nodeType?"nodeValue":"childNodes"].length;)f.setStartBefore(f.startContainer);f=f.createAddress(!0);d.endAddress=f.startAddress}});a.addListener("ready",function(){g.on(a.body,"cut",function(){!a.selection.getRange().collapsed&&a.undoManger&&a.undoManger.save()});g.on(a.body,t.ie||t.opera?"keydown":"paste",
function(b){(!t.ie&&!t.opera||(b.ctrlKey||b.metaKey)&&"86"==b.keyCode)&&f.call(a,function(a){e(a)})})});a.commands.paste={execCommand:function(b){t.ie?(f.call(a,function(a){e(a)}),a.document.execCommand("paste")):alert(a.getLang("pastemsg"))}}};UE.plugins.pasteplain=function(){this.setOpt({pasteplain:!1,filterTxtRules:function(){function c(a){a.tagName="p";a.setStyle()}function e(a){a.parentNode.removeChild(a,!0)}return{"-":"script style object iframe embed input select",p:{$:{}},br:{$:{}},div:function(a){for(var b,
c=UE.uNode.createElement("p");b=a.firstChild();)"text"!=b.type&&UE.dom.dtd.$block[b.tagName]?c.firstChild()?(a.parentNode.insertBefore(c,a),c=UE.uNode.createElement("p")):a.parentNode.insertBefore(b,a):c.appendChild(b);c.firstChild()&&a.parentNode.insertBefore(c,a);a.parentNode.removeChild(a)},ol:e,ul:e,dl:e,dt:e,dd:e,li:e,caption:c,th:c,tr:c,h1:c,h2:c,h3:c,h4:c,h5:c,h6:c,td:function(a){a.innerText()&&a.parentNode.insertAfter(UE.uNode.createText(" &nbsp; &nbsp;"),a);a.parentNode.removeChild(a,a.innerText())}}}()});
var f=this.options.pasteplain;this.commands.pasteplain={queryCommandState:function(){return f?1:0},execCommand:function(){f=!f|0},notNeedUndo:1}};UE.plugins.list=function(){function f(a){var b=[],d;for(d in a)b.push(d);return b}function c(a){var b=a.className;return g.hasClass(a,/custom_/)?b.match(/custom_(\w+)/)[1]:g.getStyle(a,"list-style-type")}function e(d,e){u.each(g.getElementsByTagName(d,"ol ul"),function(m){if(g.inDoc(m,d)){var h=m.parentNode;if(h.tagName==m.tagName){var l=c(m)||("OL"==m.tagName?
"decimal":"disc"),f=c(h)||("OL"==h.tagName?"decimal":"disc");l==f&&(l=u.indexOf(r[m.tagName],l),l=l+1==r[m.tagName].length?0:l+1,b(m,r[m.tagName][l]))}var k=0,l=2;g.hasClass(m,/custom_/)?/[ou]l/i.test(h.tagName)&&g.hasClass(h,/custom_/)||(l=1):/[ou]l/i.test(h.tagName)&&g.hasClass(h,/custom_/)&&(l=3);(h=g.getStyle(m,"list-style-type"))&&(m.style.cssText="list-style-type:"+h);m.className=u.trim(m.className.replace(/list-paddingleft-\w+/,""))+" list-paddingleft-"+l;u.each(g.getElementsByTagName(m,"li"),
function(a){a.style.cssText&&(a.style.cssText="");if(!a.firstChild)g.remove(a);else if(a.parentNode===m){k++;if(g.hasClass(m,/custom_/)){var b=1,d=c(m);if("OL"==m.tagName){if(d)switch(d){case "cn":case "cn1":case "cn2":10<k&&(0==k%10||10<k&&20>k)?b=2:20<k&&(b=3);break;case "num2":9<k&&(b=2)}a.className="list-"+w[d]+k+" list-"+d+"-paddingleft-"+b}else a.className="list-"+w[d]+" list-"+d+"-paddingleft"}else a.className=a.className.replace(/list-[\w\-]+/gi,"");b=a.getAttribute("class");null===b||b.replace(/\s/g,
"")||g.removeAttributes(a,"class")}});!e&&a(m,m.tagName.toLowerCase(),c(m)||g.getStyle(m,"list-style-type"),!0)}})}function a(a,b,d,m){var h=a.nextSibling;h&&1==h.nodeType&&h.tagName.toLowerCase()==b&&(c(h)||g.getStyle(h,"list-style-type")||("ol"==b?"decimal":"disc"))==d&&(g.moveChild(h,a),0==h.childNodes.length&&g.remove(h));h&&g.isFillChar(h)&&g.remove(h);(h=a.previousSibling)&&1==h.nodeType&&h.tagName.toLowerCase()==b&&(c(h)||g.getStyle(h,"list-style-type")||("ol"==b?"decimal":"disc"))==d&&g.moveChild(a,
h);h&&g.isFillChar(h)&&g.remove(h);!m&&g.isEmptyBlock(a)&&g.remove(a);c(a)&&e(a.ownerDocument,!0)}function b(a,b){w[b]&&(a.className="custom_"+b);try{g.setStyle(a,"list-style-type",b)}catch(d){}}function l(a){var b=a.previousSibling;b&&g.isEmptyBlock(b)&&g.remove(b);(b=a.nextSibling)&&g.isEmptyBlock(b)&&g.remove(b)}function d(a){for(;a&&!g.isBody(a);){if("TABLE"==a.nodeName)return null;if("LI"==a.nodeName)return a;a=a.parentNode}}var h=this,m={TD:1,PRE:1,BLOCKQUOTE:1},w={cn:"cn-1-",cn1:"cn-2-",cn2:"cn-3-",
num:"num-1-",num1:"num-2-",num2:"num-3-",dash:"dash",dot:"dot"};h.setOpt({autoTransWordToList:!1,insertorderedlist:{num:"",num1:"",num2:"",cn:"",cn1:"",cn2:"",decimal:"","lower-alpha":"","lower-roman":"","upper-alpha":"","upper-roman":""},insertunorderedlist:{circle:"",disc:"",square:"",dash:"",dot:""},listDefaultPaddingLeft:"30",listiconpath:"http://bs.baidu.com/listicon/",maxListLevel:-1,disablePInList:!1});var r={OL:f(h.options.insertorderedlist),UL:f(h.options.insertunorderedlist)},k=h.options.listiconpath,
n;for(n in w)h.options.insertorderedlist.hasOwnProperty(n)||h.options.insertunorderedlist.hasOwnProperty(n)||delete w[n];h.ready(function(){var a=[],b;for(b in w){if("dash"==b||"dot"==b)a.push("li.list-"+w[b]+"{background-image:url("+k+w[b]+".gif)}"),a.push("ul.custom_"+b+"{list-style:none;}ul.custom_"+b+" li{background-position:0 3px;background-repeat:no-repeat}");else{for(var d=0;99>d;d++)a.push("li.list-"+w[b]+d+"{background-image:url("+k+"list-"+w[b]+d+".gif)}");a.push("ol.custom_"+b+"{list-style:none;}ol.custom_"+
b+" li{background-position:0 3px;background-repeat:no-repeat}")}switch(b){case "cn":a.push("li.list-"+b+"-paddingleft-1{padding-left:25px}");a.push("li.list-"+b+"-paddingleft-2{padding-left:40px}");a.push("li.list-"+b+"-paddingleft-3{padding-left:55px}");break;case "cn1":a.push("li.list-"+b+"-paddingleft-1{padding-left:30px}");a.push("li.list-"+b+"-paddingleft-2{padding-left:40px}");a.push("li.list-"+b+"-paddingleft-3{padding-left:55px}");break;case "cn2":a.push("li.list-"+b+"-paddingleft-1{padding-left:40px}");
a.push("li.list-"+b+"-paddingleft-2{padding-left:55px}");a.push("li.list-"+b+"-paddingleft-3{padding-left:68px}");break;case "num":case "num1":a.push("li.list-"+b+"-paddingleft-1{padding-left:25px}");break;case "num2":a.push("li.list-"+b+"-paddingleft-1{padding-left:35px}");a.push("li.list-"+b+"-paddingleft-2{padding-left:40px}");break;case "dash":a.push("li.list-"+b+"-paddingleft{padding-left:35px}");break;case "dot":a.push("li.list-"+b+"-paddingleft{padding-left:20px}")}}a.push(".list-paddingleft-1{padding-left:0}");
a.push(".list-paddingleft-2{padding-left:"+h.options.listDefaultPaddingLeft+"px}");a.push(".list-paddingleft-3{padding-left:"+2*h.options.listDefaultPaddingLeft+"px}");u.cssRule("list","ol,ul{margin:0;pading:0;"+(t.ie?"":"width:95%")+"}li{clear:both;}"+a.join("\n"),h.document)});h.ready(function(){g.on(h.body,"cut",function(){setTimeout(function(){var a=h.selection.getRange(),b;if(!a.collapsed&&(b=g.findParentByTagName(a.startContainer,"li",!0))&&!b.nextSibling&&g.isEmptyBlock(b)){b=b.parentNode;
var d;(d=b.previousSibling)?(g.remove(b),a.setStartAtLast(d).collapse(!0)):(d=b.nextSibling)?(g.remove(b),a.setStartAtFirst(d).collapse(!0)):(d=h.document.createElement("p"),g.fillNode(h.document,d),b.parentNode.insertBefore(d,b),g.remove(b),a.setStart(d,0).collapse(!0));a.select(!0)}})})});h.addListener("beforepaste",function(a,b){var d=this.selection.getRange(),e=UE.htmlparser(b.html,!0);if(d=g.findParentByTagName(d.startContainer,"li",!0)){var m=d.parentNode;u.each(e.getNodesByTagName("OL"==m.tagName?
"ul":"ol"),function(b){b.tagName=m.tagName;b.setAttr();if(b.parentNode===e)a=c(m)||("OL"==m.tagName?"decimal":"disc");else{var d=b.parentNode.getAttr("class");(a=d&&/custom_/.test(d)?d.match(/custom_(\w+)/)[1]:b.parentNode.getStyle("list-style-type"))||(a="OL"==m.tagName?"decimal":"disc")}d=u.indexOf(r[m.tagName],a);b.parentNode!==e&&(d=d+1==r[m.tagName].length?0:d+1);d=r[m.tagName][d];w[d]?b.setAttr("class","custom_"+d):b.setStyle("list-style-type",d)})}b.html=e.toHtml()});!0===h.getOpt("disablePInList")&&
h.addOutputRule(function(a){u.each(a.getNodesByTagName("li"),function(a){var b=[],d=0;u.each(a.children,function(c){if("p"==c.tagName){for(var e;e=c.children.pop();)b.splice(d,0,e),e.parentNode=a,lastNode=e;e=b[b.length-1];e&&"element"==e.type&&"br"==e.tagName||(c=UE.uNode.createElement("br"),c.parentNode=a,b.push(c));d=b.length}});b.length&&(a.children=b)})});h.addInputRule(function(a){u.each(a.getNodesByTagName("li"),function(a){for(var b=UE.uNode.createElement("p"),d=0,c;c=a.children[d];)"text"==
c.type||A.p[c.tagName]?b.appendChild(c):b.firstChild()?(a.insertBefore(b,c),b=UE.uNode.createElement("p"),d+=2):d++;(b.firstChild()&&!b.parentNode||!a.firstChild())&&a.appendChild(b);b.firstChild()||b.innerHTML(t.ie?"&nbsp;":"<br/>");a=a.firstChild();(b=a.lastChild())&&"text"==b.type&&/^\s*$/.test(b.data)&&a.removeChild(b)});if(h.options.autoTransWordToList){var b=function(a,b){var e=b.firstChild();if(e&&"element"==e.type&&"span"==e.tagName&&/Wingdings|Symbol/.test(e.getStyle("font-family"))){for(var m in c)if(c[m]==
e.data)return m;return"disc"}for(m in d)if(d[m].test(a))return m},d={num1:/^\d+\)/,decimal:/^\d+\./,"lower-alpha":/^[a-z]+\)/,"upper-alpha":/^[A-Z]+\./,cn:/^[\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+[\u3001]/,cn2:/^\([\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+\)/},c={square:"n"};u.each(a.getNodesByTagName("p"),function(a){if("MsoListParagraph"==a.getAttr("class")){a.setStyle("margin","");a.setStyle("margin-left","");a.setAttr("class","");var c=a,e,m=a;if("li"!=a.parentNode.tagName&&
(e=b(a.innerText(),a))){var l=UE.uNode.createElement(h.options.insertorderedlist.hasOwnProperty(e)?"ol":"ul");for(w[e]?l.setAttr("class","custom_"+e):l.setStyle("list-style-type",e);a&&"li"!=a.parentNode.tagName&&b(a.innerText(),a);){(c=a.nextSibling())||a.parentNode.insertBefore(l,a);var f=l,g=e;if("ol"==f.tagName)if(t.ie){var r=a.firstChild();"element"==r.type&&"span"==r.tagName&&d[g].test(r.innerText())&&a.removeChild(r)}else a.innerHTML(a.innerHTML().replace(d[g],""));else a.removeChild(a.firstChild());
g=UE.uNode.createElement("li");g.appendChild(a);f.appendChild(g);a=c}!l.parentNode&&a&&a.parentNode&&a.parentNode.insertBefore(l,a)}(c=m.firstChild())&&"element"==c.type&&"span"==c.tagName&&/^\s*(&nbsp;)+\s*$/.test(c.innerText())&&c.parentNode.removeChild(c)}})}});h.addListener("contentchange",function(){e(h.document)});h.addListener("keydown",function(a,b){function d(){b.preventDefault?b.preventDefault():b.returnValue=!1;h.fireEvent("contentchange");h.undoManger&&h.undoManger.save()}function c(a,
b){for(;a&&!g.isBody(a)&&!b(a);){if(1==a.nodeType&&/[ou]l/i.test(a.tagName))return a;a=a.parentNode}return null}var e=b.keyCode||b.which;if(13==e&&!b.shiftKey){var m=h.selection.getRange(),f=g.findParent(m.startContainer,function(a){return g.isBlockElm(a)},!0),r=g.findParentByTagName(m.startContainer,"li",!0);f&&"PRE"!=f.tagName&&!r&&(r=f.innerHTML.replace(new RegExp(g.fillChar,"g"),""),/^\s*1\s*\.[^\d]/.test(r)&&(f.innerHTML=r.replace(/^\s*1\s*\./,""),m.setStartAtLast(f).collapse(!0).select(),h.__hasEnterExecCommand=
!0,h.execCommand("insertorderedlist"),h.__hasEnterExecCommand=!1));m=h.selection.getRange();f=c(m.startContainer,function(a){return"TABLE"==a.tagName});r=m.collapsed?f:c(m.endContainer,function(a){return"TABLE"==a.tagName});if(f&&r&&f===r){if(!m.collapsed)if(f=g.findParentByTagName(m.startContainer,"li",!0),r=g.findParentByTagName(m.endContainer,"li",!0),f&&r&&f===r){if(m.deleteContents(),(r=g.findParentByTagName(m.startContainer,"li",!0))&&g.isEmptyBlock(r)){n=r.previousSibling;next=r.nextSibling;
f=h.document.createElement("p");g.fillNode(h.document,f);k=r.parentNode;n&&next?(m.setStart(next,0).collapse(!0).select(!0),g.remove(r)):((n||next)&&n?r.parentNode.parentNode.insertBefore(f,k.nextSibling):k.parentNode.insertBefore(f,k),g.remove(r),k.firstChild||g.remove(k),m.setStart(f,0).setCursor());d();return}}else{var f=m.cloneRange(),w=f.collapse(!1).createBookmark();m.deleteContents();f.moveToBookmark(w);r=g.findParentByTagName(f.startContainer,"li",!0);l(r);f.select();d();return}if(r=g.findParentByTagName(m.startContainer,
"li",!0)){if(g.isEmptyBlock(r)){var w=m.createBookmark(),k=r.parentNode;r!==k.lastChild?(g.breakParent(r,k),l(r)):(k.parentNode.insertBefore(r,k.nextSibling),g.isEmptyNode(k)&&g.remove(k));if(!A.$list[r.parentNode.tagName])if(g.isBlockElm(r.firstChild))g.remove(r,!0);else{f=h.document.createElement("p");for(r.parentNode.insertBefore(f,r);r.firstChild;)f.appendChild(r.firstChild);g.remove(r)}m.moveToBookmark(w).select()}else{f=r.firstChild;if(!f||!g.isBlockElm(f)){f=h.document.createElement("p");for(!r.firstChild&&
g.fillNode(h.document,f);r.firstChild;)f.appendChild(r.firstChild);r.appendChild(f)}w=h.document.createElement("span");m.insertNode(w);g.breakParent(w,r);n=w.nextSibling;f=n.firstChild;f||(f=h.document.createElement("p"),g.fillNode(h.document,f),n.appendChild(f));g.isEmptyNode(f)&&(f.innerHTML="",g.fillNode(h.document,f));m.setStart(f,0).collapse(!0).shrinkBoundary().select();g.remove(w);var n=n.previousSibling;n&&g.isEmptyBlock(n)&&(n.innerHTML="<p></p>",g.fillNode(h.document,n.firstChild))}d()}}}if(8==
e&&(m=h.selection.getRange(),m.collapsed&&g.isStartInblock(m)&&(f=m.cloneRange().trimBoundary(),(r=g.findParentByTagName(m.startContainer,"li",!0))&&g.isStartInblock(f))))if((f=g.findParentByTagName(m.startContainer,"p",!0))&&f!==r.firstChild)k=g.findParentByTagName(f,["ol","ul"]),g.breakParent(f,k),l(f),h.fireEvent("contentchange"),m.setStart(f,0).setCursor(!1,!0),h.fireEvent("saveScene"),g.preventDefault(b);else if(r&&(n=r.previousSibling)){if(46!=e||!r.childNodes.length){A.$list[n.tagName]&&(n=
n.lastChild);h.undoManger&&h.undoManger.save();f=r.firstChild;if(g.isBlockElm(f))if(g.isEmptyNode(f))for(n.appendChild(f),m.setStart(f,0).setCursor(!1,!0);r.firstChild;)n.appendChild(r.firstChild);else w=h.document.createElement("span"),m.insertNode(w),g.isEmptyBlock(n)&&(n.innerHTML=""),g.moveChild(r,n),m.setStartBefore(w).collapse(!0).select(!0),g.remove(w);else if(g.isEmptyNode(r))f=h.document.createElement("p"),n.appendChild(f),m.setStart(f,0).setCursor();else for(m.setEnd(n,n.childNodes.length).collapse().select(!0);r.firstChild;)n.appendChild(r.firstChild);
g.remove(r);h.fireEvent("contentchange");h.fireEvent("saveScene");g.preventDefault(b)}}else if(r&&!r.previousSibling){k=r.parentNode;w=m.createBookmark();if(g.isTagNode(k.parentNode,"ol ul"))k.parentNode.insertBefore(r,k);else{for(;r.firstChild;)k.parentNode.insertBefore(r.firstChild,k);g.remove(r)}g.isEmptyNode(k)&&g.remove(k);m.moveToBookmark(w).setCursor(!1,!0);h.fireEvent("contentchange");h.fireEvent("saveScene");g.preventDefault(b)}});h.addListener("keyup",function(b,d){if(8==(d.keyCode||d.which)){var e=
h.selection.getRange(),m;(m=g.findParentByTagName(e.startContainer,["ol","ul"],!0))&&a(m,m.tagName.toLowerCase(),c(m)||g.getComputedStyle(m,"list-style-type"),!0)}});h.addListener("tabkeydown",function(){function d(a){if(-1!=h.options.maxListLevel){a=a.parentNode;for(var b=0;/[ou]l/i.test(a.tagName);)b++,a=a.parentNode;if(b>=h.options.maxListLevel)return!0}}var e=h.selection.getRange(),m=g.findParentByTagName(e.startContainer,"li",!0);if(m){var f;if(e.collapsed){if(d(m))return!0;var l=m.parentNode,
k=h.document.createElement(l.tagName),w=u.indexOf(r[k.tagName],c(l)||g.getComputedStyle(l,"list-style-type")),w=w+1==r[k.tagName].length?0:w+1,w=r[k.tagName][w];b(k,w);if(g.isStartInblock(e))return h.fireEvent("saveScene"),f=e.createBookmark(),l.insertBefore(k,m),k.appendChild(m),a(k,k.tagName.toLowerCase(),w),h.fireEvent("contentchange"),e.moveToBookmark(f).select(!0),!0}else{h.fireEvent("saveScene");f=e.createBookmark();for(var l=0,n,k=g.findParents(m),q;q=k[l++];)if(g.isTagNode(q,"ol ul")){n=q;
break}q=m;if(f.end)for(;q&&!(g.getPosition(q,f.end)&g.POSITION_FOLLOWING);)if(d(q))q=g.getNextDomNode(q,!1,null,function(a){return a!==n});else{l=q.parentNode;k=h.document.createElement(l.tagName);w=u.indexOf(r[k.tagName],c(l)||g.getComputedStyle(l,"list-style-type"));w=r[k.tagName][w+1==r[k.tagName].length?0:w+1];b(k,w);for(l.insertBefore(k,q);q&&!(g.getPosition(q,f.end)&g.POSITION_FOLLOWING);){m=q.nextSibling;k.appendChild(q);if(!m||g.isTagNode(m,"ol ul")){if(m)for(;(m=m.firstChild)&&"LI"!=m.tagName;);
else m=g.getNextDomNode(q,!1,null,function(a){return a!==n});break}q=m}a(k,k.tagName.toLowerCase(),w);q=m}h.fireEvent("contentchange");e.moveToBookmark(f).select();return!0}}});h.commands.insertorderedlist=h.commands.insertunorderedlist={execCommand:function(e,h){h||(h="insertorderedlist"==e.toLowerCase()?"decimal":"disc");var f=this.selection.getRange(),l=function(a){return 1==a.nodeType?"br"!=a.tagName.toLowerCase():!g.isWhitespace(a)},r="insertorderedlist"==e.toLowerCase()?"ol":"ul",k=this.document.createDocumentFragment();
f.adjustmentBoundary().shrinkBoundary();var w=f.createBookmark(!0),n=d(this.document.getElementById(w.start)),q=0,x=d(this.document.getElementById(w.end)),t=0,z,u,v,y;if(n||x){n&&(z=n.parentNode);w.end||(x=n);x&&(u=x.parentNode);if(z===u){for(;n!==x;){y=n;n=n.nextSibling;if(!g.isBlockElm(y.firstChild)){for(l=this.document.createElement("p");y.firstChild;)l.appendChild(y.firstChild);y.appendChild(l)}k.appendChild(y)}y=this.document.createElement("span");z.insertBefore(y,x);if(!g.isBlockElm(x.firstChild)){for(l=
this.document.createElement("p");x.firstChild;)l.appendChild(x.firstChild);x.appendChild(l)}k.appendChild(x);g.breakParent(y,z);g.isEmptyNode(y.previousSibling)&&g.remove(y.previousSibling);g.isEmptyNode(y.nextSibling)&&g.remove(y.nextSibling);l=c(z)||g.getComputedStyle(z,"list-style-type")||("insertorderedlist"==e.toLowerCase()?"decimal":"disc");if(z.tagName.toLowerCase()==r&&l==h){x=0;for(x=this.document.createDocumentFragment();l=k.firstChild;)if(g.isTagNode(l,"ol ul"))x.appendChild(l);else for(;l.firstChild;)x.appendChild(l.firstChild),
g.remove(l);y.parentNode.insertBefore(x,y)}else v=this.document.createElement(r),b(v,h),v.appendChild(k),y.parentNode.insertBefore(v,y);g.remove(y);v&&a(v,r,h);f.moveToBookmark(w).select();return}if(n){for(;n;){y=n.nextSibling;if(g.isTagNode(n,"ol ul"))k.appendChild(n);else{v=this.document.createDocumentFragment();for(var F=0;n.firstChild;)g.isBlockElm(n.firstChild)&&(F=1),v.appendChild(n.firstChild);F?k.appendChild(v):(F=this.document.createElement("p"),F.appendChild(v),k.appendChild(F));g.remove(n)}n=
y}z.parentNode.insertBefore(k,z.nextSibling);g.isEmptyNode(z)?(f.setStartBefore(z),g.remove(z)):f.setStartAfter(z);q=1}if(x&&g.inDoc(u,this.document)){for(n=u.firstChild;n&&n!==x;){y=n.nextSibling;if(g.isTagNode(n,"ol ul"))k.appendChild(n);else{v=this.document.createDocumentFragment();for(F=0;n.firstChild;)g.isBlockElm(n.firstChild)&&(F=1),v.appendChild(n.firstChild);F?k.appendChild(v):(F=this.document.createElement("p"),F.appendChild(v),k.appendChild(F));g.remove(n)}n=y}y=g.createElement(this.document,
"div",{tmpDiv:1});g.moveChild(x,y);k.appendChild(y);g.remove(x);u.parentNode.insertBefore(k,u);f.setEndBefore(u);g.isEmptyNode(u)&&g.remove(u);t=1}}q||f.setStartBefore(this.document.getElementById(w.start));w.end&&!t&&f.setEndAfter(this.document.getElementById(w.end));f.enlarge(!0,function(a){return m[a.tagName]});k=this.document.createDocumentFragment();x=f.createBookmark();z=g.getNextDomNode(x.start,!1,l);v=f.cloneRange();for(q=g.isBlockElm;z&&z!==x.end&&g.getPosition(z,x.end)&g.POSITION_PRECEDING;)if(3==
z.nodeType||A.li[z.tagName])if(1==z.nodeType&&A.$list[z.tagName]){for(;z.firstChild;)k.appendChild(z.firstChild);n=g.getNextDomNode(z,!1,l);g.remove(z);z=n}else{n=z;for(v.setStartBefore(z);z&&z!==x.end&&(!q(z)||g.isBookmarkNode(z));)n=z,z=g.getNextDomNode(z,!1,null,function(a){return!m[a.tagName]});z&&q(z)&&(y=g.getNextDomNode(n,!1,l))&&g.isBookmarkNode(y)&&(z=g.getNextDomNode(y,!1,l),n=y);v.setEndAfter(n);z=g.getNextDomNode(n,!1,l);y=f.document.createElement("li");y.appendChild(v.extractContents());
if(g.isEmptyNode(y)){for(n=f.document.createElement("p");y.firstChild;)n.appendChild(y.firstChild);y.appendChild(n)}k.appendChild(y)}else z=g.getNextDomNode(z,!0,l);f.moveToBookmark(x).collapse(!0);v=this.document.createElement(r);b(v,h);v.appendChild(k);f.insertNode(v);a(v,r,h);x=0;for(r=g.getElementsByTagName(v,"div");l=r[x++];)l.getAttribute("tmpDiv")&&g.remove(l,!0);f.moveToBookmark(w).select()},queryCommandState:function(a){a="insertorderedlist"==a.toLowerCase()?"ol":"ul";for(var b=this.selection.getStartElementPath(),
d=0,c;(c=b[d++])&&"TABLE"!=c.nodeName;)if(a==c.nodeName.toLowerCase())return 1;return 0},queryCommandValue:function(a){a="insertorderedlist"==a.toLowerCase()?"ol":"ul";for(var b=this.selection.getStartElementPath(),d,e=0,m;m=b[e++];){if("TABLE"==m.nodeName){d=null;break}if(a==m.nodeName.toLowerCase()){d=m;break}}return d?c(d)||g.getComputedStyle(d,"list-style-type"):null}}};(function(){var f={textarea:function(c,e){var a=e.ownerDocument.createElement("textarea");a.style.cssText="position:absolute;resize:none;width:100%;height:100%;border:0;padding:0;margin:0;overflow-y:auto;";
t.ie&&8>t.version&&(a.style.width=e.offsetWidth+"px",a.style.height=e.offsetHeight+"px",e.onresize=function(){a.style.width=e.offsetWidth+"px";a.style.height=e.offsetHeight+"px"});e.appendChild(a);return{setContent:function(b){a.value=b},getContent:function(){return a.value},select:function(){var b;t.ie?(b=a.createTextRange(),b.collapse(!0),b.select()):(a.setSelectionRange(0,0),a.focus())},dispose:function(){e.removeChild(a);e=a=e.onresize=null}}},codemirror:function(c,e){var a=window.CodeMirror(e,
{mode:"text/html",tabMode:"indent",lineNumbers:!0,lineWrapping:!0}),b=a.getWrapperElement();b.style.cssText='position:absolute;left:0;top:0;width:100%;height:100%;font-family:consolas,"Courier new",monospace;font-size:13px;';a.getScrollerElement().style.cssText="position:absolute;left:0;top:0;width:100%;height:100%;";a.refresh();return{getCodeMirror:function(){return a},setContent:function(b){a.setValue(b)},getContent:function(){return a.getValue()},select:function(){a.focus()},dispose:function(){e.removeChild(b);
a=b=null}}}};UE.plugins.source=function(){var c=this,e=this.options,a=!1,b,l;e.sourceEditor=t.ie?"textarea":e.sourceEditor||"codemirror";c.setOpt({sourceEditorFirst:!1});var d,h,m;c.commands.source={execCommand:function(){if(a=!a){m=c.selection.getRange().createAddress(!1,!0);c.undoManger&&c.undoManger.save(!0);t.gecko&&(c.body.contentEditable=!1);d=c.iframe.style.cssText;c.iframe.style.cssText+="position:absolute;left:-32768px;top:-32768px;";c.fireEvent("beforegetcontent");var r=UE.htmlparser(c.body.innerHTML);
c.filterOutputRule(r);r.traversal(function(a){if("element"==a.type)switch(a.tagName){case "td":case "th":case "caption":a.children&&1==a.children.length&&"br"==a.firstChild().tagName&&a.removeChild(a.firstChild());break;case "pre":a.innerText(a.innerText().replace(/&nbsp;/g," "))}});c.fireEvent("aftergetcontent");r=r.toHtml(!0);b=f["codemirror"==e.sourceEditor&&window.CodeMirror?"codemirror":"textarea"](c,c.iframe.parentNode);b.setContent(r);l=c.setContent;c.setContent=function(a){a=UE.htmlparser(a);
c.filterInputRule(a);a=a.toHtml();b.setContent(a)};setTimeout(function(){b.select();c.addListener("fullscreenchanged",function(){try{b.getCodeMirror().refresh()}catch(a){}})});h=c.getContent;c.getContent=function(){return b.getContent()||"<p>"+(t.ie?"":"<br/>")+"</p>"}}else if(c.iframe.style.cssText=d,r=b.getContent()||"<p>"+(t.ie?"":"<br/>")+"</p>",r=r.replace(RegExp("[\\r\\t\\n ]*</?(\\w+)\\s*(?:[^>]*)>","g"),function(a,b){return b&&!A.$inlineWithA[b.toLowerCase()]?a.replace(/(^[\n\r\t ]*)|([\n\r\t ]*$)/g,
""):a.replace(/(^[\n\r\t]*)|([\n\r\t]*$)/g,"")}),c.setContent=l,c.setContent(r),b.dispose(),b=null,c.getContent=h,r=c.body.firstChild,r||(c.body.innerHTML="<p>"+(t.ie?"":"<br/>")+"</p>",r=c.body.firstChild),c.undoManger&&c.undoManger.save(!0),t.gecko){var k=document.createElement("input");k.style.cssText="position:absolute;left:0;top:-32768px";document.body.appendChild(k);c.body.contentEditable=!1;setTimeout(function(){g.setViewportOffset(k,{left:-32768,top:0});k.focus();setTimeout(function(){c.body.contentEditable=
!0;c.selection.getRange().moveToAddress(m).select(!0);g.remove(k)})})}else try{c.selection.getRange().moveToAddress(m).select(!0)}catch(w){}this.fireEvent("sourcemodechanged",a)},queryCommandState:function(){return a|0},notNeedUndo:1};var k=c.queryCommandState;c.queryCommandState=function(b){b=b.toLowerCase();return a?b in{source:1,fullscreen:1}?1:-1:k.apply(this,arguments)};"codemirror"==e.sourceEditor&&c.addListener("ready",function(){u.loadFile(document,{src:e.codeMirrorJsUrl||e.UEDITOR_HOME_URL+
"third-party/codemirror/codemirror.js",tag:"script",type:"text/javascript",defer:"defer"},function(){e.sourceEditorFirst&&setTimeout(function(){c.execCommand("source")},0)});u.loadFile(document,{tag:"link",rel:"stylesheet",type:"text/css",href:e.codeMirrorCssUrl||e.UEDITOR_HOME_URL+"third-party/codemirror/codemirror.css"})})}})();UE.plugins.enterkey=function(){var f,c=this,e=c.options.enterTag;c.addListener("keyup",function(a,b){if(13==(b.keyCode||b.which)){var e=c.selection.getRange(),d=e.startContainer,
h;if(t.ie)c.fireEvent("saveScene",!0,!0);else{if(/h\d/i.test(f)){if(t.gecko)g.findParentByTagName(d,"h1 h2 h3 h4 h5 h6 blockquote caption table".split(" "),!0)||(c.document.execCommand("formatBlock",!1,"<p>"),h=1);else if(1==d.nodeType){var d=c.document.createTextNode(""),m;e.insertNode(d);if(m=g.findParentByTagName(d,"div",!0)){for(h=c.document.createElement("p");m.firstChild;)h.appendChild(m.firstChild);m.parentNode.insertBefore(h,m);g.remove(m);e.setStartBefore(d).setCursor();h=1}g.remove(d)}c.undoManger&&
h&&c.undoManger.save()}t.opera&&e.select()}}});c.addListener("keydown",function(a,b){if(13==(b.keyCode||b.which))if(c.fireEvent("beforeenterkeydown"))g.preventDefault(b);else{c.fireEvent("saveScene",!0,!0);f="";var l=c.selection.getRange();if(!l.collapsed){var d=l.startContainer,h=l.endContainer,d=g.findParentByTagName(d,"td",!0),h=g.findParentByTagName(h,"td",!0);if(d&&h&&d!==h||!d&&h||d&&!h){b.preventDefault?b.preventDefault():b.returnValue=!1;return}}if("p"==e)t.ie||((d=g.findParentByTagName(l.startContainer,
"ol ul p h1 h2 h3 h4 h5 h6 blockquote caption".split(" "),!0))||t.opera?(f=d.tagName,"p"==d.tagName.toLowerCase()&&t.gecko&&g.removeDirtyAttr(d)):(c.document.execCommand("formatBlock",!1,"<p>"),t.gecko&&(l=c.selection.getRange(),(d=g.findParentByTagName(l.startContainer,"p",!0))&&g.removeDirtyAttr(d))));else if(b.preventDefault?b.preventDefault():b.returnValue=!1,l.collapsed)h=l.document.createElement("br"),l.insertNode(h),h.parentNode.lastChild===h?(h.parentNode.insertBefore(h.cloneNode(!0),h),l.setStartBefore(h)):
l.setStartAfter(h),l.setCursor();else if(l.deleteContents(),d=l.startContainer,1==d.nodeType&&(d=d.childNodes[l.startOffset])){for(;1==d.nodeType;){if(A.$empty[d.tagName])return l.setStartBefore(d).setCursor(),c.undoManger&&c.undoManger.save(),!1;if(!d.firstChild)return h=l.document.createElement("br"),d.appendChild(h),l.setStart(d,0).setCursor(),c.undoManger&&c.undoManger.save(),!1;d=d.firstChild}d===l.startContainer.childNodes[l.startOffset]?(h=l.document.createElement("br"),l.insertNode(h).setCursor()):
l.setStart(d,0).setCursor()}else h=l.document.createElement("br"),l.insertNode(h).setStartAfter(h).setCursor()}})};UE.plugins.keystrokes=function(){var f=this,c=!0;f.addListener("keydown",function(e,a){var b=a.keyCode||a.which,l=f.selection.getRange();if(!(l.collapsed||a.ctrlKey||a.shiftKey||a.altKey||a.metaKey)&&(65<=b&&90>=b||48<=b&&57>=b||96<=b&&111>=b||{13:1,8:1,46:1}[b])){var d=l.startContainer;g.isFillChar(d)&&l.setStartBefore(d);d=l.endContainer;g.isFillChar(d)&&l.setEndAfter(d);l.txtToElmBoundary();
l.endContainer&&1==l.endContainer.nodeType&&(d=l.endContainer.childNodes[l.endOffset])&&g.isBr(d)&&l.setEndAfter(d);if(0==l.startOffset&&(d=l.startContainer,g.isBoundaryNode(d,"firstChild")&&(d=l.endContainer,l.endOffset==(3==d.nodeType?d.nodeValue.length:d.childNodes.length)&&g.isBoundaryNode(d,"lastChild")))){f.fireEvent("saveScene");f.body.innerHTML="<p>"+(t.ie?"":"<br/>")+"</p>";l.setStart(f.body.firstChild,0).setCursor(!1,!0);f._selectionChange();return}}if(b==ua.Backspace){l=f.selection.getRange();
c=l.collapsed;if(f.fireEvent("delkeydown",a))return;var h,m;l.collapsed&&l.inFillChar()&&(h=l.startContainer,g.isFillChar(h)?(l.setStartBefore(h).shrinkBoundary(!0).collapse(!0),g.remove(h)):(h.nodeValue=h.nodeValue.replace(new RegExp("^"+g.fillChar),""),l.startOffset--,l.collapse(!0).select(!0)));if(h=l.getClosedNode()){f.fireEvent("saveScene");l.setStartBefore(h);g.remove(h);l.setCursor();f.fireEvent("saveScene");g.preventDefault(a);return}if(!t.ie&&(h=g.findParentByTagName(l.startContainer,"table",
!0),m=g.findParentByTagName(l.endContainer,"table",!0),h&&!m||!h&&m||h!==m)){a.preventDefault();return}}if(b==ua.Tab){var k={ol:1,ul:1,table:1};if(f.fireEvent("tabkeydown",a)){g.preventDefault(a);return}l=f.selection.getRange();f.fireEvent("saveScene");var d=0,r="";h=f.options.tabSize||4;for(m=f.options.tabNode||"&nbsp;";d<h;d++)r+=m;d=f.document.createElement("span");d.innerHTML=r+g.fillChar;if(l.collapsed)l.insertNode(d.cloneNode(!0).firstChild).setCursor(!0);else if(r=function(a){return g.isBlockElm(a)&&
!k[a.tagName.toLowerCase()]},h=g.findParent(l.startContainer,r,!0),m=g.findParent(l.endContainer,r,!0),h&&m&&h===m)l.deleteContents(),l.insertNode(d.cloneNode(!0).firstChild).setCursor(!0);else{h=l.createBookmark();l.enlarge(!0);m=l.createBookmark();for(var n=g.getNextDomNode(m.start,!1,r);n&&!(g.getPosition(n,m.end)&g.POSITION_FOLLOWING);)n.insertBefore(d.cloneNode(!0).firstChild,n.firstChild),n=g.getNextDomNode(n,!1,r);l.moveToBookmark(m).moveToBookmark(h).select()}g.preventDefault(a)}if(t.gecko&&
46==b&&(l=f.selection.getRange(),l.collapsed&&(h=l.startContainer,g.isEmptyBlock(h)))){for(b=h.parentNode;1==g.getChildCount(b)&&!g.isBody(b);)h=b,b=b.parentNode;h===b.lastChild&&a.preventDefault()}});f.addListener("keyup",function(e,a){var b;if((a.keyCode||a.which)==ua.Backspace&&!this.fireEvent("delkeyup")){b=this.selection.getRange();if(b.collapsed){var f;if((f=g.findParentByTagName(b.startContainer,"h1 h2 h3 h4 h5 h6".split(" "),!0))&&g.isEmptyBlock(f)){var d=f.previousSibling;if(d&&"TABLE"!=
d.nodeName){g.remove(f);b.setStartAtLast(d).setCursor(!1,!0);return}if((d=f.nextSibling)&&"TABLE"!=d.nodeName){g.remove(f);b.setStartAtFirst(d).setCursor(!1,!0);return}}g.isBody(b.startContainer)&&(f=g.createElement(this.document,"p",{innerHTML:t.ie?g.fillChar:"<br/>"}),b.insertNode(f).setStart(f,0).setCursor(!1,!0))}!c&&(3==b.startContainer.nodeType||1==b.startContainer.nodeType&&g.isEmptyBlock(b.startContainer))&&(t.ie?(f=b.document.createElement("span"),b.insertNode(f).setStartBefore(f).collapse(!0),
b.select(),g.remove(f)):b.select())}})};UE.plugins.fiximgclick=function(){function f(){this.cover=this.resizer=this.editor=null;this.doc=document;this.prePos={x:0,y:0};this.startPos={x:0,y:0}}var c=!1;(function(){var e=[[0,0,-1,-1],[0,0,0,-1],[0,0,1,-1],[0,0,-1,0],[0,0,1,0],[0,0,-1,1],[0,0,0,1],[0,0,1,1]];f.prototype={init:function(a){var b=this;b.editor=a;b.startPos=this.prePos={x:0,y:0};b.dragId=-1;a=[];var c=b.cover=document.createElement("div"),d=b.resizer=document.createElement("div");c.id=b.editor.ui.id+
"_imagescale_cover";c.style.cssText="position:absolute;display:none;z-index:"+b.editor.options.zIndex+";filter:alpha(opacity=0); opacity:0;background:#CCC;";g.on(c,"mousedown click",function(){b.hide()});for(i=0;8>i;i++)a.push('<span class="edui-editor-scale-hand'+i+'"></span>');d.id=b.editor.ui.id+"_imagescale";d.className="edui-editor-scale";d.innerHTML=a.join("");d.style.cssText+=";display:none;border:1px solid #3b77ff;z-index:"+b.editor.options.zIndex+";";b.editor.ui.getDom().appendChild(c);b.editor.ui.getDom().appendChild(d);
b.initStyle();b.initEvents()},initStyle:function(){u.cssRule("imagescale",".edui-editor-scale{display:none;position:absolute;border:1px solid #38B2CE;cursor:hand;-webkit-box-sizing: content-box;-moz-box-sizing: content-box;box-sizing: content-box;}.edui-editor-scale span{position:absolute;width:6px;height:6px;overflow:hidden;font-size:0px;display:block;background-color:#3C9DD0;}.edui-editor-scale .edui-editor-scale-hand0{cursor:nw-resize;top:0;margin-top:-4px;left:0;margin-left:-4px;}.edui-editor-scale .edui-editor-scale-hand1{cursor:n-resize;top:0;margin-top:-4px;left:50%;margin-left:-4px;}.edui-editor-scale .edui-editor-scale-hand2{cursor:ne-resize;top:0;margin-top:-4px;left:100%;margin-left:-3px;}.edui-editor-scale .edui-editor-scale-hand3{cursor:w-resize;top:50%;margin-top:-4px;left:0;margin-left:-4px;}.edui-editor-scale .edui-editor-scale-hand4{cursor:e-resize;top:50%;margin-top:-4px;left:100%;margin-left:-3px;}.edui-editor-scale .edui-editor-scale-hand5{cursor:sw-resize;top:100%;margin-top:-3px;left:0;margin-left:-4px;}.edui-editor-scale .edui-editor-scale-hand6{cursor:s-resize;top:100%;margin-top:-3px;left:50%;margin-left:-4px;}.edui-editor-scale .edui-editor-scale-hand7{cursor:se-resize;top:100%;margin-top:-3px;left:100%;margin-left:-3px;}")},
initEvents:function(){this.startPos.x=this.startPos.y=0;this.isDraging=!1},_eventHandler:function(a){switch(a.type){case "mousedown":var b=a.target||a.srcElement;-1!=b.className.indexOf("edui-editor-scale-hand")&&-1==this.dragId&&(this.dragId=b.className.slice(-1),this.startPos.x=this.prePos.x=a.clientX,this.startPos.y=this.prePos.y=a.clientY,g.on(this.doc,"mousemove",this.proxy(this._eventHandler,this)));break;case "mousemove":-1!=this.dragId&&(this.updateContainerStyle(this.dragId,{x:a.clientX-
this.prePos.x,y:a.clientY-this.prePos.y}),this.prePos.x=a.clientX,this.prePos.y=a.clientY,c=!0,this.updateTargetElement());break;case "mouseup":-1!=this.dragId&&(this.updateContainerStyle(this.dragId,{x:a.clientX-this.prePos.x,y:a.clientY-this.prePos.y}),this.updateTargetElement(),this.target.parentNode&&this.attachTo(this.target),this.dragId=-1),g.un(this.doc,"mousemove",this.proxy(this._eventHandler,this)),c&&(c=!1,this.editor.fireEvent("contentchange"))}},updateTargetElement:function(){g.setStyles(this.target,
{width:this.resizer.style.width,height:this.resizer.style.height});this.target.width=parseInt(this.resizer.style.width);this.target.height=parseInt(this.resizer.style.height);this.attachTo(this.target)},updateContainerStyle:function(a,b){var c=this.resizer,d;0!=e[a][0]&&(d=parseInt(c.style.left)+b.x,c.style.left=this._validScaledProp("left",d)+"px");0!=e[a][1]&&(d=parseInt(c.style.top)+b.y,c.style.top=this._validScaledProp("top",d)+"px");0!=e[a][2]&&(d=c.clientWidth+e[a][2]*b.x,c.style.width=this._validScaledProp("width",
d)+"px");0!=e[a][3]&&(d=c.clientHeight+e[a][3]*b.y,c.style.height=this._validScaledProp("height",d)+"px")},_validScaledProp:function(a,b){var c=this.resizer,d=document;b=isNaN(b)?0:b;switch(a){case "left":return 0>b?0:b+c.clientWidth>d.clientWidth?d.clientWidth-c.clientWidth:b;case "top":return 0>b?0:b+c.clientHeight>d.clientHeight?d.clientHeight-c.clientHeight:b;case "width":return 0>=b?1:b+c.offsetLeft>d.clientWidth?d.clientWidth-c.offsetLeft:b;case "height":return 0>=b?1:b+c.offsetTop>d.clientHeight?
d.clientHeight-c.offsetTop:b}},hideCover:function(){this.cover.style.display="none"},showCover:function(){var a=g.getXY(this.editor.ui.getDom()),b=g.getXY(this.editor.iframe);g.setStyles(this.cover,{width:this.editor.iframe.offsetWidth+"px",height:this.editor.iframe.offsetHeight+"px",top:b.y-a.y+"px",left:b.x-a.x+"px",position:"absolute",display:""})},show:function(a){this.resizer.style.display="block";a&&this.attachTo(a);g.on(this.resizer,"mousedown",this.proxy(this._eventHandler,this));g.on(this.doc,
"mouseup",this.proxy(this._eventHandler,this));this.showCover();this.editor.fireEvent("afterscaleshow",this);this.editor.fireEvent("saveScene")},hide:function(){this.hideCover();this.resizer.style.display="none";g.un(this.resizer,"mousedown",this.proxy(this._eventHandler,this));g.un(this.doc,"mouseup",this.proxy(this._eventHandler,this));this.editor.fireEvent("afterscalehide",this)},proxy:function(a,b){return function(c){return a.apply(b||this,arguments)}},attachTo:function(a){a=this.target=a;var b=
this.resizer,c=g.getXY(a),d=g.getXY(this.editor.iframe),e=g.getXY(b.parentNode);g.setStyles(b,{width:a.width+"px",height:a.height+"px",left:d.x+c.x-this.editor.document.body.scrollLeft-e.x-parseInt(b.style.borderLeftWidth)+"px",top:d.y+c.y-this.editor.document.body.scrollTop-e.y-parseInt(b.style.borderTopWidth)+"px"})}}})();return function(){var c=this,a;c.setOpt("imageScaleEnabled",!0);!t.ie&&c.options.imageScaleEnabled&&c.addListener("click",function(b,l){var d=c.selection.getRange().getClosedNode();
if(d&&"IMG"==d.tagName&&"false"!=c.body.contentEditable){if(!(-1!=d.className.indexOf("edui-faked-music")||d.getAttribute("anchorname")||g.hasClass(d,"loadingclass")||g.hasClass(d,"loaderrorclass"))){if(!a){a=new f;a.init(c);c.ui.getDom().appendChild(a.resizer);var h=function(b){a.hide();a.target&&c.selection.getRange().selectNode(a.target).select()},m=function(a){var b=a.target||a.srcElement;!b||void 0!==b.className&&-1!=b.className.indexOf("edui-editor-scale")||h(a)},k;c.addListener("afterscaleshow",
function(a){c.addListener("beforekeydown",h);c.addListener("beforemousedown",m);g.on(document,"keydown",h);g.on(document,"mousedown",m);c.selection.getNative().removeAllRanges()});c.addListener("afterscalehide",function(b){c.removeListener("beforekeydown",h);c.removeListener("beforemousedown",m);g.un(document,"keydown",h);g.un(document,"mousedown",m);b=a.target;b.parentNode&&c.selection.getRange().selectNode(b).select()});g.on(a.resizer,"mousedown",function(b){c.selection.getNative().removeAllRanges();
var d=b.target||b.srcElement;d&&-1==d.className.indexOf("edui-editor-scale-hand")&&(k=setTimeout(function(){a.hide();a.target&&c.selection.getRange().selectNode(d).select()},200))});g.on(a.resizer,"mouseup",function(a){(a=a.target||a.srcElement)&&-1==a.className.indexOf("edui-editor-scale-hand")&&clearTimeout(k)})}a.show(d)}}else a&&"none"!=a.resizer.style.display&&a.hide()});t.webkit&&c.addListener("click",function(a,f){"IMG"==f.target.tagName&&"false"!=c.body.contentEditable&&(new v.Range(c.document)).selectNode(f.target).select()})}}();
UE.plugin.register("autolink",function(){return t.ie?{}:{bindEvents:{reset:function(){},keydown:function(f,c){var e=c.keyCode||c.which;if(32==e||13==e){for(var e=this.selection.getNative(),a=e.getRangeAt(0).cloneRange(),b,l=a.startContainer;1==l.nodeType&&0<a.startOffset;){l=a.startContainer.childNodes[a.startOffset-1];if(!l)break;a.setStart(l,1==l.nodeType?l.childNodes.length:l.nodeValue.length);a.collapse(!0);l=a.startContainer}do{if(0==a.startOffset){for(l=a.startContainer.previousSibling;l&&1==
l.nodeType;)l=l.lastChild;if(!l||g.isFillChar(l))break;b=l.nodeValue.length}else l=a.startContainer,b=a.startOffset;a.setStart(l,b-1);b=a.toString().charCodeAt(0)}while(160!=b&&32!=b);if(a.toString().replace(new RegExp(g.fillChar,"g"),"").match(/(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i)){for(;a.toString().length&&!/^(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i.test(a.toString());)try{a.setStart(a.startContainer,a.startOffset+1)}catch(d){for(l=a.startContainer;!(next=l.nextSibling);){if(g.isBody(l))return;
l=l.parentNode}a.setStart(next,0)}if(!g.findParentByTagName(a.startContainer,"a",!0)){b=this.document.createElement("a");var l=this.document.createTextNode(" "),h;this.undoManger&&this.undoManger.save();b.appendChild(a.extractContents());b.href=b.innerHTML=b.innerHTML.replace(/<[^>]+>/g,"");h=b.getAttribute("href").replace(new RegExp(g.fillChar,"g"),"");h=/^(?:https?:\/\/)/ig.test(h)?h:"http://"+h;b.setAttribute("_src",u.html(h));b.href=u.html(h);a.insertNode(b);b.parentNode.insertBefore(l,b.nextSibling);
a.setStart(l,0);a.collapse(!0);e.removeAllRanges();e.addRange(a);this.undoManger&&this.undoManger.save()}}}}}}},function(){function f(c){if(3==c.nodeType)return null;if("A"==c.nodeName)return c;for(c=c.lastChild;c;){if("A"==c.nodeName)return c;if(3==c.nodeType){if(g.isWhitespace(c)){c=c.previousSibling;continue}return null}c=c.lastChild}}var c={37:1,38:1,39:1,40:1,13:1,32:1};t.ie&&this.addListener("keyup",function(e,a){var b=a.keyCode;if(c[b]){var l=this.selection.getRange(),d=l.startContainer;if(13==
b){for(;d&&!g.isBody(d)&&!g.isBlockElm(d);)d=d.parentNode;d&&!g.isBody(d)&&"P"==d.nodeName&&(l=d.previousSibling)&&1==l.nodeType&&(l=f(l))&&!l.getAttribute("_href")&&g.remove(l,!0)}else 32==b?3==d.nodeType&&/^\s$/.test(d.nodeValue)&&(d=d.previousSibling)&&"A"==d.nodeName&&!d.getAttribute("_href")&&g.remove(d,!0):(d=g.findParentByTagName(d,"a",!0))&&!d.getAttribute("_href")&&(b=l.createBookmark(),g.remove(d,!0),l.moveToBookmark(b).select(!0))}})});UE.plugins.autoheight=function(){function f(){var c=
this;clearTimeout(d);h||c.queryCommandState&&(!c.queryCommandState||1==c.queryCommandState("source"))||(d=setTimeout(function(){for(var d=c.body.lastChild;d&&1!=d.nodeType;)d=d.previousSibling;d&&1==d.nodeType&&(d.style.clear="both",l=Math.max(g.getXY(d).y+d.offsetHeight+25,Math.max(b.minFrameHeight,b.initialFrameHeight)),l!=a&&(l!==parseInt(c.iframe.parentNode.style.height)&&(c.iframe.parentNode.style.height=l+"px"),c.body.style.height=l+"px",a=l),g.removeStyle(d,"clear"))},50))}var c=this;c.autoHeightEnabled=
!1!==c.options.autoHeightEnabled;if(c.autoHeightEnabled){var e,a=0,b=c.options,l,d,h;c.addListener("fullscreenchanged",function(a,b){h=b});c.addListener("destroy",function(){c.removeListener("contentchange afterinserthtml keyup mouseup",f)});c.enableAutoHeight=function(){var a=this;if(a.autoHeightEnabled){var b=a.document;a.autoHeightEnabled=!0;e=b.body.style.overflowY;b.body.style.overflowY="hidden";a.addListener("contentchange afterinserthtml keyup mouseup",f);setTimeout(function(){f.call(a)},t.gecko?
100:0);a.fireEvent("autoheightchanged",a.autoHeightEnabled)}};c.disableAutoHeight=function(){c.body.style.overflowY=e||"";c.removeListener("contentchange",f);c.removeListener("keyup",f);c.removeListener("mouseup",f);c.autoHeightEnabled=!1;c.fireEvent("autoheightchanged",c.autoHeightEnabled)};c.on("setHeight",function(){c.disableAutoHeight()});c.addListener("ready",function(){c.enableAutoHeight();var a;g.on(t.ie?c.body:c.document,t.webkit?"dragover":"drop",function(){clearTimeout(a);a=setTimeout(function(){f.call(c)},
100)});var b;window.onscroll=function(){null===b?b=this.scrollY:0==this.scrollY&&0!=b&&(c.window.scrollTo(0,0),b=null)}})}};UE.plugins.autofloat=function(){function f(){var a=document.body.style;a.backgroundImage='url("about:blank")';a.backgroundAttachment="fixed"}function c(){v=!0;r.parentNode&&r.parentNode.removeChild(r);n.style.cssText=k}function e(){var b=C(a.container),d=a.options.toolbarTopOffset||0;if(0>b.top&&b.bottom-n.offsetHeight>d){var b=g.getXY(n),d=g.getComputedStyle(n,"position"),e=
g.getComputedStyle(n,"left");n.style.width=n.offsetWidth+"px";n.style.zIndex=1*a.options.zIndex+1;n.parentNode.insertBefore(r,n);h||m&&t.ie?("absolute"!=n.style.position&&(n.style.position="absolute"),n.style.top=(document.body.scrollTop||document.documentElement.scrollTop)-q+l+"px"):(t.ie7Compat&&v&&(v=!1,n.style.left=g.getXY(n).x-document.documentElement.getBoundingClientRect().left+2+"px"),"fixed"!=n.style.position&&(n.style.position="fixed",n.style.top=l+"px",("absolute"==d||"relative"==d)&&parseFloat(e)&&
(n.style.left=b.x+"px")))}else c()}var a=this,b=a.getLang();a.setOpt({topOffset:0});var l=a.options.topOffset;if(!1!==a.options.autoFloatEnabled){var d=UE.ui.uiUtils,h=t.ie&&6>=t.version,m=t.quirks,k,r=document.createElement("div"),n,q,C,v=!0,H=u.defer(function(){e()},t.ie?200:100,!0);a.addListener("destroy",function(){g.un(window,["scroll","resize"],e);a.removeListener("keydown",H)});a.addListener("ready",function(){var m;UE.ui?m=1:(alert(b.autofloatMsg),m=0);m&&a.ui&&(C=d.getClientRect,n=a.ui.getDom("toolbarbox"),
q=C(n).top,k=n.style.cssText,r.style.height=n.offsetHeight+"px",h&&f(),g.on(window,["scroll","resize"],e),a.addListener("keydown",H),a.addListener("beforefullscreenchange",function(a,b){b&&c()}),a.addListener("fullscreenchanged",function(a,b){b||e()}),a.addListener("sourcemodechanged",function(a,b){setTimeout(function(){e()},0)}),a.addListener("clearDoc",function(){setTimeout(function(){e()},0)}))})}};UE.plugins.video=function(){function f(a,b,c,d,f,m,g){var r;switch(g){case "image":r="<img "+(d?
'id="'+d+'"':"")+' width="'+b+'" height="'+c+'" _url="'+a+'" class="'+m.replace(/\bvideo-js\b/,"")+'" src="'+e.options.UEDITOR_HOME_URL+'themes/default/images/spacer.gif" style="background:url('+e.options.UEDITOR_HOME_URL+"themes/default/images/videologo.gif) no-repeat center center; border:1px solid gray;"+(f?"float:"+f+";":"")+'" />';break;case "embed":r='<embed type="application/x-shockwave-flash" class="'+m+'" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+u.html(a)+'" width="'+
b+'" height="'+c+'"'+(f?' style="float:'+f+'"':"")+' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >';break;case "video":g=a.substr(a.lastIndexOf(".")+1),"ogv"==g&&(g="ogg"),r="<video"+(d?' id="'+d+'"':"")+' class="'+m+' video-js" '+(f?' style="float:'+f+'"':"")+' controls preload="none" width="'+b+'" height="'+c+'" src="'+a+'" data-setup="{}"><source src="'+a+'" type="video/'+g+'" /></video>'}return r}function c(a,b){u.each(a.getNodesByTagName(b?
"img":"embed video"),function(a){var d=a.getAttr("class");if(d&&-1!=d.indexOf("edui-faked-video")){var c=f(b?a.getAttr("_url"):a.getAttr("src"),a.getAttr("width"),a.getAttr("height"),null,a.getStyle("float")||"",d,b?"embed":"image");a.parentNode.replaceChild(UE.uNode.createElement(c),a)}d&&-1!=d.indexOf("edui-upload-video")&&(c=f(b?a.getAttr("_url"):a.getAttr("src"),a.getAttr("width"),a.getAttr("height"),null,a.getStyle("float")||"",d,b?"video":"image"),a.parentNode.replaceChild(UE.uNode.createElement(c),
a))})}var e=this;e.addOutputRule(function(a){c(a,!0)});e.addInputRule(function(a){c(a)});e.commands.insertvideo={execCommand:function(a,b,c){b=u.isArray(b)?b:[b];var d=[],h;a=0;for(var m,k=b.length;a<k;a++)m=b[a],h="upload"==c?"edui-upload-video video-js vjs-default-skin":"edui-faked-video",d.push(f(m.url,m.width||420,m.height||280,"tmpVedio"+a,null,h,"image"));e.execCommand("inserthtml",d.join(""),!0);c=this.selection.getRange();a=0;for(k=b.length;a<k;a++)d=this.document.getElementById("tmpVedio"+
a),g.removeAttributes(d,"id"),c.selectNode(d).select(),e.execCommand("imagefloat",b[a].align)},queryCommandState:function(){var a=e.selection.getRange().getClosedNode();return!a||"edui-faked-video"!=a.className&&-1==a.className.indexOf("edui-upload-video")?0:1}}};(function(){var f=UE.UETable=function(c){this.table=c;this.indexTable=[];this.selectedTds=[];this.cellsRange={};this.update(c)};f.removeSelectedClass=function(c){u.each(c,function(c){g.removeClasses(c,"selectTdClass")})};f.addSelectedClass=
function(c){u.each(c,function(c){g.addClass(c,"selectTdClass")})};f.isEmptyBlock=function(c){var e=new RegExp(g.fillChar,"g");if(0<c[t.ie?"innerText":"textContent"].replace(/^\s*$/,"").replace(e,"").length)return 0;for(var a in A.$isNotEmpty)if(A.$isNotEmpty.hasOwnProperty(a)&&c.getElementsByTagName(a).length)return 0;return 1};f.getWidth=function(c){return c?parseInt(g.getComputedStyle(c,"width"),10):0};f.getTableCellAlignState=function(c){!u.isArray(c)&&(c=[c]);var e={},a=["align","valign"],b=null,
f=!0;u.each(c,function(d){u.each(a,function(a){b=d.getAttribute(a);if(!e[a]&&b)e[a]=b;else if(!e[a]||b!==e[a])return f=!1});return f});return f?e:null};f.getTableItemsByRange=function(c){var e=c.selection.getStart();e&&e.id&&0===e.id.indexOf("_baidu_bookmark_start_")&&e.nextSibling&&(e=e.nextSibling);var a=(c=e&&g.findParentByTagName(e,["td","th"],!0))&&c.parentNode,e=e&&g.findParentByTagName(e,"caption",!0);return{cell:c,tr:a,table:e?e.parentNode:a&&a.parentNode.parentNode,caption:e}};f.getUETableBySelected=
function(c){return(c=f.getTableItemsByRange(c).table)&&c.ueTable&&c.ueTable.selectedTds.length?c.ueTable:null};f.getDefaultValue=function(c,e){var a={thin:"0px",medium:"1px",thick:"2px"},b,f,d;if(e)h=e.getElementsByTagName("td")[0],d=g.getComputedStyle(e,"border-left-width"),b=parseInt(a[d]||d,10),d=g.getComputedStyle(h,"padding-left"),f=parseInt(a[d]||d,10),d=g.getComputedStyle(h,"border-left-width"),a=parseInt(a[d]||d,10);else{e=c.document.createElement("table");e.insertRow(0).insertCell(0).innerHTML=
"xxx";c.body.appendChild(e);var h=e.getElementsByTagName("td")[0];d=g.getComputedStyle(e,"border-left-width");b=parseInt(a[d]||d,10);d=g.getComputedStyle(h,"padding-left");f=parseInt(a[d]||d,10);d=g.getComputedStyle(h,"border-left-width");a=parseInt(a[d]||d,10);g.remove(e)}return{tableBorder:b,tdPadding:f,tdBorder:a}};f.getUETable=function(c){var e=c.tagName.toLowerCase();c="td"==e||"th"==e||"caption"==e?g.findParentByTagName(c,"table",!0):c;c.ueTable||(c.ueTable=new f(c));return c.ueTable};f.cloneCell=
function(c,e,a){if(!c||u.isString(c))return this.table.ownerDocument.createElement(c||"td");var b=g.hasClass(c,"selectTdClass");b&&g.removeClasses(c,"selectTdClass");var f=c.cloneNode(!0);e&&(f.rowSpan=f.colSpan=1);!a&&g.removeAttributes(f,"width height");!a&&g.removeAttributes(f,"style");f.style.borderLeftStyle="";f.style.borderTopStyle="";f.style.borderLeftColor=c.style.borderRightColor;f.style.borderLeftWidth=c.style.borderRightWidth;f.style.borderTopColor=c.style.borderBottomColor;f.style.borderTopWidth=
c.style.borderBottomWidth;b&&g.addClass(c,"selectTdClass");return f};f.prototype={getMaxRows:function(){for(var c=this.table.rows,e=1,a=0,b;b=c[a];a++){for(var f=1,d=0,h;h=b.cells[d++];)f=Math.max(h.rowSpan||1,f);e=Math.max(f+a,e)}return e},getMaxCols:function(){for(var c=this.table.rows,e=0,a={},b=0,f;f=c[b];b++){for(var d=0,h=0,m;m=f.cells[h++];)if(d+=m.colSpan||1,m.rowSpan&&1<m.rowSpan)for(var g=1;g<m.rowSpan;g++)a["row_"+(b+g)]?a["row_"+(b+g)]++:a["row_"+(b+g)]=m.colSpan||1;d+=a["row_"+b]||0;
e=Math.max(d,e)}return e},getCellColIndex:function(c){},getHSideCell:function(c,e){try{var a=this.getCellInfo(c),b,f,d=this.selectedTds.length,h=this.cellsRange;if(!e&&(d?!h.beginColIndex:!a.colIndex)||e&&(d?h.endColIndex==this.colsNum-1:a.colIndex==this.colsNum-1))return null;b=d?h.beginRowIndex:a.rowIndex;f=e?d?h.endColIndex+1:a.colIndex+1:d?h.beginColIndex-1:1>a.colIndex?0:a.colIndex-1;return this.getCell(this.indexTable[b][f].rowIndex,this.indexTable[b][f].cellIndex)}catch(m){}},getTabNextCell:function(c,
e){var a=this.getCellInfo(c),b=e||a.rowIndex,a=a.colIndex+1+(a.colSpan-1),f;try{f=this.getCell(this.indexTable[b][a].rowIndex,this.indexTable[b][a].cellIndex)}catch(d){try{b=1*b+1,a=0,f=this.getCell(this.indexTable[b][a].rowIndex,this.indexTable[b][a].cellIndex)}catch(h){}}return f},getVSideCell:function(c,e,a){try{var b=this.getCellInfo(c),f,d,h=this.selectedTds.length&&!a,m=this.cellsRange;if(!e&&0==b.rowIndex||e&&(h?m.endRowIndex==this.rowsNum-1:b.rowIndex+b.rowSpan>this.rowsNum-1))return null;
f=e?h?m.endRowIndex+1:b.rowIndex+b.rowSpan:h?m.beginRowIndex-1:b.rowIndex-1;d=h?m.beginColIndex:b.colIndex;return this.getCell(this.indexTable[f][d].rowIndex,this.indexTable[f][d].cellIndex)}catch(g){}},getSameEndPosCells:function(c,e){try{for(var a="x"===e.toLowerCase(),b=g.getXY(c)[a?"x":"y"]+c["offset"+(a?"Width":"Height")],f=this.table.rows,d=null,h=[],m=0;m<this.rowsNum;m++)for(var d=f[m].cells,k=0,r;r=d[k++];){var n=g.getXY(r)[a?"x":"y"]+r["offset"+(a?"Width":"Height")];if(n>b&&a)break;if(c==
r||b==n)if(1==r[a?"colSpan":"rowSpan"]&&h.push(r),a)break}return h}catch(q){}},setCellContent:function(c,e){c.innerHTML=e||(t.ie?g.fillChar:"<br />")},cloneCell:f.cloneCell,getSameStartPosXCells:function(c){try{var e=g.getXY(c).x+c.offsetWidth,a=this.table.rows,b;c=[];for(var f=0;f<this.rowsNum;f++){b=a[f].cells;for(var d=0,h;h=b[d++];){var m=g.getXY(h).x;if(m>e)break;if(m==e&&1==h.colSpan){c.push(h);break}}}return c}catch(k){}},update:function(c){this.table=c||this.table;this.selectedTds=[];this.cellsRange=
{};this.indexTable=[];c=this.table.rows;for(var e=this.getMaxRows(),a=e-c.length,b=this.getMaxCols();a--;)this.table.insertRow(c.length);this.rowsNum=e;this.colsNum=b;for(var a=0,f=c.length;a<f;a++)this.indexTable[a]=Array(b);for(var a=0,d;d=c[a];a++){var f=0,h;for(d=d.cells;h=d[f];f++){h.rowSpan>e&&(h.rowSpan=e);var m=f,k=h.rowSpan||1;for(h=h.colSpan||1;this.indexTable[a][m];)m++;for(var r=0;r<k;r++)for(var n=0;n<h;n++)this.indexTable[a+r][m+n]={rowIndex:a,cellIndex:f,colIndex:m,rowSpan:k,colSpan:h}}}for(r=
0;r<e;r++)for(n=0;n<b;n++)void 0===this.indexTable[r][n]&&(d=c[r],h=(h=d.cells[d.cells.length-1])?h.cloneNode(!0):this.table.ownerDocument.createElement("td"),this.setCellContent(h),1!==h.colSpan&&(h.colSpan=1),1!==h.rowSpan&&(h.rowSpan=1),d.appendChild(h),this.indexTable[r][n]={rowIndex:r,cellIndex:h.cellIndex,colIndex:n,rowSpan:1,colSpan:1});c=g.getElementsByTagName(this.table,"td");var q=[];u.each(c,function(a){g.hasClass(a,"selectTdClass")&&q.push(a)});q.length&&(e=q[q.length-1],c=this.getCellInfo(q[0]),
e=this.getCellInfo(e),this.selectedTds=q,this.cellsRange={beginRowIndex:c.rowIndex,beginColIndex:c.colIndex,endRowIndex:e.rowIndex+e.rowSpan-1,endColIndex:e.colIndex+e.colSpan-1});if(!g.hasClass(this.table.rows[0],"firstRow"))for(g.addClass(this.table.rows[0],"firstRow"),a=1;a<this.table.rows.length;a++)g.removeClasses(this.table.rows[a],"firstRow")},getCellInfo:function(c){if(c){var e=c.cellIndex;c=c.parentNode.rowIndex;for(var a=this.indexTable[c],b=this.colsNum,f=e;f<b;f++){var d=a[f];if(d.rowIndex===
c&&d.cellIndex===e)return d}}},getCell:function(c,e){return c<this.rowsNum&&this.table.rows[c].cells[e]||null},deleteCell:function(c,e){e="number"==typeof e?e:c.parentNode.rowIndex;this.table.rows[e].deleteCell(c.cellIndex)},getCellsRange:function(c,e){function a(d,c,e,f){var m=d,h=c,l=e,g=f,r,k,n;if(0<d)for(k=c;k<f;k++)r=b.indexTable[d][k],n=r.rowIndex,n<d&&(m=Math.min(n,m));if(f<b.colsNum)for(n=d;n<e;n++)r=b.indexTable[n][f],k=r.colIndex+r.colSpan-1,k>f&&(g=Math.max(k,g));if(e<b.rowsNum)for(k=c;k<
f;k++)r=b.indexTable[e][k],n=r.rowIndex+r.rowSpan-1,n>e&&(l=Math.max(n,l));if(0<c)for(n=d;n<e;n++)r=b.indexTable[n][c],k=r.colIndex,k<c&&(h=Math.min(r.colIndex,h));return m!=d||h!=c||l!=e||g!=f?a(m,h,l,g):{beginRowIndex:d,beginColIndex:c,endRowIndex:e,endColIndex:f}}try{var b=this,f=b.getCellInfo(c);if(c===e)return{beginRowIndex:f.rowIndex,beginColIndex:f.colIndex,endRowIndex:f.rowIndex+f.rowSpan-1,endColIndex:f.colIndex+f.colSpan-1};var d=b.getCellInfo(e),h=Math.min(f.rowIndex,d.rowIndex),m=Math.min(f.colIndex,
d.colIndex),g=Math.max(f.rowIndex+f.rowSpan-1,d.rowIndex+d.rowSpan-1),r=Math.max(f.colIndex+f.colSpan-1,d.colIndex+d.colSpan-1);return a(h,m,g,r)}catch(k){}},getCells:function(c){this.clearSelected();for(var e=c.beginColIndex,a=c.endRowIndex,b=c.endColIndex,f,d,h={},m=[],g=c.beginRowIndex;g<=a;g++)for(var r=e;r<=b;r++){c=this.indexTable[g][r];f=c.rowIndex;d=c.colIndex;var k=f+"|"+d;if(!h[k]){h[k]=1;if(f<g||d<r||f+c.rowSpan-1>a||d+c.colSpan-1>b)return null;m.push(this.getCell(f,c.cellIndex))}}return m},
clearSelected:function(){f.removeSelectedClass(this.selectedTds);this.selectedTds=[];this.cellsRange={}},setSelected:function(c){var e=this.getCells(c);f.addSelectedClass(e);this.selectedTds=e;this.cellsRange=c},isFullRow:function(){var c=this.cellsRange;return c.endColIndex-c.beginColIndex+1==this.colsNum},isFullCol:function(){var c=this.cellsRange,e=this.table.getElementsByTagName("th"),c=c.endRowIndex-c.beginRowIndex+1;return e.length?c==this.rowsNum||c==this.rowsNum-1:c==this.rowsNum},getNextCell:function(c,
e,a){try{var b=this.getCellInfo(c),f,d,h=this.selectedTds.length&&!a,m=this.cellsRange;if(!e&&0==b.rowIndex||e&&(h?m.endRowIndex==this.rowsNum-1:b.rowIndex+b.rowSpan>this.rowsNum-1))return null;f=e?h?m.endRowIndex+1:b.rowIndex+b.rowSpan:h?m.beginRowIndex-1:b.rowIndex-1;d=h?m.beginColIndex:b.colIndex;return this.getCell(this.indexTable[f][d].rowIndex,this.indexTable[f][d].cellIndex)}catch(g){}},getPreviewCell:function(c,e){try{var a=this.getCellInfo(c),b,f,d=this.selectedTds.length,h=this.cellsRange;
if(!e&&(d?!h.beginColIndex:!a.colIndex)||e&&(d?h.endColIndex==this.colsNum-1:a.rowIndex>this.colsNum-1))return null;b=e?d?h.beginRowIndex:1>a.rowIndex?0:a.rowIndex-1:d?h.beginRowIndex:a.rowIndex;f=e?d?h.endColIndex+1:a.colIndex:d?h.beginColIndex-1:1>a.colIndex?0:a.colIndex-1;return this.getCell(this.indexTable[b][f].rowIndex,this.indexTable[b][f].cellIndex)}catch(m){}},moveContent:function(c,e){if(!f.isEmptyBlock(e))if(f.isEmptyBlock(c))c.innerHTML=e.innerHTML;else{var a=c.lastChild;for(3!=a.nodeType&&
A.$block[a.tagName]||c.appendChild(c.ownerDocument.createElement("br"));a=e.firstChild;)c.appendChild(a)}},mergeRight:function(c){var e=this.getCellInfo(c),a=this.indexTable[e.rowIndex][e.colIndex+e.colSpan],b=this.getCell(a.rowIndex,a.cellIndex);c.colSpan=e.colSpan+a.colSpan;c.removeAttribute("width");this.moveContent(c,b);this.deleteCell(b,a.rowIndex);this.update()},mergeDown:function(c){var e=this.getCellInfo(c),a=this.indexTable[e.rowIndex+e.rowSpan][e.colIndex],b=this.getCell(a.rowIndex,a.cellIndex);
c.rowSpan=e.rowSpan+a.rowSpan;c.removeAttribute("height");this.moveContent(c,b);this.deleteCell(b,a.rowIndex);this.update()},mergeRange:function(){var c=this.cellsRange,e=this.getCell(c.beginRowIndex,this.indexTable[c.beginRowIndex][c.beginColIndex].cellIndex);if("TH"==e.tagName&&c.endRowIndex!==c.beginRowIndex)var a=this.indexTable,c=this.getCellInfo(e),e=this.getCell(1,a[1][c.colIndex].cellIndex),c=this.getCellsRange(e,this.getCell(a[this.rowsNum-1][c.colIndex].rowIndex,a[this.rowsNum-1][c.colIndex].cellIndex));
for(var b=this.getCells(c),a=0,f;f=b[a++];)f!==e&&(this.moveContent(e,f),this.deleteCell(f));e.rowSpan=c.endRowIndex-c.beginRowIndex+1;1<e.rowSpan&&e.removeAttribute("height");e.colSpan=c.endColIndex-c.beginColIndex+1;1<e.colSpan&&e.removeAttribute("width");e.rowSpan==this.rowsNum&&1!=e.colSpan&&(e.colSpan=1);if(e.colSpan==this.colsNum&&1!=e.rowSpan){b=e.parentNode.rowIndex;if(this.table.deleteRow)for(a=b+1,b+=1,c=e.rowSpan;a<c;a++)this.table.deleteRow(b);else for(a=0,c=e.rowSpan-1;a<c;a++)f=this.table.rows[b+
1],f.parentNode.removeChild(f);e.rowSpan=1}this.update()},insertRow:function(c,e){function a(a,b,d){0==a?(a=(d.nextSibling||d.previousSibling).cells[a],"TH"==a.tagName&&(a=b.ownerDocument.createElement("th"),a.appendChild(b.firstChild),d.insertBefore(a,b),g.remove(b))):"TH"==b.tagName&&(a=b.ownerDocument.createElement("td"),a.appendChild(b.firstChild),d.insertBefore(a,b),g.remove(b))}var b=this.colsNum,f=this.table.insertRow(c),d,h="string"==typeof e&&"TH"==e.toUpperCase();if(0==c||c==this.rowsNum)for(var m=
0;m<b;m++)d=this.cloneCell(e,!0),this.setCellContent(d),d.getAttribute("vAlign")&&d.setAttribute("vAlign",d.getAttribute("vAlign")),f.appendChild(d),h||a(m,d,f);else for(var k=this.indexTable[c],m=0;m<b;m++){var r=k[m];r.rowIndex<c?(d=this.getCell(r.rowIndex,r.cellIndex),d.rowSpan=r.rowSpan+1):(d=this.cloneCell(e,!0),this.setCellContent(d),f.appendChild(d));h||a(m,d,f)}this.update();return f},deleteRow:function(c){for(var e=this.table.rows[c],a=this.indexTable[c],b=this.colsNum,f=0,d=0;d<b;){var h=
a[d],m=this.getCell(h.rowIndex,h.cellIndex);if(1<m.rowSpan&&h.rowIndex==c){h=m.cloneNode(!0);h.rowSpan=m.rowSpan-1;h.innerHTML="";m.rowSpan=1;var k=c+1,r=this.table.rows[k],k=this.getPreviewMergedCellsNum(k,d)-f;k<d?(k=d-k-1,g.insertAfter(r.cells[k],h)):r.cells.length&&r.insertBefore(h,r.cells[0]);f+=1}d+=m.colSpan||1}c=[];f={};for(d=0;d<b;d++)m=a[d].rowIndex,h=a[d].cellIndex,r=m+"_"+h,f[r]||(f[r]=1,m=this.getCell(m,h),c.push(m));var n=[];u.each(c,function(a){1==a.rowSpan?a.parentNode.removeChild(a):
n.push(a)});u.each(n,function(a){a.rowSpan--});e.parentNode.removeChild(e);this.update()},insertCol:function(c,e,a){function b(a,b,d){0==a?(a=b.nextSibling||b.previousSibling,"TH"==a.tagName&&(a=b.ownerDocument.createElement("th"),a.appendChild(b.firstChild),d.insertBefore(a,b),g.remove(b))):"TH"==b.tagName&&(a=b.ownerDocument.createElement("td"),a.appendChild(b.firstChild),d.insertBefore(a,b),g.remove(b))}var f=this.rowsNum,d=0,h,m,k=parseInt((this.table.offsetWidth-20*(this.colsNum+1)-(this.colsNum+
1))/(this.colsNum+1),10),r="string"==typeof e&&"TH"==e.toUpperCase(),n;if(0==c||c==this.colsNum)for(;d<f;d++)h=this.table.rows[d],n=h.cells[0==c?c:h.cells.length],m=this.cloneCell(e,!0),this.setCellContent(m),m.setAttribute("vAlign",m.getAttribute("vAlign")),n&&m.setAttribute("width",n.getAttribute("width")),c?g.insertAfter(h.cells[h.cells.length-1],m):h.insertBefore(m,h.cells[0]),r||b(d,m,h);else for(;d<f;d++)n=this.indexTable[d][c],n.colIndex<c?(m=this.getCell(n.rowIndex,n.cellIndex),m.colSpan=
n.colSpan+1):(h=this.table.rows[d],n=h.cells[n.cellIndex],m=this.cloneCell(e,!0),this.setCellContent(m),m.setAttribute("vAlign",m.getAttribute("vAlign")),n&&m.setAttribute("width",n.getAttribute("width")),n?h.insertBefore(m,n):h.appendChild(m)),r||b(d,m,h);this.update();this.updateWidth(k,a||{tdPadding:10,tdBorder:1})},updateWidth:function(c,e){var a=this.table,b=f.getWidth(a)-2*e.tdPadding-e.tdBorder+c;b<a.ownerDocument.body.offsetWidth?a.setAttribute("width",b):(a=g.getElementsByTagName(this.table,
"td th"),u.each(a,function(a){a.setAttribute("width",c)}))},deleteCol:function(c){for(var e=this.indexTable,a=this.table.rows,b=this.table.getAttribute("width"),f=0,d=this.rowsNum,h={},m=0;m<d;){var g=e[m][c],r=g.rowIndex+"_"+g.colIndex;h[r]||(h[r]=1,r=this.getCell(g.rowIndex,g.cellIndex),f||(f=r&&parseInt(r.offsetWidth/r.colSpan,10).toFixed(0)),1<r.colSpan?r.colSpan--:a[m].deleteCell(g.cellIndex),m+=g.rowSpan||1)}this.table.setAttribute("width",b-f);this.update()},splitToCells:function(c){var e=
this;c=this.splitToRows(c);u.each(c,function(a){e.splitToCols(a)})},splitToRows:function(c){var e=this.getCellInfo(c),a=e.rowIndex,b=e.colIndex,f=[];c.rowSpan=1;f.push(c);for(var d=a,h=a+e.rowSpan;d<h;d++)if(d!=a){var m=this.table.rows[d].insertCell(b-this.getPreviewMergedCellsNum(d,b));m.colSpan=e.colSpan;this.setCellContent(m);m.setAttribute("vAlign",c.getAttribute("vAlign"));m.setAttribute("align",c.getAttribute("align"));c.style.cssText&&(m.style.cssText=c.style.cssText);f.push(m)}this.update();
return f},getPreviewMergedCellsNum:function(c,e){for(var a=this.indexTable[c],b=0,f=0;f<e;)var d=a[f].colSpan,b=b+(d-(a[f].rowIndex==c?1:0)),f=f+d;return b},splitToCols:function(c){var e=(c.offsetWidth/c.colSpan-22).toFixed(0),a=this.getCellInfo(c),b=a.rowIndex,f=a.colIndex,d=[];c.colSpan=1;c.setAttribute("width",e);d.push(c);for(var h=f,m=f+a.colSpan;h<m;h++)if(h!=f){var k=this.table.rows[b],r=k.insertCell(this.indexTable[b][h].cellIndex+1);r.rowSpan=a.rowSpan;this.setCellContent(r);r.setAttribute("vAlign",
c.getAttribute("vAlign"));r.setAttribute("align",c.getAttribute("align"));r.setAttribute("width",e);c.style.cssText&&(r.style.cssText=c.style.cssText);if("TH"==c.tagName){var n=c.ownerDocument.createElement("th");n.appendChild(r.firstChild);n.setAttribute("vAlign",c.getAttribute("vAlign"));n.rowSpan=r.rowSpan;k.insertBefore(n,r);g.remove(r)}d.push(r)}this.update();return d},isLastCell:function(c,e,a){e=e||this.rowsNum;a=a||this.colsNum;c=this.getCellInfo(c);return c.rowIndex+c.rowSpan==e&&c.colIndex+
c.colSpan==a},getLastCell:function(c){c=c||this.table.getElementsByTagName("td");this.getCellInfo(c[0]);var e=this,a=c[0],b=a.parentNode,f=0,d=0,h;u.each(c,function(a){a.parentNode==b&&(d+=a.colSpan||1);f+=a.rowSpan*a.colSpan||1});h=f/d;u.each(c,function(b){if(e.isLastCell(b,h,d))return a=b,!1});return a},selectRow:function(c){var e=this.indexTable[c];c=this.getCell(e[0].rowIndex,e[0].cellIndex);e=this.getCell(e[this.colsNum-1].rowIndex,e[this.colsNum-1].cellIndex);c=this.getCellsRange(c,e);this.setSelected(c)},
selectTable:function(){var c=this.table.getElementsByTagName("td"),c=this.getCellsRange(c[0],c[c.length-1]);this.setSelected(c)},setBackground:function(c,e){if("string"===typeof e)u.each(c,function(a){a.style.backgroundColor=e});else if("object"===typeof e){e=u.extend({repeat:!0,colorList:["#ddd","#fff"]},e);for(var a=this.getCellInfo(c[0]).rowIndex,b=0,f=e.colorList,d=function(a,b,d){return a[b]?a[b]:d?a[b%a.length]:""},h=0,m;m=c[h++];){var g=this.getCellInfo(m);m.style.backgroundColor=d(f,a+b==
g.rowIndex?b:++b,e.repeat)}}},removeBackground:function(c){u.each(c,function(c){c.style.backgroundColor=""})}}})();(function(){function f(b,e){var f=g.getElementsByTagName(b,"td th");u.each(f,function(a){a.removeAttribute("width")});b.setAttribute("width",c(e,!0,a.getDefaultValue(e,b)));var l=[];setTimeout(function(){u.each(f,function(a){1==a.colSpan&&l.push(a.offsetWidth)});u.each(f,function(a,b){1==a.colSpan&&a.setAttribute("width",l[b]+"")})},0)}function c(a,b,c){var e=a.body;return e.offsetWidth-
(b?2*parseInt(g.getComputedStyle(e,"margin-left"),10):0)-2*c.tableBorder-(a.options.offsetWidth||0)}function e(a){if(a=b(a).cell){var c=l(a);return c.selectedTds.length?c.selectedTds:[a]}return[]}var a=UE.UETable,b=function(b){return a.getTableItemsByRange(b)},l=function(b){return a.getUETable(b)};UE.commands.inserttable={queryCommandState:function(){return b(this).table?-1:0},execCommand:function(b,c){c||(c=u.extend({},{numCols:this.options.defaultCols,numRows:this.options.defaultRows,tdvalign:this.options.tdvalign}));
var e=this.selection.getRange().startContainer,e=g.findParent(e,function(a){return g.isBlockElm(a)},!0)||this.body,f=a.getDefaultValue(this,void 0),e=Math.floor(e.offsetWidth/c.numCols-2*f.tdPadding-f.tdBorder);!c.tdvalign&&(c.tdvalign=this.options.tdvalign);this.execCommand("inserthtml",function(a,b){for(var d=[],c=a.numRows,e=a.numCols,f=0;f<c;f++){d.push("<tr"+(0==f?' class="firstRow"':"")+">");for(var m=0;m<e;m++)d.push('<td width="'+b+'"  vAlign="'+a.tdvalign+'" >'+(t.ie&&11>t.version?g.fillChar:
"<br/>")+"</td>");d.push("</tr>")}return"<table><tbody>"+d.join("")+"</tbody></table>"}(c,e))}};UE.commands.insertparagraphbeforetable={queryCommandState:function(){return b(this).cell?0:-1},execCommand:function(){var a=b(this).table;if(a){var c=this.document.createElement("p");c.innerHTML=t.ie?"&nbsp;":"<br />";a.parentNode.insertBefore(c,a);this.selection.getRange().setStart(c,0).setCursor()}}};UE.commands.deletetable={queryCommandState:function(){var a=this.selection.getRange();return g.findParentByTagName(a.startContainer,
"table",!0)?0:-1},execCommand:function(a,b){var c=this.selection.getRange();if(b=b||g.findParentByTagName(c.startContainer,"table",!0)){var e=b.nextSibling;e||(e=g.createElement(this.document,"p",{innerHTML:t.ie?g.fillChar:"<br/>"}),b.parentNode.insertBefore(e,b));g.remove(b);c=this.selection.getRange();3==e.nodeType?c.setStartBefore(e):c.setStart(e,0);c.setCursor(!1,!0);this.fireEvent("tablehasdeleted")}}};UE.commands.cellalign={queryCommandState:function(){return e(this).length?0:-1},execCommand:function(a,
b){var c=e(this);if(c.length)for(var f=0,l;l=c[f++];)l.setAttribute("align",b)}};UE.commands.cellvalign={queryCommandState:function(){return e(this).length?0:-1},execCommand:function(a,b){var c=e(this);if(c.length)for(var f=0,l;l=c[f++];)l.setAttribute("vAlign",b)}};UE.commands.insertcaption={queryCommandState:function(){var a=b(this).table;return a?0==a.getElementsByTagName("caption").length?1:-1:-1},execCommand:function(){var a=b(this).table;if(a){var c=this.document.createElement("caption");c.innerHTML=
t.ie?g.fillChar:"<br/>";a.insertBefore(c,a.firstChild);this.selection.getRange().setStart(c,0).setCursor()}}};UE.commands.deletecaption={queryCommandState:function(){var a=this.selection.getRange();return(a=g.findParentByTagName(a.startContainer,"table"))?0==a.getElementsByTagName("caption").length?-1:1:-1},execCommand:function(){var a=this.selection.getRange();if(a=g.findParentByTagName(a.startContainer,"table"))g.remove(a.getElementsByTagName("caption")[0]),this.selection.getRange().setStart(a.rows[0].cells[0],
0).setCursor()}};UE.commands.inserttitle={queryCommandState:function(){var a=b(this).table;return a?(a=a.rows[0],"th"!=a.cells[a.cells.length-1].tagName.toLowerCase()?0:-1):-1},execCommand:function(){var a=b(this).table;a&&l(a).insertRow(0,"th");a=a.getElementsByTagName("th")[0];this.selection.getRange().setStart(a,0).setCursor(!1,!0)}};UE.commands.deletetitle={queryCommandState:function(){var a=b(this).table;return a?(a=a.rows[0],"th"==a.cells[a.cells.length-1].tagName.toLowerCase()?0:-1):-1},execCommand:function(){var a=
b(this).table;a&&g.remove(a.rows[0]);a=a.getElementsByTagName("td")[0];this.selection.getRange().setStart(a,0).setCursor(!1,!0)}};UE.commands.inserttitlecol={queryCommandState:function(){var a=b(this).table;return a?a.rows[a.rows.length-1].getElementsByTagName("th").length?-1:0:-1},execCommand:function(a){(a=b(this).table)&&l(a).insertCol(0,"th");f(a,this);a=a.getElementsByTagName("th")[0];this.selection.getRange().setStart(a,0).setCursor(!1,!0)}};UE.commands.deletetitlecol={queryCommandState:function(){var a=
b(this).table;return a?a.rows[a.rows.length-1].getElementsByTagName("th").length?0:-1:-1},execCommand:function(){var a=b(this).table;if(a)for(var c=0;c<a.rows.length;c++)g.remove(a.rows[c].children[0]);f(a,this);a=a.getElementsByTagName("td")[0];this.selection.getRange().setStart(a,0).setCursor(!1,!0)}};UE.commands.mergeright={queryCommandState:function(a){var c=b(this);a=c.table;c=c.cell;if(!a||!c)return-1;var e=l(a);if(e.selectedTds.length)return-1;var f=e.getCellInfo(c),g=f.colIndex+f.colSpan;
if(g>=e.colsNum)return-1;e=e.indexTable[f.rowIndex][g];return(a=a.rows[e.rowIndex].cells[e.cellIndex])&&c.tagName==a.tagName?e.rowIndex==f.rowIndex&&e.rowSpan==f.rowSpan?0:-1:-1},execCommand:function(a){a=this.selection.getRange();var c=a.createBookmark(!0),e=b(this).cell;l(e).mergeRight(e);a.moveToBookmark(c).select()}};UE.commands.mergedown={queryCommandState:function(a){var c=b(this);a=c.table;c=c.cell;if(!a||!c)return-1;var e=l(a);if(e.selectedTds.length)return-1;var f=e.getCellInfo(c),g=f.rowIndex+
f.rowSpan;if(g>=e.rowsNum)return-1;e=e.indexTable[g][f.colIndex];return(a=a.rows[e.rowIndex].cells[e.cellIndex])&&c.tagName==a.tagName?e.colIndex==f.colIndex&&e.colSpan==f.colSpan?0:-1:-1},execCommand:function(){var a=this.selection.getRange(),c=a.createBookmark(!0),e=b(this).cell;l(e).mergeDown(e);a.moveToBookmark(c).select()}};UE.commands.mergecells={queryCommandState:function(){return a.getUETableBySelected(this)?0:-1},execCommand:function(){var b=a.getUETableBySelected(this);if(b&&b.selectedTds.length){var c=
b.selectedTds[0];b.mergeRange();b=this.selection.getRange();g.isEmptyBlock(c)?b.setStart(c,0).collapse(!0):b.selectNodeContents(c);b.select()}}};UE.commands.insertrow={queryCommandState:function(){var a=b(this),c=a.cell;return c&&("TD"==c.tagName||"TH"==c.tagName&&a.tr!==a.table.rows[0])&&l(a.table).rowsNum<this.options.maxRowNum?0:-1},execCommand:function(){var a=this.selection.getRange(),c=a.createBookmark(!0),e=b(this),f=e.cell,e=e.table,g=l(e),k=g.getCellInfo(f);if(g.selectedTds.length)for(var k=
g.cellsRange,n=0,q=k.endRowIndex-k.beginRowIndex+1;n<q;n++)g.insertRow(k.beginRowIndex,f);else g.insertRow(k.rowIndex,f);a.moveToBookmark(c).select();"enabled"===e.getAttribute("interlaced")&&this.fireEvent("interlacetable",e)}};UE.commands.insertrownext={queryCommandState:function(){var a=b(this),c=a.cell;return c&&"TD"==c.tagName&&l(a.table).rowsNum<this.options.maxRowNum?0:-1},execCommand:function(){var a=this.selection.getRange(),c=a.createBookmark(!0),e=b(this),f=e.cell,e=e.table,g=l(e),k=g.getCellInfo(f);
if(g.selectedTds.length)for(var k=g.cellsRange,n=0,q=k.endRowIndex-k.beginRowIndex+1;n<q;n++)g.insertRow(k.endRowIndex+1,f);else g.insertRow(k.rowIndex+k.rowSpan,f);a.moveToBookmark(c).select();"enabled"===e.getAttribute("interlaced")&&this.fireEvent("interlacetable",e)}};UE.commands.deleterow={queryCommandState:function(){return b(this).cell?0:-1},execCommand:function(){var a=b(this).cell,c=l(a),e=c.cellsRange,f=c.getCellInfo(a),r=c.getVSideCell(a),k=c.getVSideCell(a,!0),a=this.selection.getRange();
if(u.isEmptyObject(e))c.deleteRow(f.rowIndex);else for(var n=e.beginRowIndex;n<e.endRowIndex+1;n++)c.deleteRow(e.beginRowIndex);n=c.table;n.getElementsByTagName("td").length?1==f.rowSpan||f.rowSpan==e.endRowIndex-e.beginRowIndex+1?(k||r)&&a.selectNodeContents(k||r).setCursor(!1,!0):(c=c.getCell(f.rowIndex,c.indexTable[f.rowIndex][f.colIndex].cellIndex))&&a.selectNodeContents(c).setCursor(!1,!0):(c=n.nextSibling,g.remove(n),c&&a.setStart(c,0).setCursor(!1,!0));"enabled"===n.getAttribute("interlaced")&&
this.fireEvent("interlacetable",n)}};UE.commands.insertcol={queryCommandState:function(a){a=b(this);var c=a.cell;return c&&("TD"==c.tagName||"TH"==c.tagName&&c!==a.tr.cells[0])&&l(a.table).colsNum<this.options.maxColNum?0:-1},execCommand:function(a){var c=this.selection.getRange(),e=c.createBookmark(!0);if(-1!=this.queryCommandState(a)){a=b(this).cell;var f=l(a),g=f.getCellInfo(a);if(f.selectedTds.length)for(var g=f.cellsRange,k=0,n=g.endColIndex-g.beginColIndex+1;k<n;k++)f.insertCol(g.beginColIndex,
a);else f.insertCol(g.colIndex,a);c.moveToBookmark(e).select(!0)}}};UE.commands.insertcolnext={queryCommandState:function(){var a=b(this);return a.cell&&l(a.table).colsNum<this.options.maxColNum?0:-1},execCommand:function(){var a=this.selection.getRange(),c=a.createBookmark(!0),e=b(this).cell,f=l(e),g=f.getCellInfo(e);if(f.selectedTds.length)for(var g=f.cellsRange,k=0,n=g.endColIndex-g.beginColIndex+1;k<n;k++)f.insertCol(g.endColIndex+1,e);else f.insertCol(g.colIndex+g.colSpan,e);a.moveToBookmark(c).select()}};
UE.commands.deletecol={queryCommandState:function(){return b(this).cell?0:-1},execCommand:function(){var a=b(this).cell,c=l(a),e=c.cellsRange,f=c.getCellInfo(a),r=c.getHSideCell(a),k=c.getHSideCell(a,!0);if(u.isEmptyObject(e))c.deleteCol(f.colIndex);else for(f=e.beginColIndex;f<e.endColIndex+1;f++)c.deleteCol(e.beginColIndex);c=c.table;e=this.selection.getRange();c.getElementsByTagName("td").length?g.inDoc(a,this.document)?e.setStart(a,0).setCursor(!1,!0):k&&g.inDoc(k,this.document)?e.selectNodeContents(k).setCursor(!1,
!0):r&&g.inDoc(r,this.document)&&e.selectNodeContents(r).setCursor(!0,!0):(a=c.nextSibling,g.remove(c),a&&e.setStart(a,0).setCursor(!1,!0))}};UE.commands.splittocells={queryCommandState:function(){var a=b(this),c=a.cell;return!c||0<l(a.table).selectedTds.length?-1:c&&(1<c.colSpan||1<c.rowSpan)?0:-1},execCommand:function(){var a=this.selection.getRange(),c=a.createBookmark(!0),e=b(this).cell;l(e).splitToCells(e);a.moveToBookmark(c).select()}};UE.commands.splittorows={queryCommandState:function(){var a=
b(this),c=a.cell;return!c||0<l(a.table).selectedTds.length?-1:c&&1<c.rowSpan?0:-1},execCommand:function(){var a=this.selection.getRange(),c=a.createBookmark(!0),e=b(this).cell;l(e).splitToRows(e);a.moveToBookmark(c).select()}};UE.commands.splittocols={queryCommandState:function(){var a=b(this),c=a.cell;return!c||0<l(a.table).selectedTds.length?-1:c&&1<c.colSpan?0:-1},execCommand:function(){var a=this.selection.getRange(),c=a.createBookmark(!0),e=b(this).cell;l(e).splitToCols(e);a.moveToBookmark(c).select()}};
UE.commands.adaptbytext=UE.commands.adaptbywindow={queryCommandState:function(){return b(this).table?0:-1},execCommand:function(a){var c=b(this).table;c&&("adaptbywindow"==a?f(c,this):(a=g.getElementsByTagName(c,"td th"),u.each(a,function(a){a.removeAttribute("width")}),c.removeAttribute("width")))}};UE.commands.averagedistributecol={queryCommandState:function(){var b=a.getUETableBySelected(this);return b?b.isFullRow()||b.isFullCol()?0:-1:-1},execCommand:function(b){function c(){var b=l.table,d=0,
e=0,m=a.getDefaultValue(f,b);if(l.isFullRow())d=b.offsetWidth,e=l.colsNum;else for(var b=l.cellsRange.endColIndex,h,g=l.cellsRange.beginColIndex;g<=b;)h=l.selectedTds[g],d+=h.offsetWidth,g+=h.colSpan,e+=1;return Math.ceil(d/e)-2*m.tdBorder-2*m.tdPadding}function e(a){u.each(g.getElementsByTagName(l.table,"th"),function(a){a.setAttribute("width","")});var b=l.isFullRow()?g.getElementsByTagName(l.table,"td"):l.selectedTds;u.each(b,function(b){1==b.colSpan&&b.setAttribute("width",a)})}var f=this,l=a.getUETableBySelected(f);
l&&l.selectedTds.length&&e(c())}};UE.commands.averagedistributerow={queryCommandState:function(){var b=a.getUETableBySelected(this);return!b||b.selectedTds&&/th/ig.test(b.selectedTds[0].tagName)?-1:b.isFullRow()||b.isFullCol()?0:-1},execCommand:function(b){function c(){var b,d=0;b=l.table;var e=a.getDefaultValue(f,b),m=parseInt(g.getComputedStyle(b.getElementsByTagName("td")[0],"padding-top"));if(l.isFullCol()){var d=g.getElementsByTagName(b,"caption"),h=g.getElementsByTagName(b,"th"),k,n;0<d.length&&
(k=d[0].offsetHeight);0<h.length&&(n=h[0].offsetHeight);d=b.offsetHeight-(k||0)-(n||0);b=0==h.length?l.rowsNum:l.rowsNum-1}else{n=l.cellsRange.beginRowIndex;h=l.cellsRange.endRowIndex;k=0;for(b=g.getElementsByTagName(b,"tr");n<=h;n++)d+=b[n].offsetHeight,k+=1;b=k}return t.ie&&9>t.version?Math.ceil(d/b):Math.ceil(d/b)-2*e.tdBorder-2*m}function e(a){var b=l.isFullCol()?g.getElementsByTagName(l.table,"td"):l.selectedTds;u.each(b,function(b){1==b.rowSpan&&b.setAttribute("height",a)})}var f=this,l=a.getUETableBySelected(f);
l&&l.selectedTds.length&&e(c())}};UE.commands.cellalignment={queryCommandState:function(){return b(this).table?0:-1},execCommand:function(b,c){var e=a.getUETableBySelected(this);e?u.each(e.selectedTds,function(a){g.setAttributes(a,c)}):(e=(e=this.selection.getStart())&&g.findParentByTagName(e,["td","th","caption"],!0),/caption/ig.test(e.tagName)?(e.style.textAlign=c.align,e.style.verticalAlign=c.vAlign):g.setAttributes(e,c),this.selection.getRange().setCursor(!0))},queryCommandValue:function(a){(a=
b(this).cell)||(a=e(this)[0]);if(a){var c=UE.UETable.getUETable(a).selectedTds;!c.length&&(c=a);return UE.UETable.getTableCellAlignState(c)}return null}};UE.commands.tablealignment={queryCommandState:function(){return t.ie&&8>t.version?-1:b(this).table?0:-1},execCommand:function(a,b){var c=this.selection.getStart();(c=c&&g.findParentByTagName(c,["table"],!0))&&c.setAttribute("align",b)}};UE.commands.edittable={queryCommandState:function(){return b(this).table?0:-1},execCommand:function(a,b){var c=
this.selection.getRange();if(c=g.findParentByTagName(c.startContainer,"table"))c=g.getElementsByTagName(c,"td").concat(g.getElementsByTagName(c,"th"),g.getElementsByTagName(c,"caption")),u.each(c,function(a){a.style.borderColor=b})}};UE.commands.edittd={queryCommandState:function(){return b(this).table?0:-1},execCommand:function(b,c){var e=a.getUETableBySelected(this);if(e)u.each(e.selectedTds,function(a){a.style.backgroundColor=c});else if(e=(e=this.selection.getStart())&&g.findParentByTagName(e,
["td","th","caption"],!0))e.style.backgroundColor=c}};UE.commands.settablebackground={queryCommandState:function(){return 1<e(this).length?0:-1},execCommand:function(a,b){var c;c=e(this);l(c[0]).setBackground(c,b)}};UE.commands.cleartablebackground={queryCommandState:function(){var a=e(this);if(!a.length)return-1;for(var b=0,c;c=a[b++];)if(""!==c.style.backgroundColor)return 0;return-1},execCommand:function(){var a=e(this);l(a[0]).removeBackground(a)}};UE.commands.interlacetable=UE.commands.uninterlacetable=
{queryCommandState:function(a){var c=b(this).table;if(!c)return-1;c=c.getAttribute("interlaced");return"interlacetable"==a?"enabled"===c?-1:0:c&&"disabled"!==c?0:-1},execCommand:function(a,c){var e=b(this).table;"interlacetable"==a?(e.setAttribute("interlaced","enabled"),this.fireEvent("interlacetable",e,c)):(e.setAttribute("interlaced","disabled"),this.fireEvent("uninterlacetable",e))}};UE.commands.setbordervisible={queryCommandState:function(a){return b(this).table?0:-1},execCommand:function(){var a=
b(this).table;u.each(g.getElementsByTagName(a,"td"),function(a){a.style.borderWidth="1px";a.style.borderStyle="solid"})}}})();UE.plugins.table=function(){function f(a,b){c(a,"width",!0);c(a,"height",!0)}function c(a,b,c){a.style[b]&&(c&&a.setAttribute(b,parseInt(a.style[b],10)),a.style[b]="")}function e(a){if("TD"==a.tagName||"TH"==a.tagName)return a;var b;return(b=g.findParentByTagName(a,"td",!0)||g.findParentByTagName(a,"th",!0))?b:null}function a(a){var b=new RegExp(g.fillChar,"g");if(0<a[t.ie?
"innerText":"textContent"].replace(/^\s*$/,"").replace(b,"").length)return 0;for(var c in A.$isNotEmpty)if(a.getElementsByTagName(c).length)return 0;return 1}function b(a){return a.pageX||a.pageY?{x:a.pageX,y:a.pageY}:{x:a.clientX+B.document.body.scrollLeft-B.document.body.clientLeft,y:a.clientY+B.document.body.scrollTop-B.document.body.clientTop}}function l(a){if(!L())try{var c=e(a.target||a.srcElement),f;p&&(B.body.style.webkitUserSelect="none",10<Math.abs(Fa.x-a.clientX)||10<Math.abs(Fa.y-a.clientY))&&
(y(),p=!1,ia=0,W(a));if(pa&&U)if(ia=0,B.body.style.webkitUserSelect="none",B.selection.getNative()[t.ie9below?"empty":"removeAllRanges"](),f=b(a),k(B,!0,pa,f,c),"h"==pa){var h=oa.style,l;var c=U,n=X(c);if(n){var q=n.getSameEndPosCells(c,"x")[0],x=n.getSameStartPosXCells(c)[0],u=b(a).x,z=(q?g.getXY(q).x:g.getXY(n.table).x)+20,v=x?g.getXY(x).x+x.offsetWidth-20:B.body.offsetWidth+5||parseInt(g.getComputedStyle(B.body,"width"),10),z=z+5,v=v-5;l=u<z?z:u>v?v:u}else l=void 0;h.left=l+"px"}else{if("v"==pa){var C=
oa.style,K;a:{try{var H=g.getXY(U).y,A=b(a).y;K=A<H?H:A;break a}catch(P){}K=void 0}C.top=K+"px"}}else if(c){if(!0!==B.fireEvent("excludetable",c)){f=b(a);var D=r(c,f),I=g.findParentByTagName(c,"table",!0);m(I,c,a,!0)?!0!==B.fireEvent("excludetable",I)&&(B.body.style.cursor="url("+B.options.cursorpath+"h.png),pointer"):m(I,c,a)?!0!==B.fireEvent("excludetable",I)&&(B.body.style.cursor="url("+B.options.cursorpath+"v.png),pointer"):(B.body.style.cursor="text",/\d/.test(D)&&(D=D.replace(/\d/,""),c=X(c).getPreviewCell(c,
"v"==D)),k(B,c?!!D:!1,c?D:"",f,c))}}else d(!1,I,B)}catch(E){}}function d(a,b,c){a?h(b,c):Ga||setTimeout(function(){!Ga&&E&&E.parentNode&&E.parentNode.removeChild(E)},2E3)}function h(a,b){function c(d,e){clearTimeout(f);f=setTimeout(function(){b.fireEvent("tableClicked",a,e)},300)}var d=g.getXY(a),e=a.ownerDocument;if(E&&E.parentNode)return E;E=e.createElement("div");E.contentEditable=!1;E.innerHTML="";E.style.cssText="width:15px;height:15px;background-image:url("+b.options.UEDITOR_HOME_URL+"dialogs/table/dragicon.png);position: absolute;cursor:move;top:"+
(d.y-15)+"px;left:"+d.x+"px;";g.unSelectable(E);E.onmouseover=function(a){Ga=!0};E.onmouseout=function(a){Ga=!1};g.on(E,"click",function(a,b){c(b,this)});g.on(E,"dblclick",function(c,d){clearTimeout(f);var e=X(a),m=a.rows[0].cells[0],h=e.getLastCell(),h=e.getCellsRange(m,h);b.selection.getRange().setStart(m,0).setCursor(!1,!0);e.setSelected(h)});g.on(E,"dragstart",function(a,b){g.preventDefault(b)});var f;e.body.appendChild(E)}function m(a,c,d,e){d=b(d);c=r(c,d);return e?(e=(e=a.getElementsByTagName("caption")[0])?
e.offsetHeight:0,"v1"==c&&8>d.y-g.getXY(a).y-e):"h1"==c&&8>d.x-g.getXY(a).x}function k(a,b,c,d,e){try{a.body.style.cursor="h"==c?"col-resize":"v"==c?"row-resize":"text",t.ie&&(!c||Y||N.getUETableBySelected(a)?ha(a):(ea(a,a.document),la(c,e))),va=b}catch(f){}}function r(a,b){var c=g.getXY(a);return c?5>c.x+a.offsetWidth-b.x?"h":5>b.x-c.x?"h1":5>c.y+a.offsetHeight-b.y?"v":5>b.y-c.y?"v1":"":""}function n(a,b){if(!L())if(Fa={x:b.clientX,y:b.clientY},2==b.button){var c=N.getUETableBySelected(B),d=!1;if(c){var e=
ua(B,b);u.each(c.selectedTds,function(a){a===e&&(d=!0)});d?(e=c.selectedTds[0],setTimeout(function(){B.selection.getRange().setStart(e,0).setCursor(!1,!0)},0)):(ja(g.getElementsByTagName(B.body,"th td")),c.clearSelected())}}else C(b)}function q(a){ia=0;a=a||B.window.event;var c=e(a.target||a.srcElement);if(c){var d;if(d=r(c,b(a)))if(ha(B),"h1"==d&&(d="h",m(g.findParentByTagName(c,"table"),c,a)?B.execCommand("adaptbywindow"):(c=X(c).getPreviewCell(c))&&B.selection.getRange().selectNodeContents(c).setCursor(!0,
!0)),"h"==d){a=X(c);var f=M(c,a.table,!0),f=H(f,"left");a.width=a.offsetWidth;var h=[],l=[];u.each(f,function(a){h.push(a.offsetWidth)});u.each(f,function(a){a.removeAttribute("width")});window.setTimeout(function(){var a=!0;u.each(f,function(b,c){var d=b.offsetWidth;if(d>h[c])return a=!1;l.push(d)});var b=a?l:h;u.each(f,function(a,c){a.width=b[c]-Q()})},0)}}}function C(a){ja(g.getElementsByTagName(B.body,"td th"));u.each(B.document.getElementsByTagName("table"),function(a){a.ueTable=null});if(R=
ua(B,a)){var b=g.findParentByTagName(R,"table",!0);(ut=X(b))&&ut.clearSelected();va?K(a):(B.document.body.style.webkitUserSelect="",Y=!0,B.addListener("mouseover",F))}}function K(a){t.ie&&(a=P(a));y();p=!0;D=setTimeout(function(){W(a)},360)}function H(a,b){for(var c=[],d=null,e=0,f=a.length;e<f;e++)(d=a[e][b])&&c.push(d);return c}function y(){D&&clearTimeout(D);D=null}function P(a){var b="pageX pageY clientX clientY srcElement target".split(" "),c={};if(a)for(var d=0,e,f;e=b[d];d++)(f=a[e])&&(c[e]=
f);return c}function W(a){p=!1;if(R=a.target||a.srcElement)a=r(R,b(a)),/\d/.test(a)&&(a=a.replace(/\d/,""),R=X(R).getPreviewCell(R,"v"==a)),ha(B),ea(B,B.document),B.fireEvent("saveScene"),la(a,R),Y=!0,pa=a,U=R}function I(a,b){if(!L()){y();p=!1;if(va&&(ia=++ia%3,Fa={x:b.clientX,y:b.clientY},setTimeout(function(){0<ia&&ia--},360),2===ia)){ia=0;q(b);return}if(2!=b.button){var c=this.selection.getRange(),d=g.findParentByTagName(c.startContainer,"table",!0),e=g.findParentByTagName(c.endContainer,"table",
!0);if(d||e)d===e?(d=g.findParentByTagName(c.startContainer,["td","th","caption"],!0),e=g.findParentByTagName(c.endContainer,["td","th","caption"],!0),d!==e&&this.selection.clearRange()):this.selection.clearRange();Y=!1;this.document.body.style.webkitUserSelect="";if(pa&&U&&(this.selection.getNative()[t.ie9below?"empty":"removeAllRanges"](),ia=0,oa=this.document.getElementById("ue_tableDragLine"))){c=g.getXY(U);d=g.getXY(oa);switch(pa){case "h":Z(U,d.x-c.x);break;case "v":da(U,d.y-c.y-U.offsetHeight)}pa=
"";U=null;ha(this);this.fireEvent("saveScene");return}if(R)(d=(c=X(R))?c.selectedTds[0]:null)?(c=new v.Range(this.document),g.isEmptyBlock(d)?c.setStart(d,0).setCursor(!1,!0):c.selectNodeContents(d).shrinkBoundary().setCursor(!1,!0)):(c=this.selection.getRange().shrinkBoundary(),c.collapsed||(d=g.findParentByTagName(c.startContainer,["td","th"],!0),e=g.findParentByTagName(c.endContainer,["td","th"],!0),(d&&!e||!d&&e||d&&e&&d!==e)&&c.setCursor(!1,!0))),R=null,this.removeListener("mouseover",F);else if((d=
g.findParentByTagName(b.target||b.srcElement,"td",!0))||(d=g.findParentByTagName(b.target||b.srcElement,"th",!0)),d&&("TD"==d.tagName||"TH"==d.tagName)){if(!0===this.fireEvent("excludetable",d))return;c=new v.Range(this.document);c.setStart(d,0).setCursor(!1,!0)}this._selectionChange(250,b)}}}function F(a,b){if(!L()){var c=b.target||b.srcElement;ma=g.findParentByTagName(c,"td",!0)||g.findParentByTagName(c,"th",!0);if(R&&ma&&("TD"==R.tagName&&"TD"==ma.tagName||"TH"==R.tagName&&"TH"==ma.tagName)&&g.findParentByTagName(R,
"table")==g.findParentByTagName(ma,"table"))if(c=X(ma),R!=ma){this.document.body.style.webkitUserSelect="none";this.selection.getNative()[t.ie9below?"empty":"removeAllRanges"]();var d=c.getCellsRange(R,ma);c.setSelected(d)}else this.document.body.style.webkitUserSelect="",c.clearSelected();b.preventDefault?b.preventDefault():b.returnValue=!1}}function Z(a,b){var c=X(a);if(c){var c=c.table,d=M(a,c);c.style.width="";c.removeAttribute("width");b=S(b,a,d);a.nextSibling?u.each(d,function(a){a.left.width=
+a.left.width+b;a.right&&(a.right.width=+a.right.width-b)}):u.each(d,function(a){a.left.width-=-b})}}function L(){return"false"===B.body.contentEditable}function da(a,b){if(!(10>Math.abs(b))){var c=X(a);if(c)for(var c=c.getSameEndPosCells(a,"y"),d=c[0]?c[0].offsetHeight:0,e=0,f;f=c[e++];){var m=b,h=d,l=parseInt(g.getComputedStyle(f,"line-height"),10),m=h+m,m=m<l?l:m;f.style.height&&(f.style.height="");1==f.rowSpan?f.setAttribute("height",m):f.removeAttribute&&f.removeAttribute("height")}}}function M(a,
b,c){b||(b=g.findParentByTagName(a,"table"));if(!b)return null;g.getNodeIndex(a);b=b.rows;for(var d=0;a;)1===a.nodeType&&(d+=a.colSpan||1),a=a.previousSibling;a=null;var e=[];u.each(b,function(a){var b=0;u.each(a.cells,function(a){b+=a.colSpan||1;if(b===d)return e.push({left:a,right:a.nextSibling||null}),!1;if(b>d)return c&&e.push({left:a}),!1})});return e}function S(a,b,c){a-=Q();if(0>a)return 0;a-=ca(b);var d=0>a?"left":"right";a=Math.abs(a);u.each(c,function(b){(b=b[d])&&(a=Math.min(a,ca(b)-5))});
a=0>a?0:a;return"left"===d?-a:a}function ca(a){var b=0,b=a.offsetWidth-Q();if(!a.nextSibling){tab=g.findParentByTagName(a,"table",!1);if(void 0===tab.offsetVal){var c=a.previousSibling;tab.offsetVal=c?a.offsetWidth-c.offsetWidth===N.borderWidth?N.borderWidth:0:0}b-=tab.offsetVal}b=0>b?0:b;try{a.width=b}catch(d){}return b}function Q(){if(void 0===N.tabcellSpace){var a=B.document.createElement("table"),b=B.document.createElement("tbody"),c=B.document.createElement("tr"),d=B.document.createElement("td"),
e=null;d.style.cssText="border: 0;";d.width=1;c.appendChild(d);c.appendChild(e=d.cloneNode(!1));b.appendChild(c);a.appendChild(b);a.style.cssText="visibility: hidden;";B.body.appendChild(a);N.paddingSpace=d.offsetWidth-1;b=a.offsetWidth;d.style.cssText="";e.style.cssText="";N.borderWidth=(a.offsetWidth-b)/3;N.tabcellSpace=N.paddingSpace+N.borderWidth;B.body.removeChild(a)}Q=function(){return N.tabcellSpace};return N.tabcellSpace}function ea(a,b){Y||(oa=a.document.createElement("div"),g.setAttributes(oa,
{id:"ue_tableDragLine",unselectable:"on",contenteditable:!1,onresizestart:"return false",ondragstart:"return false",onselectstart:"return false",style:"background-color:blue;position:absolute;padding:0;margin:0;background-image:none;border:0px none;opacity:0;filter:alpha(opacity=0)"}),a.body.appendChild(oa))}function ha(a){if(!Y)for(var b;b=a.document.getElementById("ue_tableDragLine");)g.remove(b)}function la(a,b){if(b){var c=g.findParentByTagName(b,"table"),d=c.getElementsByTagName("caption"),e=
c.offsetWidth,f=c.offsetHeight-(0<d.length?d[0].offsetHeight:0),c=g.getXY(c),m=g.getXY(b);switch(a){case "h":d="height:"+f+"px;top:"+(c.y+(0<d.length?d[0].offsetHeight:0))+"px;left:"+(m.x+b.offsetWidth);oa.style.cssText=d+"px;position: absolute;display:block;background-color:blue;width:1px;border:0; color:blue;opacity:.3;filter:alpha(opacity=30)";break;case "v":d="width:"+e+"px;left:"+c.x+"px;top:"+(m.y+b.offsetHeight),oa.style.cssText=d+"px;overflow:hidden;position: absolute;display:block;background-color:blue;height:1px;border:0;color:blue;opacity:.2;filter:alpha(opacity=20)"}}}
function ka(a,b){for(var c=g.getElementsByTagName(a.body,"table"),d,e=0,f;f=c[e++];)d=g.getElementsByTagName(f,"td"),d[0]&&(b?(d=d[0].style.borderColor.replace(/\s/g,""),/(#ffffff)|(rgb\(255,255,255\))/ig.test(d)&&g.addClass(f,"noBorderTable")):g.removeClasses(f,"noBorderTable"))}function qa(a,b,c){var d=a.body;return d.offsetWidth-(b?2*parseInt(g.getComputedStyle(d,"margin-left"),10):0)-2*c.tableBorder-(a.options.offsetWidth||0)}function ua(a,c){var d=g.findParentByTagName(c.target||c.srcElement,
["td","th"],!0),e=null;if(!d)return null;e=r(d,b(c));if(!d)return null;if("h1"===e&&d.previousSibling){var e=g.getXY(d),f=d.offsetWidth;Math.abs(e.x+f-c.clientX)>f/3&&(d=d.previousSibling)}else"v1"===e&&d.parentNode.previousSibling&&(e=g.getXY(d),f=d.offsetHeight,Math.abs(e.y+f-c.clientY)>f/3&&(d=d.parentNode.previousSibling.firstChild));return d&&!0!==a.fireEvent("excludetable",d)?d:null}var B=this,D=null,p=!1,ia=0,Fa=null,N=UE.UETable,X=function(a){return N.getUETable(a)},ja=function(a){return N.removeSelectedClass(a)};
B.ready(function(){var a=this,b=a.selection.getText;a.selection.getText=function(){var c=N.getUETableBySelected(a);if(c){var d="";u.each(c.selectedTds,function(a){d+=a[t.ie?"innerText":"textContent"]});return d}return b.call(a.selection)}});var R=null,ma=null,pa="",va=!1,E=null,Ga=!1,oa=null,U=null,Y=!1;B.setOpt({maxColNum:20,maxRowNum:100,defaultCols:5,defaultRows:5,tdvalign:"top",cursorpath:B.options.UEDITOR_HOME_URL+"themes/default/images/cursor_",tableDragable:!1,classList:["ue-table-interlace-color-single",
"ue-table-interlace-color-double"]});B.getUETable=X;var Oa={deletetable:1,inserttable:1,cellvalign:1,insertcaption:1,deletecaption:1,inserttitle:1,deletetitle:1,mergeright:1,mergedown:1,mergecells:1,insertrow:1,insertrownext:1,deleterow:1,insertcol:1,insertcolnext:1,deletecol:1,splittocells:1,splittorows:1,splittocols:1,adaptbytext:1,adaptbywindow:1,adaptbycustomer:1,insertparagraph:1,insertparagraphbeforetable:1,averagedistributecol:1,averagedistributerow:1};B.ready(function(){u.cssRule("table",
".selectTdClass{background-color:#edf5fa !important}table.noBorderTable td,table.noBorderTable th,table.noBorderTable caption{border:1px dashed #ddd !important}table{margin-bottom:10px;border-collapse:collapse;display:table;}td,th{padding: 5px 10px;border: 1px solid #DDD;}caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}th{border-top:1px solid #BBB;background-color:#F7F7F7;}table tr.firstRow th{border-top-width:2px;}.ue-table-interlace-color-single{ background-color: #fcfcfc; } .ue-table-interlace-color-double{ background-color: #f7faff; }td p{margin:0;padding:0;}",
B.document);var b,c,h;B.addListener("keydown",function(d,e){var f=e.keyCode||e.which;if(8==f){var m=N.getUETableBySelected(this);m&&m.selectedTds.length&&(m.isFullCol()?this.execCommand("deletecol"):m.isFullRow()?this.execCommand("deleterow"):this.fireEvent("delcells"),g.preventDefault(e));var l=g.findParentByTagName(this.selection.getStart(),"caption",!0),r=this.selection.getRange();r.collapsed&&l&&a(l)&&(this.fireEvent("saveScene"),m=l.parentNode,g.remove(l),m&&r.setStart(m.rows[0].cells[0],0).setCursor(!1,
!0),this.fireEvent("saveScene"))}if(46==f&&(m=N.getUETableBySelected(this))){this.fireEvent("saveScene");for(l=0;r=m.selectedTds[l++];)g.fillNode(this.document,r);this.fireEvent("saveScene");g.preventDefault(e)}if(13==f){f=this.selection.getRange();if(l=g.findParentByTagName(f.startContainer,"caption",!0)){m=g.findParentByTagName(l,"table");f.collapsed?l&&f.setStart(m.rows[0].cells[0],0).setCursor(!1,!0):(f.deleteContents(),this.fireEvent("saveScene"));g.preventDefault(e);return}f.collapsed&&(m=g.findParentByTagName(f.startContainer,
"table"))&&(r=m.rows[0].cells[0],l=g.findParentByTagName(this.selection.getStart(),["td","th"],!0),m=m.previousSibling,r===l&&(!m||1==m.nodeType&&"TABLE"==m.tagName)&&g.isStartInblock(f)&&(f=g.findParent(this.selection.getStart(),function(a){return g.isBlockElm(a)},!0))&&(/t(h|d)/i.test(f.tagName)||f===l.firstChild)&&(this.execCommand("insertparagraphbeforetable"),g.preventDefault(e)))}if((e.ctrlKey||e.metaKey)&&"67"==e.keyCode&&(b=null,m=N.getUETableBySelected(this)))for(f=m.selectedTds,c=m.isFullCol(),
h=m.isFullRow(),b=[[m.cloneCell(f[0],null,!0)]],l=1;r=f[l];l++)r.parentNode!==f[l-1].parentNode?b.push([m.cloneCell(r,null,!0)]):b[b.length-1].push(m.cloneCell(r,null,!0))});B.addListener("tablehasdeleted",function(){k(this,!1,"",null);E&&g.remove(E)});B.addListener("beforepaste",function(d,e){var m=this,l=m.selection.getRange();if(g.findParentByTagName(l.startContainer,"caption",!0))l=m.document.createElement("div"),l.innerHTML=e.html,e.html=l[t.ie9below?"innerText":"textContent"];else{var r=N.getUETableBySelected(m);
if(b){m.fireEvent("saveScene");var l=m.selection.getRange(),k=g.findParentByTagName(l.startContainer,["td","th"],!0),n,p;if(k){r=X(k);if(h){var q=r.getCellInfo(k).rowIndex;"TH"==k.tagName&&q++;for(var l=0,w;w=b[l++];){p=r.insertRow(q++,"td");for(var x=0,z;z=w[x];x++)(k=p.cells[x])||(k=p.insertCell(x)),k.innerHTML=z.innerHTML,z.getAttribute("width")&&k.setAttribute("width",z.getAttribute("width")),z.getAttribute("vAlign")&&k.setAttribute("vAlign",z.getAttribute("vAlign")),z.getAttribute("align")&&
k.setAttribute("align",z.getAttribute("align")),z.style.cssText&&(k.style.cssText=z.style.cssText);for(x=0;(z=p.cells[x])&&w[x];x++)z.innerHTML=w[x].innerHTML,w[x].getAttribute("width")&&z.setAttribute("width",w[x].getAttribute("width")),w[x].getAttribute("vAlign")&&z.setAttribute("vAlign",w[x].getAttribute("vAlign")),w[x].getAttribute("align")&&z.setAttribute("align",w[x].getAttribute("align")),w[x].style.cssText&&(z.style.cssText=w[x].style.cssText)}}else{if(c){q=r.getCellInfo(k);x=k=0;for(w=b[0];z=
w[x++];)k+=z.colSpan||1;m.__hasEnterExecCommand=!0;for(l=0;l<k;l++)m.execCommand("insertcol");m.__hasEnterExecCommand=!1;k=r.table.rows[0].cells[q.cellIndex];"TH"==k.tagName&&(k=r.table.rows[1].cells[q.cellIndex])}for(l=0;w=b[l++];){n=k;for(x=0;z=w[x++];)k?(k.innerHTML=z.innerHTML,z.getAttribute("width")&&k.setAttribute("width",z.getAttribute("width")),z.getAttribute("vAlign")&&k.setAttribute("vAlign",z.getAttribute("vAlign")),z.getAttribute("align")&&k.setAttribute("align",z.getAttribute("align")),
z.style.cssText&&(k.style.cssText=z.style.cssText),p=k,k=k.nextSibling):(q=z.cloneNode(!0),g.removeAttributes(q,["class","rowSpan","colSpan"]),p.parentNode.appendChild(q));k=r.getNextCell(n,!0,!0);if(!b[l])break;k||(q=r.getCellInfo(n),r.table.insertRow(r.table.rows.length),r.update(),k=r.getVSideCell(n,!0))}}r.update()}else{r=m.document.createElement("table");for(l=0;w=b[l++];){p=r.insertRow(r.rows.length);for(x=0;z=w[x++];)q=N.cloneCell(z,null,!0),g.removeAttributes(q,["class"]),p.appendChild(q);
2==x&&1<q.rowSpan&&(q.rowSpan=1)}l=N.getDefaultValue(m,void 0);l=m.body.offsetWidth-2*parseInt(g.getComputedStyle(m.body,"margin-left"),10)-2*l.tableBorder-(m.options.offsetWidth||0);m.execCommand("insertHTML","<table  "+(c&&h?'width="'+l+'"':"")+">"+r.innerHTML.replace(/>\s*</g,"><").replace(/\bth\b/gi,"td")+"</table>")}m.fireEvent("contentchange");m.fireEvent("saveScene");e.html="";return!0}l=m.document.createElement("div");l.innerHTML=e.html;w=l.getElementsByTagName("table");g.findParentByTagName(m.selection.getStart(),
"table")?(u.each(w,function(a){g.remove(a)}),g.findParentByTagName(m.selection.getStart(),"caption",!0)&&(l.innerHTML=l[t.ie?"innerText":"textContent"])):u.each(w,function(b){f(b,!0);g.removeAttributes(b,["style","border"]);u.each(g.getElementsByTagName(b,"td"),function(b){a(b)&&g.fillNode(m.document,b);f(b,!0)})});e.html=l.innerHTML}});B.addListener("afterpaste",function(){u.each(g.getElementsByTagName(B.body,"table"),function(a){if(a.offsetWidth>B.body.offsetWidth){var b=N.getDefaultValue(B,a);
a.style.width=B.body.offsetWidth-2*parseInt(g.getComputedStyle(B.body,"margin-left"),10)-2*b.tableBorder-(B.options.offsetWidth||0)+"px"}})});B.addListener("blur",function(){b=null});var r;B.addListener("keydown",function(){clearTimeout(r);r=setTimeout(function(){var a=B.selection.getRange();if(a=g.findParentByTagName(a.startContainer,["th","td"],!0)){var b=a.parentNode.parentNode.parentNode;b.offsetWidth>b.getAttribute("width")&&(a.style.wordBreak="break-all")}},100)});B.addListener("selectionchange",
function(){k(B,!1,"",null)});B.addListener("contentchange",function(){var a=this;ha(a);if(!N.getUETableBySelected(a)){var b=a.selection.getRange().startContainer,b=g.findParentByTagName(b,["td","th"],!0);u.each(g.getElementsByTagName(a.document,"table"),function(b){!0!==a.fireEvent("excludetable",b)&&(b.ueTable=new N(b),b.onmouseover=function(){a.fireEvent("tablemouseover",b)},b.onmousemove=function(){a.fireEvent("tablemousemove",b);a.options.tableDragable&&d(!0,this,a);u.defer(function(){a.fireEvent("contentchange",
50)},!0)},b.onmouseout=function(){a.fireEvent("tablemouseout",b);k(a,!1,"",null);ha(a)},b.onclick=function(b){b=a.window.event||b;var c=e(b.target||b.srcElement);if(c){var d=X(c),f=d.table,l=d.getCellInfo(c),h=a.selection.getRange();m(f,c,b,!0)?(f=d.getCell(d.indexTable[d.rowsNum-1][l.colIndex].rowIndex,d.indexTable[d.rowsNum-1][l.colIndex].cellIndex),b.shiftKey&&d.selectedTds.length?d.selectedTds[0]!==f?(b=d.getCellsRange(d.selectedTds[0],f),d.setSelected(b)):h&&h.selectNodeContents(f).select():
c!==f?(b=d.getCellsRange(c,f),d.setSelected(b)):h&&h.selectNodeContents(f).select()):m(f,c,b)&&(f=d.getCell(d.indexTable[l.rowIndex][d.colsNum-1].rowIndex,d.indexTable[l.rowIndex][d.colsNum-1].cellIndex),b.shiftKey&&d.selectedTds.length?d.selectedTds[0]!==f?(b=d.getCellsRange(d.selectedTds[0],f),d.setSelected(b)):h&&h.selectNodeContents(f).select():c!==f?(b=d.getCellsRange(c,f),d.setSelected(b)):h&&h.selectNodeContents(f).select())}})});ka(a,!0)}});g.on(B.document,"mousemove",l);g.on(B.document,"mouseout",
function(a){"TABLE"==(a.target||a.srcElement).tagName&&k(B,!1,"",null)});B.addListener("interlacetable",function(a,b,c){if(b){a=b.rows;b=a.length;for(var d=0;d<b;d++){var e=c||this.options.classList;a[d].className=e[d]?e[d]:e[d%e.length]}}});B.addListener("uninterlacetable",function(a,b){if(b)for(var c=b.rows,d=this.options.classList,e=c.length,f=0;f<e;f++)g.removeClasses(c[f],d)});B.addListener("mousedown",n);B.addListener("mouseup",I);g.on(B.body,"dragstart",function(a){I.call(B,"dragstart",a)});
B.addOutputRule(function(a){u.each(a.getNodesByTagName("div"),function(a){"ue_tableDragLine"==a.getAttr("id")&&a.parentNode.removeChild(a)})});var p=0;B.addListener("mousedown",function(){p=0});B.addListener("tabkeydown",function(){var b=this.selection.getRange(),c=b.getCommonAncestor(!0,!0),d=g.findParentByTagName(c,"table");if(d){if(g.findParentByTagName(c,"caption",!0))(c=g.getElementsByTagName(d,"th td"))&&c.length&&b.setStart(c[0],0).setCursor(!1,!0);else{var c=g.findParentByTagName(c,["td",
"th"],!0),e=X(c);p=1<c.rowSpan?p:e.getCellInfo(c).rowIndex;(c=e.getTabNextCell(c,p))?a(c)?b.setStart(c,0).setCursor(!1,!0):b.selectNodeContents(c).select():(B.fireEvent("saveScene"),B.__hasEnterExecCommand=!0,this.execCommand("insertrownext"),B.__hasEnterExecCommand=!1,b=this.selection.getRange(),b.setStart(d.rows[d.rows.length-1].cells[0],0).setCursor(),B.fireEvent("saveScene"))}return!0}});t.ie&&B.addListener("selectionchange",function(){k(this,!1,"",null)});B.addListener("keydown",function(a,b){var c=
b.keyCode||b.which;if(8!=c&&46!=c){(c=!b.ctrlKey&&!b.metaKey&&!b.shiftKey&&!b.altKey)&&ja(g.getElementsByTagName(this.body,"td"));var d=N.getUETableBySelected(this);d&&c&&d.clearSelected()}});B.addListener("beforegetcontent",function(){ka(this,!1);t.ie&&u.each(this.document.getElementsByTagName("caption"),function(a){g.isEmptyNode(a)&&(a.innerHTML="&nbsp;")})});B.addListener("aftergetcontent",function(){ka(this,!0)});B.addListener("getAllHtml",function(){ja(B.document.getElementsByTagName("td"))});
B.addListener("fullscreenchanged",function(a,b){if(!b){var c=this.body.offsetWidth/document.body.offsetWidth,d=g.getElementsByTagName(this.body,"table");u.each(d,function(a){if(a.offsetWidth<B.body.offsetWidth)return!1;var b=g.getElementsByTagName(a,"td"),d=[];u.each(b,function(a){d.push(a.offsetWidth)});for(var e=0,f;f=b[e];e++)f.setAttribute("width",Math.floor(d[e]*c));a.setAttribute("width",Math.floor(qa(B,!0,N.getDefaultValue(B,void 0))))})}});var q=B.execCommand;B.execCommand=function(b,c){b=
b.toLowerCase();var d=N.getUETableBySelected(this),e=new v.Range(this.document),f=this.commands[b]||UE.commands[b],m;if(f){if(!d||Oa[b]||f.notNeedUndo||this.__hasEnterExecCommand)m=q.apply(this,arguments);else{this.__hasEnterExecCommand=!0;this.fireEvent("beforeexeccommand",b);for(var d=d.selectedTds,l=f=-2,h,r,k=0,n;n=d[k];k++)if(a(n)?e.setStart(n,0).setCursor(!1,!0):e.selectNode(n).select(!0),r=this.queryCommandState(b),h=this.queryCommandValue(b),-1!=r){if(f!==r||l!==h)this._ignoreContentChange=
!0,m=q.apply(this,arguments),this._ignoreContentChange=!1;f=this.queryCommandState(b);l=this.queryCommandValue(b);g.isEmptyBlock(n)&&g.fillNode(this.document,n)}e.setStart(d[0],0).shrinkBoundary(!0).setCursor(!1,!0);this.fireEvent("contentchange");this.fireEvent("afterexeccommand",b);this.__hasEnterExecCommand=!1;this._selectionChange()}return m}}})};UE.UETable.prototype.sortTable=function(f,c){var e=this.table,a=e.rows,b=[],l="TH"===a[0].cells[0].tagName,d=0;if(this.selectedTds.length){for(var h=
this.cellsRange,m=h.endRowIndex+1,g=h.beginRowIndex;g<m;g++)b[g]=a[g];b.splice(0,h.beginRowIndex);d=h.endRowIndex+1===this.rowsNum?0:h.endRowIndex+1}else for(g=0,m=a.length;g<m;g++)b[g]=a[g];var r={reversecurrent:function(a,b){return 1},orderbyasc:function(a,b){return(a.innerText||a.textContent).localeCompare(b.innerText||b.textContent)},reversebyasc:function(a,b){return b.innerHTML.localeCompare(a.innerHTML)},orderbynum:function(a,b){var c=a[t.ie?"innerText":"textContent"].match(/\d+/),d=b[t.ie?
"innerText":"textContent"].match(/\d+/);c&&(c=+c[0]);d&&(d=+d[0]);return(c||0)-(d||0)},reversebynum:function(a,b){var c=a[t.ie?"innerText":"textContent"].match(/\d+/),d=b[t.ie?"innerText":"textContent"].match(/\d+/);c&&(c=+c[0]);d&&(d=+d[0]);return(d||0)-(c||0)}};e.setAttribute("data-sort-type",c&&"string"===typeof c&&r[c]?c:"");l&&b.splice(0,1);b=u.sort(b,function(a,b){return c&&"function"===typeof c?c.call(this,a.cells[f],b.cells[f]):c&&"number"===typeof c?1:c&&"string"===typeof c&&r[c]?r[c].call(this,
a.cells[f],b.cells[f]):r.orderbyasc.call(this,a.cells[f],b.cells[f])});l=e.ownerDocument.createDocumentFragment();g=0;for(m=b.length;g<m;g++)l.appendChild(b[g]);e=e.getElementsByTagName("tbody")[0];d?e.insertBefore(l,a[d-h.endRowIndex+h.beginRowIndex-1]):e.appendChild(l)};UE.plugins.tablesort=function(){var f=this,c=UE.UETable;f.ready(function(){u.cssRule("tablesort","table.sortEnabled tr.firstRow th,table.sortEnabled tr.firstRow td{padding-right:20px;background-repeat: no-repeat;background-position: center right;   background-image:url("+
f.options.themePath+f.options.theme+"/images/sortable.png);}",f.document);f.addListener("afterexeccommand",function(c,a){"mergeright"!=a&&"mergedown"!=a&&"mergecells"!=a||this.execCommand("disablesort")})});UE.commands.sorttable={queryCommandState:function(){var e=c.getTableItemsByRange(this);if(!e.cell)return-1;for(var e=e.table.getElementsByTagName("td"),a=0,b;b=e[a++];)if(1!=b.rowSpan||1!=b.colSpan)return-1;return 0},execCommand:function(e,a){var b=this.selection.getRange(),f=b.createBookmark(!0),
d=c.getTableItemsByRange(this),h=d.cell,d=c.getUETable(d.table),h=d.getCellInfo(h);d.sortTable(h.cellIndex,a);b.moveToBookmark(f);try{b.select()}catch(m){}}};UE.commands.enablesort=UE.commands.disablesort={queryCommandState:function(e){var a=c.getTableItemsByRange(this).table;if(a&&"enablesort"==e)for(var b=g.getElementsByTagName(a,"th td"),f=0;f<b.length;f++)if(1<b[f].getAttribute("colspan")||1<b[f].getAttribute("rowspan"))return-1;return a?"enablesort"==e^"sortEnabled"!=a.getAttribute("data-sort")?
-1:0:-1},execCommand:function(e){var a=c.getTableItemsByRange(this).table;a.setAttribute("data-sort","enablesort"==e?"sortEnabled":"sortDisabled");"enablesort"==e?g.addClass(a,"sortEnabled"):g.removeClasses(a,"sortEnabled")}}};UE.plugins.contextmenu=function(){var f=this;f.setOpt("enableContextMenu",!0);if(!1!==f.getOpt("enableContextMenu")){var c=f.getLang("contextMenu"),e,a=f.options.contextMenu||[{label:c.selectall,cmdName:"selectall"},{label:c.cleardoc,cmdName:"cleardoc",exec:function(){confirm(c.confirmclear)&&
this.execCommand("cleardoc")}},"-",{label:c.unlink,cmdName:"unlink"},"-",{group:c.paragraph,icon:"justifyjustify",subMenu:[{label:c.justifyleft,cmdName:"justify",value:"left"},{label:c.justifyright,cmdName:"justify",value:"right"},{label:c.justifycenter,cmdName:"justify",value:"center"},{label:c.justifyjustify,cmdName:"justify",value:"justify"}]},"-",{group:c.table,icon:"table",subMenu:[{label:c.inserttable,cmdName:"inserttable"},{label:c.deletetable,cmdName:"deletetable"},"-",{label:c.deleterow,
cmdName:"deleterow"},{label:c.deletecol,cmdName:"deletecol"},{label:c.insertcol,cmdName:"insertcol"},{label:c.insertcolnext,cmdName:"insertcolnext"},{label:c.insertrow,cmdName:"insertrow"},{label:c.insertrownext,cmdName:"insertrownext"},"-",{label:c.insertcaption,cmdName:"insertcaption"},{label:c.deletecaption,cmdName:"deletecaption"},{label:c.inserttitle,cmdName:"inserttitle"},{label:c.deletetitle,cmdName:"deletetitle"},{label:c.inserttitlecol,cmdName:"inserttitlecol"},{label:c.deletetitlecol,cmdName:"deletetitlecol"},
"-",{label:c.mergecells,cmdName:"mergecells"},{label:c.mergeright,cmdName:"mergeright"},{label:c.mergedown,cmdName:"mergedown"},"-",{label:c.splittorows,cmdName:"splittorows"},{label:c.splittocols,cmdName:"splittocols"},{label:c.splittocells,cmdName:"splittocells"},"-",{label:c.averageDiseRow,cmdName:"averagedistributerow"},{label:c.averageDisCol,cmdName:"averagedistributecol"},"-",{label:c.edittd,cmdName:"edittd",exec:function(){UE.ui.edittd&&new UE.ui.edittd(this);this.getDialog("edittd").open()}},
{label:c.edittable,cmdName:"edittable",exec:function(){UE.ui.edittable&&new UE.ui.edittable(this);this.getDialog("edittable").open()}},{label:c.setbordervisible,cmdName:"setbordervisible"}]},{group:c.tablesort,icon:"tablesort",subMenu:[{label:c.enablesort,cmdName:"enablesort"},{label:c.disablesort,cmdName:"disablesort"},"-",{label:c.reversecurrent,cmdName:"sorttable",value:"reversecurrent"},{label:c.orderbyasc,cmdName:"sorttable",value:"orderbyasc"},{label:c.reversebyasc,cmdName:"sorttable",value:"reversebyasc"},
{label:c.orderbynum,cmdName:"sorttable",value:"orderbynum"},{label:c.reversebynum,cmdName:"sorttable",value:"reversebynum"}]},{group:c.borderbk,icon:"borderBack",subMenu:[{label:c.setcolor,cmdName:"interlacetable",exec:function(){this.execCommand("interlacetable")}},{label:c.unsetcolor,cmdName:"uninterlacetable",exec:function(){this.execCommand("uninterlacetable")}},{label:c.setbackground,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:!0,colorList:["#bbb",
"#ccc"]})}},{label:c.unsetbackground,cmdName:"cleartablebackground",exec:function(){this.execCommand("cleartablebackground")}},{label:c.redandblue,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:!0,colorList:["red","blue"]})}},{label:c.threecolorgradient,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:!0,colorList:["#aaa","#bbb","#ccc"]})}}]},{group:c.aligntd,icon:"aligntd",subMenu:[{cmdName:"cellalignment",value:{align:"left",
vAlign:"top"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"left",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"left",vAlign:"bottom"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"bottom"}},{cmdName:"cellalignment",value:{align:"right",
vAlign:"bottom"}}]},{group:c.aligntable,icon:"aligntable",subMenu:[{cmdName:"tablealignment",className:"left",label:c.tableleft,value:"left"},{cmdName:"tablealignment",className:"center",label:c.tablecenter,value:"center"},{cmdName:"tablealignment",className:"right",label:c.tableright,value:"right"}]},"-",{label:c.insertparagraphbefore,cmdName:"insertparagraph",value:!0},{label:c.insertparagraphafter,cmdName:"insertparagraph"},{label:c.copy,cmdName:"copy"},{label:c.paste,cmdName:"paste"}];if(a.length){var b=
UE.ui.uiUtils;f.addListener("contextmenu",function(l,d){var h=b.getViewportOffsetByEvent(d);f.fireEvent("beforeselectionchange");e&&e.destroy();for(var m=0,k,r=[];k=a[m];m++){var n;(function(a){if("-"==a)(n=r[r.length-1])&&"-"!==n&&r.push("-");else if(a.hasOwnProperty("group")){for(var b=0,d,e=[];d=a.subMenu[b];b++)(function(a){"-"==a?(n=e[e.length-1])&&"-"!==n?e.push("-"):e.splice(e.length-1):(f.commands[a.cmdName]||UE.commands[a.cmdName]||a.query)&&-1<(a.query?a.query():f.queryCommandState(a.cmdName))&&
e.push({label:a.label||f.getLang("contextMenu."+a.cmdName+(a.value||""))||"",className:"edui-for-"+a.cmdName+(a.className?" edui-for-"+a.cmdName+"-"+a.className:""),onclick:a.exec?function(){a.exec.call(f)}:function(){f.execCommand(a.cmdName,a.value)}})})(d);e.length&&r.push({label:function(){switch(a.icon){case "table":return f.getLang("contextMenu.table");case "justifyjustify":return f.getLang("contextMenu.paragraph");case "aligntd":return f.getLang("contextMenu.aligntd");case "aligntable":return f.getLang("contextMenu.aligntable");
case "tablesort":return c.tablesort;case "borderBack":return c.borderbk;default:return""}}(),className:"edui-for-"+a.icon,subMenu:{items:e,editor:f}})}else(f.commands[a.cmdName]||UE.commands[a.cmdName]||a.query)&&-1<(a.query?a.query.call(f):f.queryCommandState(a.cmdName))&&r.push({label:a.label||f.getLang("contextMenu."+a.cmdName),className:"edui-for-"+(a.icon?a.icon:a.cmdName+(a.value||"")),onclick:a.exec?function(){a.exec.call(f)}:function(){f.execCommand(a.cmdName,a.value)}})})(k)}"-"==r[r.length-
1]&&r.pop();e=new UE.ui.Menu({items:r,className:"edui-contextmenu",editor:f});e.render();e.showAt(h);f.fireEvent("aftershowcontextmenu",e);g.preventDefault(d);if(t.ie){var q;try{q=f.selection.getNative().createRange()}catch(u){return}q.item&&(new v.Range(f.document)).selectNode(q.item(0)).select(!0,!0)}});f.addListener("aftershowcontextmenu",function(a,b){if(f.zeroclipboard){var c=b.items,e;for(e in c)"edui-for-copy"==c[e].className&&f.zeroclipboard.clip(c[e].getDom())}})}}};UE.plugins.shortcutmenu=
function(){var f,c=this.options.shortcutMenu||[];c.length&&(this.addListener("contextmenu mouseup",function(e,a){var b=this,l={type:e,target:a.target||a.srcElement,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY};setTimeout(function(){if(!1===b.selection.getRange().collapsed||"contextmenu"==e)f||(f=new n.editor.ui.ShortCutMenu({editor:b,items:c,theme:b.options.theme,className:"edui-shortcutmenu"}),f.render(),b.fireEvent("afterrendershortcutmenu",f)),f.show(l,!!UE.plugins.contextmenu)});
if("contextmenu"==e&&(g.preventDefault(a),t.ie9below)){var d;try{d=b.selection.getNative().createRange()}catch(h){return}d.item&&(new v.Range(b.document)).selectNode(d.item(0)).select(!0,!0)}}),this.addListener("keydown",function(c){"keydown"==c&&f&&!f.isHidden&&f.hide()}))};UE.plugins.basestyle=function(){var f={bold:["strong","b"],italic:["em","i"],subscript:["sub"],superscript:["sup"]},c=function(a,c){return g.filterNodeList(a.selection.getStartElementPath(),c)},e=this;e.addshortcutkey({Bold:"ctrl+66",
Italic:"ctrl+73",Underline:"ctrl+85"});e.addInputRule(function(a){u.each(a.getNodesByTagName("b i"),function(a){switch(a.tagName){case "b":a.tagName="strong";break;case "i":a.tagName="em"}})});for(var a in f)(function(a,f){e.commands[a]={execCommand:function(a){var b=e.selection.getRange(),m=c(this,f);if(b.collapsed){if(m)a=e.document.createTextNode(""),b.insertNode(a).removeInlineStyle(f),b.setStartBefore(a),g.remove(a);else{m=b.document.createElement(f[0]);if("superscript"==a||"subscript"==a)a=
e.document.createTextNode(""),b.insertNode(a).removeInlineStyle(["sub","sup"]).setStartBefore(a).collapse(!0);b.insertNode(m).setStart(m,0)}b.collapse(!0)}else{if("superscript"==a||"subscript"==a)m&&m.tagName.toLowerCase()==a||b.removeInlineStyle(["sub","sup"]);m?b.removeInlineStyle(f):b.applyInlineStyle(f[0])}b.select()},queryCommandState:function(){return c(this,f)?1:0}}})(a,f[a])};UE.plugins.elementpath=function(){var f,c,e=this;e.setOpt("elementPathEnabled",!0);e.options.elementPathEnabled&&(e.commands.elementpath=
{execCommand:function(a,b){var l=c[b],d=e.selection.getRange();f=1*b;d.selectNode(l).select()},queryCommandValue:function(){var a=[].concat(this.selection.getStartElementPath()).reverse(),b=[];c=a;for(var e=0,d;d=a[e];e++)if(3!=d.nodeType){var h=d.tagName.toLowerCase();"img"==h&&d.getAttribute("anchorname")&&(h="anchor");b[e]=h;if(f==e){f=-1;break}}return b}})};UE.plugins.formatmatch=function(){function f(l,d){if(t.webkit)var h="IMG"==d.target.tagName?d.target:null;c.undoManger&&c.undoManger.save();
var m=c.selection.getRange(),h=h||m.getClosedNode();if(a&&h&&"IMG"==h.tagName)h.style.cssText+=";float:"+(a.style.cssFloat||a.style.styleFloat||"none")+";display:"+(a.style.display||"inline"),a=null;else if(!a){if(m.collapsed){var k=c.document.createTextNode("match");m.insertNode(k).select()}c.__hasEnterExecCommand=!0;m=c.options.removeFormatAttributes;c.options.removeFormatAttributes="";c.execCommand("removeformat");c.options.removeFormatAttributes=m;c.__hasEnterExecCommand=!1;m=c.selection.getRange();
e.length&&(h=m,k&&h.selectNode(k),h.applyInlineStyle(e[e.length-1].tagName,null,e));k&&m.setStartBefore(k).collapse(!0);m.select();k&&g.remove(k)}c.undoManger&&c.undoManger.save();c.removeListener("mouseup",f);b=0}var c=this,e=[],a,b=0;c.addListener("reset",function(){e=[];b=0});c.commands.formatmatch={execCommand:function(l){if(b)b=0,e=[],c.removeListener("mouseup",f);else{l=c.selection.getRange();a=l.getClosedNode();if(!a||"IMG"!=a.tagName){l.collapse(!0).shrinkBoundary();e=g.findParents(l.startContainer,
!0,function(a){return!g.isBlockElm(a)&&1==a.nodeType});l=0;for(var d;d=e[l];l++)if("A"==d.tagName){e.splice(l,1);break}}c.addListener("mouseup",f);b=1}},queryCommandState:function(){return b},notNeedUndo:1}};UE.plugin.register("searchreplace",function(){function f(a,c,d){var e=0;a=a.firstChild;for(var m=0;a;){if(3==a.nodeType){if(m=a.nodeValue.replace(/(^[\t\r\n]+)|([\t\r\n]+$)/,"").length,e+=m,e>=c)return{node:a,index:m-(e-c)}}else if(!A.$empty[a.tagName]&&(m=a[t.ie?"innerText":"textContent"].replace(/(^[\t\r\n]+)|([\t\r\n]+$)/,
"").length,e+=m,e>=c&&(m=f(a,m-(e-c),d))))return m;a=g.getNextDomNode(a)}}function c(a,c){var d=a.selection.getRange(),h,m=c.searchStr,k=a.document.createElement("span");k.innerHTML="$$ueditor_searchreplace_key$$";if(!d.collapsed){d.select();var r=a.selection.getText();if((new RegExp("^"+c.searchStr+"$",c.casesensitive?"":"i")).test(r)){if(void 0!=c.replaceStr)return e(d,c.replaceStr),d.select(),!0;d.collapse(-1==c.dir)}}d.insertNode(k);d.enlargeToBlockElm(!0);h=d.startContainer;r=h[t.ie?"innerText":
"textContent"].indexOf("$$ueditor_searchreplace_key$$");d.setStartBefore(k);g.remove(k);a:{var k=h,n;h=c.all||1==c.dir?"getNextDomNode":"getPreDomNode";g.isBody(k)&&(k=k.firstChild);for(;k;){n=3==k.nodeType?k.nodeValue:k[t.ie?"innerText":"textContent"];b:{var q=c,u=r,v=q.searchStr;-1==q.dir&&(n=n.split("").reverse().join(""),v=v.split("").reverse().join(""),u=n.length-u);for(var v=new RegExp(v,"g"+(q.casesensitive?"":"i")),H=void 0;H=v.exec(n);)if(H.index>=u){n=-1==q.dir?n.length-H.index-q.searchStr.length:
H.index;break b}n=-1}if(-1!=n){r={node:k,index:n};break a}(k=g[h](k))&&(r=-1==c.dir?(3==k.nodeType?k.nodeValue:k[t.ie?"innerText":"textContent"]).length:0)}r=void 0}if(r)return k=f(r.node,r.index,m),m=f(r.node,r.index+m.length,m),d.setStart(k.node,k.index).setEnd(m.node,m.index),void 0!==c.replaceStr&&e(d,c.replaceStr),d.select(),!0;d.setCursor()}function e(b,c){a.fireEvent("saveScene");c=a.document.createTextNode(c);b.deleteContents().insertNode(c);a.fireEvent("saveScene")}var a=this;return{commands:{searchreplace:{execCommand:function(b,
e){u.extend(e,{all:!1,casesensitive:!1,dir:1},!0);var d=0;if(e.all){var f=a.selection.getRange(),m=a.body.firstChild;m&&1==m.nodeType?f.setStart(m,0):3==m.nodeType&&f.setStartBefore(m);for(f.collapse(!0).select(!0);c(this,e);)d++}else c(this,e)&&d++;return d},notNeedUndo:1}}}});UE.plugins.customstyle=function(){var f=this;f.setOpt({customstyle:[{tag:"h1",name:"tc",style:"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;"},{tag:"h1",
name:"tl",style:"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:left;margin:0 0 10px 0;"},{tag:"span",name:"im",style:"font-size:16px;font-style:italic;font-weight:bold;line-height:18px;"},{tag:"span",name:"hi",style:"font-size:16px;font-style:italic;font-weight:bold;color:rgb(51, 153, 204);line-height:18px;"}]});f.commands.customstyle={execCommand:function(c,e){var a=e.tag,b=g.findParent(this.selection.getStart(),function(a){return a.getAttribute("label")},
!0),f,d,h={};for(f in e)void 0!==e[f]&&(h[f]=e[f]);delete h.tag;if(b&&b.getAttribute("label")==e.label){f=this.selection.getRange();d=f.createBookmark();if(f.collapsed)if(A.$block[b.tagName]){var m=this.document.createElement("p");g.moveChild(b,m);b.parentNode.insertBefore(m,b);g.remove(b)}else g.remove(b,!0);else{b=g.getCommonAncestor(d.start,d.end);h=g.getElementsByTagName(b,a);(new RegExp(a,"i")).test(b.tagName)&&h.push(b);for(var k=0,r;r=h[k++];)if(r.getAttribute("label")==e.label){var m=g.getPosition(r,
d.start),n=g.getPosition(r,d.end);(m&g.POSITION_FOLLOWING||m&g.POSITION_CONTAINS)&&(n&g.POSITION_PRECEDING||n&g.POSITION_CONTAINS)&&A.$block[a]&&(m=this.document.createElement("p"),g.moveChild(r,m),r.parentNode.insertBefore(m,r));g.remove(r,!0)}(b=g.findParent(b,function(a){return a.getAttribute("label")==e.label},!0))&&g.remove(b,!0)}f.moveToBookmark(d).select()}else A.$block[a]?(this.execCommand("paragraph",a,h,"customstyle"),f=this.selection.getRange(),f.collapsed||(f.collapse(),b=g.findParent(this.selection.getStart(),
function(a){return a.getAttribute("label")==e.label},!0),a=this.document.createElement("p"),g.insertAfter(b,a),g.fillNode(this.document,a),f.setStart(a,0).setCursor())):(f=this.selection.getRange(),f.collapsed?(b=this.document.createElement(a),g.setAttributes(b,h),f.insertNode(b).setStart(b,0).setCursor()):(d=f.createBookmark(),f.applyInlineStyle(a,h).moveToBookmark(d).select()))},queryCommandValue:function(){var c=g.filterNodeList(this.selection.getStartElementPath(),function(c){return c.getAttribute("label")});
return c?c.getAttribute("label"):""}};f.addListener("keyup",function(c,e){var a=e.keyCode||e.which;if(32==a||13==a)if(a=f.selection.getRange(),a.collapsed){var b=g.findParent(f.selection.getStart(),function(a){return a.getAttribute("label")},!0);if(b&&A.$block[b.tagName]&&g.isEmptyNode(b)){var l=f.document.createElement("p");g.insertAfter(b,l);g.fillNode(f.document,l);g.remove(b);a.setStart(l,0).setCursor()}}})};UE.plugins.catchremoteimage=function(){var f=this,c=UE.ajax;!1!==f.options.catchRemoteImageEnable&&
(f.setOpt({catchRemoteImageEnable:!1}),f.addListener("afterpaste",function(){f.fireEvent("catchRemoteImage")}),f.addListener("catchRemoteImage",function(){function e(a,e){var m=u.serializeParam(f.queryCommandValue("serverparam"))||"",m=u.formatUrl(b+(-1==b.indexOf("?")?"?":"&")+m),h={method:"POST",dataType:u.isCrossDomainUrl(m)?"jsonp":"",timeout:6E4,onsuccess:e.success,onerror:e.error};h[d]=a;c.request(m,h)}for(var a=f.getOpt("catcherLocalDomain"),b=f.getActionUrl(f.getOpt("catcherActionName")),
l=f.getOpt("catcherUrlPrefix"),d=f.getOpt("catcherFieldName"),h=[],m=g.getElementsByTagName(f.document,"img"),k=function(a,b){if(-1!=a.indexOf(location.host)||/(^\.)|(^\/)/.test(a))return!0;if(b)for(var c=0,d;d=b[c++];)if(-1!==a.indexOf(d))return!0;return!1},r=0,n;n=m[r++];)n.getAttribute("word_img")||(n=n.getAttribute("_src")||n.src||"",/^(https?|ftp):/i.test(n)&&!k(n,a)&&h.push(n));h.length&&e(h,{success:function(a){try{var b=void 0!==a.state?a:eval("("+a.responseText+")")}catch(c){return}var d,
e,h,r=b.list;for(a=0;b=m[a++];)for(h=b.getAttribute("_src")||b.src||"",d=0;e=r[d++];)if(h==e.source&&"SUCCESS"==e.state){d=l+e.url;g.setAttributes(b,{src:d,_src:d});break}f.fireEvent("catchremotesuccess")},error:function(){f.fireEvent("catchremoteerror")}})}))};UE.plugin.register("snapscreen",function(){function f(a){var b=document.createElement("a"),e=u.serializeParam(c.queryCommandValue("serverparam"))||"";b.href=a;t.ie&&(b.href=b.href);a=b.search;e&&(a=(a?a+e:"?"+e).replace(/[&]+/ig,"&"));return{port:b.port,
hostname:b.hostname,path:b.pathname+a||+b.hash}}var c=this,e;return{commands:{snapscreen:{execCommand:function(a){function b(a){try{if(a=eval("("+a+")"),"SUCCESS"==a.state){var b=c.options;c.execCommand("insertimage",{src:b.snapscreenUrlPrefix+a.url,_src:b.snapscreenUrlPrefix+a.url,alt:a.title||"",floatStyle:b.snapscreenImgAlign})}else alert(a.state)}catch(d){alert(h.callBackErrorMsg)}}var l,d,h=c.getLang("snapScreen_plugin");if(!e){a=c.container;e=(c.container.ownerDocument||c.container.document).createElement("object");
try{e.type="application/x-pluginbaidusnap"}catch(m){return}e.style.cssText="position:absolute;left:-9999px;width:0;height:0;";e.setAttribute("width","0");e.setAttribute("height","0");a.appendChild(e)}a=c.getActionUrl(c.getOpt("snapscreenActionName"));l=f(a);setTimeout(function(){try{d=e.saveSnapshot(l.hostname,l.path,l.port)}catch(a){c.ui._dialogs.snapscreenDialog.open();return}b(d)},50)},queryCommandState:function(){return-1!=navigator.userAgent.indexOf("Windows",0)?0:-1}}}}});UE.commands.insertparagraph=
{execCommand:function(f,c){for(var e=this.selection.getRange(),a=e.startContainer,b;a&&!g.isBody(a);)b=a,a=a.parentNode;b&&(a=this.document.createElement("p"),c?b.parentNode.insertBefore(a,b):b.parentNode.insertBefore(a,b.nextSibling),g.fillNode(this.document,a),e.setStart(a,0).setCursor(!1,!0))}};UE.plugin.register("webapp",function(){function f(e,a){return a?'<iframe class="edui-faked-webapp" title="'+e.title+'" '+(e.align&&!e.cssfloat?'align="'+e.align+'"':"")+(e.cssfloat?'style="float:'+e.cssfloat+
'"':"")+'width="'+e.width+'" height="'+e.height+'"  scrolling="no" frameborder="0" src="'+e.url+'" logo_url = "'+e.logo+'"></iframe>':'<img title="'+e.title+'" width="'+e.width+'" height="'+e.height+'" src="'+c.options.UEDITOR_HOME_URL+'themes/default/images/spacer.gif" _logo_url="'+e.logo+'" style="background:url('+e.logo+') no-repeat center center; border:1px solid gray;" class="edui-faked-webapp" _url="'+e.url+'" '+(e.align&&!e.cssfloat?'align="'+e.align+'"':"")+(e.cssfloat?'style="float:'+e.cssfloat+
'"':"")+"/>"}var c=this;return{outputRule:function(c){u.each(c.getNodesByTagName("img"),function(a){var b;"edui-faked-webapp"==a.getAttr("class")&&(b=f({title:a.getAttr("title"),width:a.getAttr("width"),height:a.getAttr("height"),align:a.getAttr("align"),cssfloat:a.getStyle("float"),url:a.getAttr("_url"),logo:a.getAttr("_logo_url")},!0),b=UE.uNode.createElement(b),a.parentNode.replaceChild(b,a))})},inputRule:function(c){u.each(c.getNodesByTagName("iframe"),function(a){if("edui-faked-webapp"==a.getAttr("class")){var b=
UE.uNode.createElement(f({title:a.getAttr("title"),width:a.getAttr("width"),height:a.getAttr("height"),align:a.getAttr("align"),cssfloat:a.getStyle("float"),url:a.getAttr("src"),logo:a.getAttr("logo_url")}));a.parentNode.replaceChild(b,a)}})},commands:{webapp:{execCommand:function(c,a){var b=f(u.extend(a,{align:"none"}),!1);this.execCommand("inserthtml",b)},queryCommandState:function(){var c=this.selection.getRange().getClosedNode();return c&&"edui-faked-webapp"==c.className?1:0}}}}});UE.plugins.template=
function(){UE.commands.template={execCommand:function(f,c){c.html&&this.execCommand("inserthtml",c.html)}};this.addListener("click",function(f,c){var e=c.target||c.srcElement,a=this.selection.getRange();(e=g.findParent(e,function(a){if(a.className&&g.hasClass(a,"ue_t"))return a},!0))&&a.selectNode(e).shrinkBoundary().select()});this.addListener("keydown",function(f,c){var e=this.selection.getRange();e.collapsed||c.ctrlKey||c.metaKey||c.shiftKey||c.altKey||(e=g.findParent(e.startContainer,function(a){if(a.className&&
g.hasClass(a,"ue_t"))return a},!0))&&g.removeClasses(e,["ue_t"])})};UE.plugin.register("music",function(){function f(e,a,b,f,d,h){return h?'<embed type="application/x-shockwave-flash" class="edui-faked-music" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+e+'" width="'+a+'" height="'+b+'" '+(f&&!d?'align="'+f+'"':"")+(d?'style="float:'+d+'"':"")+' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >':"<img "+(f&&!d?'align="'+
f+'"':"")+(d?'style="float:'+d+'"':"")+' width="'+a+'" height="'+b+'" _url="'+e+'" class="edui-faked-music" src="'+c.options.langPath+c.options.lang+'/images/music.png" />'}var c=this;return{outputRule:function(c){u.each(c.getNodesByTagName("img"),function(a){var b;if("edui-faked-music"==a.getAttr("class")){b=a.getStyle("float");var c=a.getAttr("align");b=f(a.getAttr("_url"),a.getAttr("width"),a.getAttr("height"),c,b,!0);b=UE.uNode.createElement(b);a.parentNode.replaceChild(b,a)}})},inputRule:function(c){u.each(c.getNodesByTagName("embed"),
function(a){if("edui-faked-music"==a.getAttr("class")){var b=a.getStyle("float"),c=a.getAttr("align");html=f(a.getAttr("src"),a.getAttr("width"),a.getAttr("height"),c,b,!1);b=UE.uNode.createElement(html);a.parentNode.replaceChild(b,a)}})},commands:{music:{execCommand:function(c,a){var b=f(a.url,a.width||400,a.height||95,"none",!1);this.execCommand("inserthtml",b)},queryCommandState:function(){var c=this.selection.getRange().getClosedNode();return c&&"edui-faked-music"==c.className?1:0}}}}});UE.plugin.register("autoupload",
function(){function f(e,a){var b,f,d,h,m,k,r,n,q=/image\/\w+/i.test(e.type)?"image":"file",t="loading_"+(+new Date).toString(36);b=a.getOpt(q+"FieldName");f=a.getOpt(q+"UrlPrefix");d=a.getOpt(q+"MaxSize");h=a.getOpt(q+"AllowFiles");m=a.getActionUrl(a.getOpt(q+"ActionName"));r=function(b){var c=a.document.getElementById(t);c&&(g.removeClasses(c,"loadingclass"),g.addClass(c,"loaderrorclass"),c.setAttribute("title",b||""))};"image"==q?(k='<img class="loadingclass" id="'+t+'" src="'+a.options.themePath+
a.options.theme+'/images/spacer.gif" title="'+(a.getLang("autoupload.loading")||"")+'" >',n=function(b){var c=f+b.url,d=a.document.getElementById(t);d&&(d.setAttribute("src",c),d.setAttribute("_src",c),d.setAttribute("title",b.title||""),d.setAttribute("alt",b.original||""),d.removeAttribute("id"),g.removeClasses(d,"loadingclass"))}):(k='<p><img class="loadingclass" id="'+t+'" src="'+a.options.themePath+a.options.theme+'/images/spacer.gif" title="'+(a.getLang("autoupload.loading")||"")+'" ></p>',
n=function(b){b=f+b.url;var c=a.document.getElementById(t),d=a.selection.getRange(),e=d.createBookmark();d.selectNode(c).select();a.execCommand("insertfile",{url:b});d.moveToBookmark(e).select()});a.execCommand("inserthtml",k);e.size>d?r(a.getLang("autoupload.exceedSizeError")):(d=e.name?e.name.substr(e.name.lastIndexOf(".")):"")&&"image"!=q||h&&-1==(h.join("")+".").indexOf(d.toLowerCase()+".")?r(a.getLang("autoupload.exceedTypeError")):(h=new XMLHttpRequest,q=new FormData,d=u.serializeParam(c.queryCommandValue("serverparam"))||
"",m=u.formatUrl(m+(-1==m.indexOf("?")?"?":"&")+d),q.append(b,e,e.name||"blob."+e.type.substr(6)),q.append("type","ajax"),h.open("post",m,!0),h.setRequestHeader("X-Requested-With","XMLHttpRequest"),h.addEventListener("load",function(b){try{var c=(new Function("return "+u.trim(b.target.response)))();"SUCCESS"==c.state&&c.url?n(c):r(c.state)}catch(d){r(a.getLang("autoupload.loadError"))}}),h.send(q))}var c=this;return{outputRule:function(c){u.each(c.getNodesByTagName("img"),function(a){/\b(loaderrorclass)|(bloaderrorclass)\b/.test(a.getAttr("class"))&&
a.parentNode.removeChild(a)});u.each(c.getNodesByTagName("p"),function(a){/\bloadpara\b/.test(a.getAttr("class"))&&a.parentNode.removeChild(a)})},bindEvents:{ready:function(e){window.FormData&&window.FileReader&&(g.on(c.body,"paste drop",function(a){var b=!1,e;if(e="paste"==a.type?a.clipboardData&&a.clipboardData.items&&1==a.clipboardData.items.length&&/^image\//.test(a.clipboardData.items[0].type)?a.clipboardData.items:null:a.dataTransfer&&a.dataTransfer.files?a.dataTransfer.files:null){for(var d=
e.length,h;d--;)h=e[d],h.getAsFile&&(h=h.getAsFile()),h&&0<h.size&&(f(h,c),b=!0);b&&a.preventDefault()}}),g.on(c.body,"dragover",function(a){"Files"==a.dataTransfer.types[0]&&a.preventDefault()}),u.cssRule("loading",".loadingclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loading.gif') no-repeat center center transparent;border:1px solid #cccccc;margin-left:1px;height: 22px;width: 22px;}\n.loaderrorclass{display:inline-block;cursor:default;background: url('"+
this.options.themePath+this.options.theme+"/images/loaderror.png') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}",this.document))}}}});UE.plugin.register("autosave",function(){function f(b){var f;20>new Date-e||(b.hasContents()?(e=new Date,b._saveFlag=null,f=c.body.innerHTML,!1!==b.fireEvent("beforeautosave",{content:f})&&(c.setPreferences(a,f),b.fireEvent("afterautosave",{content:f}))):a&&c.removePreferences(a))}var c=this,e=new Date,a=null;
return{defaultOptions:{saveInterval:500},bindEvents:{ready:function(){var b=null,b=c.key?c.key+"-drafts-data":(c.container.parentNode.id||"ue-common")+"-drafts-data";a=(location.protocol+location.host+location.pathname).replace(/[.:\/]/g,"_")+b},contentchange:function(){a&&(c._saveFlag&&window.clearTimeout(c._saveFlag),0<c.options.saveInterval?c._saveFlag=window.setTimeout(function(){f(c)},c.options.saveInterval):f(c))}},commands:{clearlocaldata:{execCommand:function(b,e){a&&c.getPreferences(a)&&
c.removePreferences(a)},notNeedUndo:!0,ignoreContentChange:!0},getlocaldata:{execCommand:function(b,e){return a?c.getPreferences(a)||"":""},notNeedUndo:!0,ignoreContentChange:!0},drafts:{execCommand:function(b,e){a&&(c.body.innerHTML=c.getPreferences(a)||"<p>"+(t.ie?"&nbsp;":"<br/>")+"</p>",c.focus(!0))},queryCommandState:function(){return a?null===c.getPreferences(a)?-1:0:-1},notNeedUndo:!0,ignoreContentChange:!0}}}});UE.plugin.register("charts",function(){function f(c){var a=null,b=0;if(2>c.rows.length||
2>c.rows[0].cells.length)return!1;for(var a=c.rows[0].cells,b=a.length,f=0,d;d=a[f];f++)if("th"!==d.tagName.toLowerCase())return!1;for(f=1;a=c.rows[f];f++){if(a.cells.length!=b||"th"!==a.cells[0].tagName.toLowerCase())return!1;for(var h=1;d=a.cells[h];h++)if(d=u.trim(d.innerText||d.textContent||""),d=d.replace(new RegExp(UE.dom.domUtils.fillChar,"g"),"").replace(/^\s+|\s+$/g,""),!/^\d*\.?\d+$/.test(d))return!1}return!0}var c=this;return{bindEvents:{chartserror:function(){}},commands:{charts:{execCommand:function(e,
a){var b=g.findParentByTagName(this.selection.getRange().startContainer,"table",!0),l=[],d={};if(!b)return!1;if(!f(b))return c.fireEvent("chartserror"),!1;d.title=a.title||"";d.subTitle=a.subTitle||"";d.xTitle=a.xTitle||"";d.yTitle=a.yTitle||"";d.suffix=a.suffix||"";d.tip=a.tip||"";d.dataFormat=a.tableDataFormat||"";d.chartType=a.chartType||0;for(var h in d)d.hasOwnProperty(h)&&l.push(h+":"+d[h]);b.setAttribute("data-chart",l.join(";"));g.addClass(b,"edui-charts-table")},queryCommandState:function(c,
a){var b=g.findParentByTagName(this.selection.getRange().startContainer,"table",!0);return b&&f(b)?0:-1}}},inputRule:function(c){u.each(c.getNodesByTagName("table"),function(a){void 0!==a.getAttr("data-chart")&&a.setAttr("style")})},outputRule:function(c){u.each(c.getNodesByTagName("table"),function(a){void 0!==a.getAttr("data-chart")&&a.setAttr("style","display: none;")})}}});UE.plugin.register("section",function(){function f(a){this.tag="";this.level=-1;this.parentSection=this.previousSection=this.nextSection=
this.dom=null;this.startAddress=[];this.endAddress=[];this.children=[]}function c(a){var c=new f;return u.extend(c,a)}function e(a,c){for(var d=c,e=0;e<a.length;e++){if(!d.childNodes)return null;d=d.childNodes[a[e]]}return d}var a=this;return{bindMultiEvents:{type:"aftersetcontent afterscencerestore",handler:function(){a.fireEvent("updateSections")}},bindEvents:{ready:function(){a.fireEvent("updateSections");g.on(a.body,"drop paste",function(){a.fireEvent("updateSections")})},afterexeccommand:function(b,
c){"paragraph"==c&&a.fireEvent("updateSections")},keyup:function(a,c){if(1!=this.selection.getRange().collapsed)this.fireEvent("updateSections");else{var d=c.keyCode||c.which;13!=d&&8!=d&&46!=d||this.fireEvent("updateSections")}}},commands:{getsections:{execCommand:function(a,e){function d(a,b){for(var e,m=null,l,k=a.childNodes,n=0,q=k.length;n<q;n++){l=k[n];a:{e=l;for(var t=0;t<f.length;t++)if(f[t](e)){e=t;break a}e=-1}if(0<=e){m=g.selection.getRange().selectNode(l).createAddress(!0).startAddress;
m=c({tag:l.tagName,title:l.innerText||l.textContent||"",level:e,dom:l,startAddress:u.clone(m,[]),endAddress:u.clone(m,[]),children:[]});r.nextSection=m;for(l=m.previousSection=r;e<=l.level;)l=l.parentSection;m.parentSection=l;l.children.push(m);m=r=m}else 1===l.nodeType&&d(l,b),m&&m.endAddress[m.endAddress.length-1]++}}for(var f=e||"h1 h2 h3 h4 h5 h6".split(" "),m=0;m<f.length;m++)"string"==typeof f[m]?f[m]=function(a){return function(b){return b.tagName==a.toUpperCase()}}(f[m]):"function"!=typeof f[m]&&
(f[m]=function(a){return null});var g=this,r=m=c({level:-1,title:"root"});d(g.body,m);return m},notNeedUndo:!0},movesection:{execCommand:function(a,c,d,f){if(c&&d&&-1!=d.level){d=f?d.endAddress:d.startAddress;a=e(d,this.body);var m;if(!(m=!d||!a)){m=c.startAddress;for(var k=!1,r=!1,n=0;n<m.length&&!(n>=d.length);n++)if(d[n]>m[n]){k=!0;break}else if(d[n]<m[n])break;for(n=0;n<c.endAddress.length&&!(n>=d.length);n++)if(d[n]<m[n]){r=!0;break}else if(d[n]>m[n])break;m=k&&r}if(!m){d=e(c.startAddress,this.body);
c=e(c.endAddress,this.body);if(f)for(f=c;f&&!(g.getPosition(d,f)&g.POSITION_FOLLOWING);){m=f.previousSibling;g.insertAfter(a,f);if(f==d)break;f=m}else for(f=d;f&&!(g.getPosition(f,c)&g.POSITION_FOLLOWING);){m=f.nextSibling;a.parentNode.insertBefore(f,a);if(f==c)break;f=m}this.fireEvent("updateSections")}}}},deletesection:{execCommand:function(a,c,d){function e(a){for(var b=f.body,c=0;c<a.length;c++){if(!b.childNodes)return null;b=b.childNodes[a[c]]}return b}var f=this;if(c){a=e(c.startAddress);c=
e(c.endAddress);if(d)g.remove(a);else for(;a&&g.inDoc(c,f.document)&&!(g.getPosition(a,c)&g.POSITION_FOLLOWING);)d=a.nextSibling,g.remove(a),a=d;f.fireEvent("updateSections")}}},selectsection:{execCommand:function(a,c){if(!c&&!c.dom)return!1;var d=this.selection.getRange(),e={startAddress:u.clone(c.startAddress,[]),endAddress:u.clone(c.endAddress,[])};e.endAddress[e.endAddress.length-1]++;d.moveToAddress(e).select().scrollToView();return!0},notNeedUndo:!0},scrolltosection:{execCommand:function(a,
c){if(!c&&!c.dom)return!1;var d=this.selection.getRange(),e={startAddress:c.startAddress,endAddress:c.endAddress};e.endAddress[e.endAddress.length-1]++;d.moveToAddress(e).scrollToView();return!0},notNeedUndo:!0}}}});UE.plugin.register("simpleupload",function(){function f(){var b=(+new Date).toString(36),f=a.ownerDocument,d=document.createElement("div");d.innerHTML='<form id="edui_form_'+b+'" target="edui_iframe_'+b+'" method="POST" enctype="multipart/form-data" action="'+c.getOpt("serverUrl")+'" style="display:block;width:100%;height:100%;border:0;margin:0;padding:0;position:absolute;"><input id="edui_input_'+
b+'" type="file" accept="image/*" name="'+c.options.imageFieldName+'" style="background:red;display:block;width:100%;height:100%;border:0;margin:0;padding:0;position:absolute;filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity: 0;opacity: 0;"></form><iframe id="edui_iframe_'+b+'" name="edui_iframe_'+b+'" style="display:none;width:0;height:0;border:0;margin:0;padding:0;position:absolute;"></iframe>';d.className="edui-"+c.options.theme;d.id=c.ui.id+"_iframeupload";a.appendChild(d);var h=f.getElementById("edui_form_"+
b),m=f.getElementById("edui_input_"+b),k=f.getElementById("edui_iframe_"+b);g.on(m,"change",function(){function a(){try{var e,f,m,l=(k.contentDocument||k.contentWindow.document).body;f=(new Function("return "+(l.innerText||l.textContent||"")))();e=c.options.imageUrlPrefix+f.url;"SUCCESS"==f.state&&f.url?(m=c.document.getElementById(d),m.setAttribute("src",e),m.setAttribute("_src",e),m.setAttribute("title",f.title||""),m.setAttribute("alt",f.original||""),m.removeAttribute("id"),g.removeClasses(m,
"loadingclass")):b&&b(f.state)}catch(r){b&&b(c.getLang("simpleupload.loadError"))}h.reset();g.un(k,"load",a)}function b(a){if(d){var e=c.document.getElementById(d);g.removeClasses(e,"loadingclass");g.addClass(e,"loaderrorclass");e.setAttribute("title",a||"")}}if(m.value){var d="loading_"+(+new Date).toString(36),e=u.serializeParam(c.queryCommandValue("serverparam"))||"",f=c.getActionUrl(c.getOpt("imageActionName")),l=c.getOpt("imageAllowFiles");c.focus();c.execCommand("inserthtml",'<img class="loadingclass" id="'+
d+'" src="'+c.options.themePath+c.options.theme+'/images/spacer.gif" title="'+(c.getLang("simpleupload.loading")||"")+'" >');var r=m.value,r=r?r.substr(r.lastIndexOf(".")):"";!r||l&&-1==(l.join("")+".").indexOf(r.toLowerCase()+".")?b(c.getLang("simpleupload.exceedTypeError")):(g.on(k,"load",a),h.action=u.formatUrl(f+(-1==f.indexOf("?")?"?":"&")+e),h.submit())}});var r;c.addListener("selectionchange",function(){clearTimeout(r);r=setTimeout(function(){-1==c.queryCommandState("simpleupload")?m.disabled=
"disabled":m.disabled=!1},400)});e=!0}var c=this,e=!1,a;return{bindEvents:{ready:function(){u.cssRule("loading",".loadingclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loading.gif') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}\n.loaderrorclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loaderror.png') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}",
this.document)},simpleuploadbtnready:function(b,e){a=e;c.afterConfigReady(f)}},outputRule:function(a){u.each(a.getNodesByTagName("img"),function(a){/\b(loaderrorclass)|(bloaderrorclass)\b/.test(a.getAttr("class"))&&a.parentNode.removeChild(a)})},commands:{simpleupload:{queryCommandState:function(){return e?0:-1}}}}});UE.plugin.register("serverparam",function(){var f={};return{commands:{serverparam:{execCommand:function(c,e,a){void 0===e||null===e?f={}:u.isString(e)?void 0===a||null===a?delete f[e]:
f[e]=a:u.isObject(e)?u.extend(f,e,!0):u.isFunction(e)&&u.extend(f,e(),!0)},queryCommandValue:function(){return f||{}}}}}});UE.plugin.register("insertfile",function(){var f=this;return{commands:{insertfile:{execCommand:function(c,e){e=u.isArray(e)?e:[e];var a,b,g,d,h="";a=f.getOpt("UEDITOR_HOME_URL");var m=a+("/"==a.substr(a.length-1)?"":"/")+"dialogs/attachment/fileTypeImages/";for(a=0;a<e.length;a++)b=e[a],g=b.url,g=g.substr(g.lastIndexOf(".")+1).toLowerCase(),d={rar:"icon_rar.gif",zip:"icon_rar.gif",
tar:"icon_rar.gif",gz:"icon_rar.gif",bz2:"icon_rar.gif",doc:"icon_doc.gif",docx:"icon_doc.gif",pdf:"icon_pdf.gif",mp3:"icon_mp3.gif",xls:"icon_xls.gif",chm:"icon_chm.gif",ppt:"icon_ppt.gif",pptx:"icon_ppt.gif",avi:"icon_mv.gif",rmvb:"icon_mv.gif",wmv:"icon_mv.gif",flv:"icon_mv.gif",swf:"icon_mv.gif",rm:"icon_mv.gif",exe:"icon_exe.gif",psd:"icon_psd.gif",txt:"icon_txt.gif",jpg:"icon_jpg.gif",png:"icon_jpg.gif",jpeg:"icon_jpg.gif",gif:"icon_jpg.gif",ico:"icon_jpg.gif",bmp:"icon_jpg.gif"},g=m+(d[g]?
d[g]:d.txt),d=b.title||b.url.substr(b.url.lastIndexOf("/")+1),h+='<p style="line-height: 16px;"><img style="vertical-align: middle; margin-right: 2px;" src="'+g+'" _src="'+g+'" /><a style="font-size:12px; color:#0066cc;" href="'+b.url+'" title="'+d+'">'+d+"</a></p>";f.execCommand("insertHtml",h)}}}}});n=n||{};n.editor=n.editor||{};UE.ui=n.editor.ui={};(function(){function f(){var a=document.getElementById("edui_fixedlayer");g.setViewportOffset(a,{left:0,top:0})}var c=n.editor.browser,e=n.editor.dom.domUtils,
a=window.$EDITORUI={},b=0,g=n.editor.ui.uiUtils={uid:function(a){return a?a.ID$EDITORUI||(a.ID$EDITORUI=++b):++b},hook:function(a,b){var c;a&&a._callbacks?c=a:(c=function(){var b;a&&(b=a.apply(this,arguments));for(var e=c._callbacks,f=e.length;f--;){var g=e[f].apply(this,arguments);void 0===b&&(b=g)}return b},c._callbacks=[]);c._callbacks.push(b);return c},createElementByHtml:function(a){var b=document.createElement("div");b.innerHTML=a;b=b.firstChild;b.parentNode.removeChild(b);return b},getViewportElement:function(){return c.ie&&
c.quirks?document.body:document.documentElement},getClientRect:function(a){var b;try{b=a.getBoundingClientRect()}catch(c){b={left:0,top:0,height:0,width:0}}for(var f={left:Math.round(b.left),top:Math.round(b.top),height:Math.round(b.bottom-b.top),width:Math.round(b.right-b.left)},g;(g=a.ownerDocument)!==document&&(a=e.getWindow(g).frameElement);)b=a.getBoundingClientRect(),f.left+=b.left,f.top+=b.top;f.bottom=f.top+f.height;f.right=f.left+f.width;return f},getViewportRect:function(){var a=g.getViewportElement(),
b=(window.innerWidth||a.clientWidth)|0,a=(window.innerHeight||a.clientHeight)|0;return{left:0,top:0,height:a,width:b,bottom:a,right:b}},setViewportOffset:function(a,b){var c=g.getFixedLayer();a.parentNode===c?(a.style.left=b.left+"px",a.style.top=b.top+"px"):e.setViewportOffset(a,b)},getEventOffset:function(a){var b=g.getClientRect(a.target||a.srcElement);a=g.getViewportOffsetByEvent(a);return{left:a.left-b.left,top:a.top-b.top}},getViewportOffsetByEvent:function(a){var b=a.target||a.srcElement,c=
e.getWindow(b).frameElement;a={left:a.clientX,top:a.clientY};c&&b.ownerDocument!==document&&(b=g.getClientRect(c),a.left+=b.left,a.top+=b.top);return a},setGlobal:function(b,c){a[b]=c;return'$EDITORUI["'+b+'"]'},unsetGlobal:function(b){delete a[b]},copyAttributes:function(a,b){for(var f=b.attributes,g=f.length;g--;){var l=f[g];"style"==l.nodeName||"class"==l.nodeName||c.ie&&!l.specified||a.setAttribute(l.nodeName,l.nodeValue)}b.className&&e.addClass(a,b.className);b.style.cssText&&(a.style.cssText+=
";"+b.style.cssText)},removeStyle:function(a,b){if(a.style.removeProperty)a.style.removeProperty(b);else if(a.style.removeAttribute)a.style.removeAttribute(b);else throw"";},contains:function(a,b){return a&&b&&(a===b?!1:a.contains?a.contains(b):a.compareDocumentPosition(b)&16)},startDrag:function(a,b,c){function e(a){b.ondragmove(a.clientX-f,a.clientY-g,a);a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}c=c||document;var f=a.clientX,g=a.clientY;if(c.addEventListener){var l=function(a){c.removeEventListener("mousemove",
e,!0);c.removeEventListener("mouseup",l,!0);window.removeEventListener("mouseup",l,!0);b.ondragstop()};c.addEventListener("mousemove",e,!0);c.addEventListener("mouseup",l,!0);window.addEventListener("mouseup",l,!0);a.preventDefault()}else{var k=function(){n.releaseCapture();n.detachEvent("onmousemove",e);n.detachEvent("onmouseup",k);n.detachEvent("onlosecaptrue",k);b.ondragstop()},n=a.srcElement;n.setCapture();n.attachEvent("onmousemove",e);n.attachEvent("onmouseup",k);n.attachEvent("onlosecaptrue",
k);a.returnValue=!1}b.ondragstart()},getFixedLayer:function(){var a=document.getElementById("edui_fixedlayer");null==a&&(a=document.createElement("div"),a.id="edui_fixedlayer",document.body.appendChild(a),c.ie&&8>=c.version?(a.style.position="absolute",e.on(window,"scroll",f),e.on(window,"resize",n.editor.utils.defer(f,0,!0)),setTimeout(f)):a.style.position="fixed",a.style.left="0",a.style.top="0",a.style.width="0",a.style.height="0");return a},makeUnselectable:function(a){if(c.opera||c.ie&&9>c.version){if(a.unselectable=
"on",a.hasChildNodes())for(var b=0;b<a.childNodes.length;b++)1==a.childNodes[b].nodeType&&g.makeUnselectable(a.childNodes[b])}else void 0!==a.style.MozUserSelect?a.style.MozUserSelect="none":void 0!==a.style.WebkitUserSelect?a.style.WebkitUserSelect="none":void 0!==a.style.KhtmlUserSelect&&(a.style.KhtmlUserSelect="none")}}})();(function(){var f=n.editor.utils,c=n.editor.ui.uiUtils,e=n.editor.EventBase,a=n.editor.ui.UIBase=function(){};a.prototype={className:"",uiName:"",initOptions:function(a){for(var e in a)this[e]=
a[e];this.id=this.id||"edui"+c.uid()},initUIBase:function(){this._globalKey=f.unhtml(c.setGlobal(this.id,this))},render:function(a){for(var e=this.renderHtml(),e=c.createElementByHtml(e),d=g.getElementsByTagName(e,"*"),f="edui-"+(this.theme||this.editor.options.theme),m=document.getElementById("edui_fixedlayer"),k=0,r;r=d[k++];)g.addClass(r,f);g.addClass(e,f);m&&(m.className="",g.addClass(m,f));d=this.getDom();null!=d?(d.parentNode.replaceChild(e,d),c.copyAttributes(e,d)):("string"==typeof a&&(a=
document.getElementById(a)),a=a||c.getFixedLayer(),g.addClass(a,f),a.appendChild(e));this.postRender()},getDom:function(a){return a?document.getElementById(this.id+"_"+a):document.getElementById(this.id)},postRender:function(){this.fireEvent("postrender")},getHtmlTpl:function(){return""},formatHtml:function(a){var c="edui-"+this.uiName;return a.replace(/##/g,this.id).replace(/%%-/g,this.uiName?c+"-":"").replace(/%%/g,(this.uiName?c:"")+" "+this.className).replace(/\$\$/g,this._globalKey)},renderHtml:function(){return this.formatHtml(this.getHtmlTpl())},
dispose:function(){var a=this.getDom();a&&n.editor.dom.domUtils.remove(a);c.unsetGlobal(this.id)}};f.inherits(a,e)})();(function(){var f=n.editor.utils,c=n.editor.ui.UIBase,e=n.editor.ui.Separator=function(a){this.initOptions(a);this.initSeparator()};e.prototype={uiName:"separator",initSeparator:function(){this.initUIBase()},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"></div>'}};f.inherits(e,c)})();(function(){var f=n.editor.utils,c=n.editor.dom.domUtils,e=n.editor.ui.UIBase,a=n.editor.ui.uiUtils,
b=n.editor.ui.Mask=function(a){this.initOptions(a);this.initUIBase()};b.prototype={getHtmlTpl:function(){return'<div id="##" class="edui-mask %%" onclick="return $$._onClick(event, this);" onmousedown="return $$._onMouseDown(event, this);"></div>'},postRender:function(){var a=this;c.on(window,"resize",function(){setTimeout(function(){a.isHidden()||a._fill()})})},show:function(a){this._fill();this.getDom().style.display="";this.getDom().style.zIndex=a},hide:function(){this.getDom().style.display="none";
this.getDom().style.zIndex=""},isHidden:function(){return"none"==this.getDom().style.display},_onMouseDown:function(){return!1},_onClick:function(a,b){this.fireEvent("click",a,b)},_fill:function(){var b=this.getDom(),c=a.getViewportRect();b.style.width=c.width+"px";b.style.height=c.height+"px"}};f.inherits(b,e)})();(function(){function f(a,b){for(var c=0;c<d.length;c++){var e=d[c];if(!e.isHidden()&&!1!==e.queryAutoHide(b)){if(a&&/scroll/ig.test(a.type)&&"edui-wordpastepop"==e.className)return;e.hide()}}d.length&&
e.editor.fireEvent("afterhidepop")}var c=n.editor.utils,e=n.editor.ui.uiUtils,a=n.editor.dom.domUtils,b=n.editor.ui.UIBase,g=n.editor.ui.Popup=function(a){this.initOptions(a);this.initPopup()},d=[];g.postHide=f;var h=["edui-anchor-topleft","edui-anchor-topright","edui-anchor-bottomleft","edui-anchor-bottomright"];g.prototype={SHADOW_RADIUS:5,content:null,_hidden:!1,autoRender:!0,canSideLeft:!0,canSideUp:!0,initPopup:function(){this.initUIBase();d.push(this)},getHtmlTpl:function(){return'<div id="##" class="edui-popup %%" onmousedown="return false;"> <div id="##_body" class="edui-popup-body"> <iframe style="position:absolute;z-index:-1;left:0;top:0;background-color: transparent;" frameborder="0" width="100%" height="100%" src="about:blank"></iframe> <div class="edui-shadow"></div> <div id="##_content" class="edui-popup-content">'+
this.getContentHtmlTpl()+"  </div> </div></div>"},getContentHtmlTpl:function(){return this.content?"string"==typeof this.content?this.content:this.content.renderHtml():""},_UIBase_postRender:b.prototype.postRender,postRender:function(){this.content instanceof b&&this.content.postRender();if(this.captureWheel&&!this.captured){this.captured=!0;var c=(document.documentElement.clientHeight||document.body.clientHeight)-80,d=this.getDom().offsetHeight,f=e.getClientRect(this.combox.getDom()).top,g=this.getDom("content"),
h=this.getDom("body").getElementsByTagName("iframe"),l=this;for(h.length&&(h=h[0]);f+d>c;)d-=30;g.style.height=d+"px";h&&(h.style.height=d+"px");if(window.XMLHttpRequest)a.on(g,"onmousewheel"in document.body?"mousewheel":"DOMMouseScroll",function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;g.scrollTop=a.wheelDelta?g.scrollTop-a.wheelDelta/120*60:g.scrollTop-a.detail/-3*60});else a.on(this.getDom(),"mousewheel",function(a){a.returnValue=!1;l.getDom("content").scrollTop-=a.wheelDelta/120*
60})}this.fireEvent("postRenderAfter");this.hide(!0);this._UIBase_postRender()},_doAutoRender:function(){!this.getDom()&&this.autoRender&&this.render()},mesureSize:function(){var a=this.getDom("content");return e.getClientRect(a)},fitSize:function(){if(this.captureWheel&&this.sized)return this.__size;this.sized=!0;var a=this.getDom("body");a.style.width="";a.style.height="";var b=this.mesureSize();if(this.captureWheel){a.style.width=-(-20-b.width)+"px";var c=parseInt(this.getDom("content").style.height,
10);!window.isNaN(c)&&(b.height=c)}else a.style.width=b.width+"px";a.style.height=b.height+"px";this.__size=b;this.captureWheel&&(this.getDom("content").style.overflow="auto");return b},showAnchor:function(a,b){this.showAnchorRect(e.getClientRect(a),b)},showAnchorRect:function(b,c,d){this._doAutoRender();var f=e.getViewportRect();this.getDom().style.visibility="hidden";this._show();d=this.fitSize();var g;c?(c=this.canSideLeft&&b.right+d.width>f.right&&b.left>d.width,f=this.canSideUp&&b.top+d.height>
f.bottom&&b.bottom>d.height,g=c?b.left-d.width:b.right,b=f?b.bottom-d.height:b.top):(c=this.canSideLeft&&b.right+d.width>f.right&&b.left>d.width,f=this.canSideUp&&b.top+d.height>f.bottom&&b.bottom>d.height,g=c?b.right-d.width:b.left,b=f?b.top-d.height:b.bottom);d=this.getDom();e.setViewportOffset(d,{left:g,top:b});a.removeClasses(d,h);d.className+=" "+h[2*(f?1:0)+(c?1:0)];this.editor&&(d.style.zIndex=1*this.editor.container.style.zIndex+10,n.editor.ui.uiUtils.getFixedLayer().style.zIndex=d.style.zIndex-
1);this.getDom().style.visibility="visible"},showAt:function(a){var b=a.left;a=a.top;this.showAnchorRect({left:b,top:a,right:b,bottom:a,height:0,width:0},!1,!0)},_show:function(){this._hidden&&(this.getDom().style.display="",this._hidden=!1,this.fireEvent("show"))},isHidden:function(){return this._hidden},show:function(){this._doAutoRender();this._show()},hide:function(a){!this._hidden&&this.getDom()&&(this.getDom().style.display="none",this._hidden=!0,a||this.fireEvent("hide"))},queryAutoHide:function(a){return!a||
!e.contains(this.getDom(),a)}};c.inherits(g,b);a.on(document,"mousedown",function(a){f(a,a.target||a.srcElement)});a.on(window,"scroll",function(a,b){f(a,b)})})();(function(){var f=n.editor.utils,c=n.editor.ui.UIBase,e=n.editor.ui.ColorPicker=function(a){this.initOptions(a);this.noColorText=this.noColorText||this.editor.getLang("clearColor");this.initUIBase()};e.prototype={getHtmlTpl:function(){for(var b=this.editor,c='<div id="##" class="edui-colorpicker %%"><div class="edui-colorpicker-topbar edui-clearfix"><div unselectable="on" id="##_preview" class="edui-colorpicker-preview"></div><div unselectable="on" class="edui-colorpicker-nocolor" onclick="$$._onPickNoColor(event, this);">'+
this.noColorText+'</div></div><table  class="edui-box" style="border-collapse: collapse;" onmouseover="$$._onTableOver(event, this);" onmouseout="$$._onTableOut(event, this);" onclick="return $$._onTableClick(event, this);" cellspacing="0" cellpadding="0"><tr style="border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;padding-top: 2px"><td colspan="10">'+b.getLang("themeColor")+'</td> </tr><tr class="edui-colorpicker-tablefirstrow" >',d=0;d<a.length;d++)d&&0===d%10&&(c+="</tr>"+
(60==d?'<tr style="border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;"><td colspan="10">'+b.getLang("standardColor")+"</td></tr>":"")+"<tr"+(60==d?' class="edui-colorpicker-tablefirstrow"':"")+">"),c+=70>d?'<td style="padding: 0 2px;"><a hidefocus title="'+a[d]+'" onclick="return false;" href="javascript:" unselectable="on" class="edui-box edui-colorpicker-colorcell" data-color="#'+a[d]+'" style="background-color:#'+a[d]+";border:solid #ccc;"+(10>d||60<=d?"border-width:1px;":
10<=d&&20>d?"border-width:1px 1px 0 1px;":"border-width:0 1px 0 1px;")+'"></a></td>':"";return c+"</tr></table></div>"},_onTableClick:function(a){(a=(a.target||a.srcElement).getAttribute("data-color"))&&this.fireEvent("pickcolor",a)},_onTableOver:function(a){if(a=(a.target||a.srcElement).getAttribute("data-color"))this.getDom("preview").style.backgroundColor=a},_onTableOut:function(){this.getDom("preview").style.backgroundColor=""},_onPickNoColor:function(){this.fireEvent("picknocolor")}};f.inherits(e,
c);var a="ffffff 000000 eeece1 1f497d 4f81bd c0504d 9bbb59 8064a2 4bacc6 f79646 f2f2f2 7f7f7f ddd9c3 c6d9f0 dbe5f1 f2dcdb ebf1dd e5e0ec dbeef3 fdeada d8d8d8 595959 c4bd97 8db3e2 b8cce4 e5b9b7 d7e3bc ccc1d9 b7dde8 fbd5b5 bfbfbf 3f3f3f 938953 548dd4 95b3d7 d99694 c3d69b b2a2c7 92cddc fac08f a5a5a5 262626 494429 17365d 366092 953734 76923c 5f497a 31859b e36c09 7f7f7f 0c0c0c 1d1b10 0f243e 244061 632423 4f6128 3f3151 205867 974806 c00000 ff0000 ffc000 ffff00 92d050 00b050 00b0f0 0070c0 002060 7030a0 ".split(" ")})();
(function(){var f=n.editor.utils,c=n.editor.ui.uiUtils,e=n.editor.ui.UIBase,a=n.editor.ui.TablePicker=function(a){this.initOptions(a);this.initTablePicker()};a.prototype={defaultNumRows:10,defaultNumCols:10,maxNumRows:20,maxNumCols:20,numRows:10,numCols:10,lengthOfCellSide:22,initTablePicker:function(){this.initUIBase()},getHtmlTpl:function(){return'<div id="##" class="edui-tablepicker %%"><div class="edui-tablepicker-body"><div class="edui-infoarea"><span id="##_label" class="edui-label"></span></div><div class="edui-pickarea" onmousemove="$$._onMouseMove(event, this);" onmouseover="$$._onMouseOver(event, this);" onmouseout="$$._onMouseOut(event, this);" onclick="$$._onClick(event, this);"><div id="##_overlay" class="edui-overlay"></div></div></div></div>'},
_UIBase_render:e.prototype.render,render:function(a){this._UIBase_render(a);this.getDom("label").innerHTML="0"+this.editor.getLang("t_row")+" x 0"+this.editor.getLang("t_col")},_track:function(a,c){var d=this.getDom("overlay").style,e=this.lengthOfCellSide;d.width=a*e+"px";d.height=c*e+"px";this.getDom("label").innerHTML=a+this.editor.getLang("t_col")+" x "+c+this.editor.getLang("t_row");this.numCols=a;this.numRows=c},_onMouseOver:function(a,e){var d=a.relatedTarget||a.fromElement;c.contains(e,d)||
e===d||(this.getDom("label").innerHTML="0"+this.editor.getLang("t_col")+" x 0"+this.editor.getLang("t_row"),this.getDom("overlay").style.visibility="")},_onMouseOut:function(a,e){var d=a.relatedTarget||a.toElement;c.contains(e,d)||e===d||(this.getDom("label").innerHTML="0"+this.editor.getLang("t_col")+" x 0"+this.editor.getLang("t_row"),this.getDom("overlay").style.visibility="hidden")},_onMouseMove:function(a,e){this.getDom("overlay");var d=c.getEventOffset(a),f=this.lengthOfCellSide,m=Math.ceil(d.left/
f),d=Math.ceil(d.top/f);this._track(m,d)},_onClick:function(){this.fireEvent("picktable",this.numCols,this.numRows)}};f.inherits(a,e)})();(function(){var f=n.editor.dom.domUtils,c=n.editor.ui.uiUtils,e='onmousedown="$$.Stateful_onMouseDown(event, this);" onmouseup="$$.Stateful_onMouseUp(event, this);"'+(n.editor.browser.ie?' onmouseenter="$$.Stateful_onMouseEnter(event, this);" onmouseleave="$$.Stateful_onMouseLeave(event, this);"':' onmouseover="$$.Stateful_onMouseOver(event, this);" onmouseout="$$.Stateful_onMouseOut(event, this);"');
n.editor.ui.Stateful={alwalysHoverable:!1,target:null,Stateful_init:function(){this._Stateful_dGetHtmlTpl=this.getHtmlTpl;this.getHtmlTpl=this.Stateful_getHtmlTpl},Stateful_getHtmlTpl:function(){return this._Stateful_dGetHtmlTpl().replace(/stateful/g,function(){return e})},Stateful_onMouseEnter:function(a,b){this.target=b;if(!this.isDisabled()||this.alwalysHoverable)this.addState("hover"),this.fireEvent("over")},Stateful_onMouseLeave:function(a,b){if(!this.isDisabled()||this.alwalysHoverable)this.removeState("hover"),
this.removeState("active"),this.fireEvent("out")},Stateful_onMouseOver:function(a,b){var e=a.relatedTarget;c.contains(b,e)||b===e||this.Stateful_onMouseEnter(a,b)},Stateful_onMouseOut:function(a,b){var e=a.relatedTarget;c.contains(b,e)||b===e||this.Stateful_onMouseLeave(a,b)},Stateful_onMouseDown:function(a,b){this.isDisabled()||this.addState("active")},Stateful_onMouseUp:function(a,b){this.isDisabled()||this.removeState("active")},Stateful_postRender:function(){this.disabled&&!this.hasState("disabled")&&
this.addState("disabled")},hasState:function(a){return f.hasClass(this.getStateDom(),"edui-state-"+a)},addState:function(a){this.hasState(a)||(this.getStateDom().className+=" edui-state-"+a)},removeState:function(a){this.hasState(a)&&f.removeClasses(this.getStateDom(),["edui-state-"+a])},getStateDom:function(){return this.getDom("state")},isChecked:function(){return this.hasState("checked")},setChecked:function(a){!this.isDisabled()&&a?this.addState("checked"):this.removeState("checked")},isDisabled:function(){return this.hasState("disabled")},
setDisabled:function(a){a?(this.removeState("hover"),this.removeState("checked"),this.removeState("active"),this.addState("disabled")):this.removeState("disabled")}}})();(function(){var f=n.editor.utils,c=n.editor.ui.UIBase,e=n.editor.ui.Stateful,a=n.editor.ui.Button=function(a){if(a.name){var c=a.name,d=a.cssRules;a.className||(a.className="edui-for-"+c);a.cssRules=".edui-default  .edui-for-"+c+" .edui-icon {"+d+"}"}this.initOptions(a);this.initButton()};a.prototype={uiName:"button",label:"",title:"",
showIcon:!0,showText:!0,cssRules:"",initButton:function(){this.initUIBase();this.Stateful_init();this.cssRules&&f.cssRule("edui-customize-"+this.name+"-style",this.cssRules)},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"><div id="##_state" stateful><div class="%%-wrap"><div id="##_body" unselectable="on" '+(this.title?'title="'+this.title+'"':"")+' class="%%-body" onmousedown="return $$._onMouseDown(event, this);" onclick="return $$._onClick(event, this);">'+(this.showIcon?'<div class="edui-box edui-icon"></div>':
"")+(this.showText?'<div class="edui-box edui-label">'+this.label+"</div>":"")+"</div></div></div></div>"},postRender:function(){this.Stateful_postRender();this.setDisabled(this.disabled)},_onMouseDown:function(a){a=a.target||a.srcElement;if(!a||!a.tagName||"input"!=a.tagName.toLowerCase()&&"object"!=a.tagName.toLowerCase())return!1},_onClick:function(){this.isDisabled()||this.fireEvent("click")},setTitle:function(a){this.getDom("label").innerHTML=a}};f.inherits(a,c);f.extend(a.prototype,e)})();(function(){var f=
n.editor.utils,c=n.editor.ui.uiUtils,e=n.editor.ui.UIBase,a=n.editor.ui.Stateful,b=n.editor.ui.SplitButton=function(a){this.initOptions(a);this.initSplitButton()};b.prototype={popup:null,uiName:"splitbutton",title:"",initSplitButton:function(){this.initUIBase();this.Stateful_init();if(null!=this.popup){var a=this.popup;this.popup=null;this.setPopup(a)}},_UIBase_postRender:e.prototype.postRender,postRender:function(){this.Stateful_postRender();this._UIBase_postRender()},setPopup:function(a){this.popup!==
a&&(null!=this.popup&&this.popup.dispose(),a.addListener("show",f.bind(this._onPopupShow,this)),a.addListener("hide",f.bind(this._onPopupHide,this)),a.addListener("postrender",f.bind(function(){a.getDom("body").appendChild(c.createElementByHtml('<div id="'+this.popup.id+'_bordereraser" class="edui-bordereraser edui-background" style="width:'+(c.getClientRect(this.getDom()).width+20)+'px"></div>'));a.getDom().className+=" "+this.className},this)),this.popup=a)},_onPopupShow:function(){this.addState("opened")},
_onPopupHide:function(){this.removeState("opened")},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"><div '+(this.title?'title="'+this.title+'"':"")+' id="##_state" stateful><div class="%%-body"><div id="##_button_body" class="edui-box edui-button-body" onclick="$$._onButtonClick(event, this);"><div class="edui-box edui-icon"></div></div><div class="edui-box edui-splitborder"></div><div class="edui-box edui-arrow" onclick="$$._onArrowClick();"></div></div></div></div>'},showPopup:function(){var a=
c.getClientRect(this.getDom());a.top-=this.popup.SHADOW_RADIUS;a.height+=this.popup.SHADOW_RADIUS;this.popup.showAnchorRect(a)},_onArrowClick:function(a,b){this.isDisabled()||this.showPopup()},_onButtonClick:function(){this.isDisabled()||this.fireEvent("buttonclick")}};f.inherits(b,e);f.extend(b.prototype,a,!0)})();(function(){var f=n.editor.utils,c=n.editor.ui.uiUtils,e=n.editor.ui.ColorPicker,a=n.editor.ui.Popup,b=n.editor.ui.SplitButton,g=n.editor.ui.ColorButton=function(a){this.initOptions(a);
this.initColorButton()};g.prototype={initColorButton:function(){var b=this;this.popup=new a({content:new e({noColorText:b.editor.getLang("clearColor"),editor:b.editor,onpickcolor:function(a,c){b._onPickColor(c)},onpicknocolor:function(a,c){b._onPickNoColor(c)}}),editor:b.editor});this.initSplitButton()},_SplitButton_postRender:b.prototype.postRender,postRender:function(){this._SplitButton_postRender();this.getDom("button_body").appendChild(c.createElementByHtml('<div id="'+this.id+'_colorlump" class="edui-colorlump"></div>'));
this.getDom().className+=" edui-colorbutton"},setColor:function(a){this.color=this.getDom("colorlump").style.backgroundColor=a},_onPickColor:function(a){!1!==this.fireEvent("pickcolor",a)&&(this.setColor(a),this.popup.hide())},_onPickNoColor:function(a){!1!==this.fireEvent("picknocolor")&&this.popup.hide()}};f.inherits(g,b)})();(function(){var f=n.editor.utils,c=n.editor.ui.Popup,e=n.editor.ui.TablePicker,a=n.editor.ui.SplitButton,b=n.editor.ui.TableButton=function(a){this.initOptions(a);this.initTableButton()};
b.prototype={initTableButton:function(){var a=this;this.popup=new c({content:new e({editor:a.editor,onpicktable:function(b,c,e){a._onPickTable(c,e)}}),editor:a.editor});this.initSplitButton()},_onPickTable:function(a,b){!1!==this.fireEvent("picktable",a,b)&&this.popup.hide()}};f.inherits(b,a)})();(function(){var f=n.editor.utils,c=n.editor.ui.UIBase,e=n.editor.ui.AutoTypeSetPicker=function(a){this.initOptions(a);this.initAutoTypeSetPicker()};e.prototype={initAutoTypeSetPicker:function(){this.initUIBase()},
getHtmlTpl:function(){var a=this.editor,b=a.options.autotypeset,c=a.getLang("autoTypeSet"),d="textAlignValue"+a.uid,e="imageBlockLineValue"+a.uid,f="symbolConverValue"+a.uid;return'<div id="##" class="edui-autotypesetpicker %%"><div class="edui-autotypesetpicker-body"><table ><tr><td nowrap><input type="checkbox" name="mergeEmptyline" '+(b.mergeEmptyline?"checked":"")+">"+c.mergeLine+'</td><td colspan="2"><input type="checkbox" name="removeEmptyline" '+(b.removeEmptyline?"checked":"")+">"+c.delLine+
'</td></tr><tr><td nowrap><input type="checkbox" name="removeClass" '+(b.removeClass?"checked":"")+">"+c.removeFormat+'</td><td colspan="2"><input type="checkbox" name="indent" '+(b.indent?"checked":"")+">"+c.indent+'</td></tr><tr><td nowrap><input type="checkbox" name="textAlign" '+(b.textAlign?"checked":"")+">"+c.alignment+'</td><td colspan="2" id="'+d+'"><input type="radio" name="'+d+'" value="left" '+(b.textAlign&&"left"==b.textAlign?"checked":"")+">"+a.getLang("justifyleft")+'<input type="radio" name="'+
d+'" value="center" '+(b.textAlign&&"center"==b.textAlign?"checked":"")+">"+a.getLang("justifycenter")+'<input type="radio" name="'+d+'" value="right" '+(b.textAlign&&"right"==b.textAlign?"checked":"")+">"+a.getLang("justifyright")+'</td></tr><tr><td nowrap><input type="checkbox" name="imageBlockLine" '+(b.imageBlockLine?"checked":"")+">"+c.imageFloat+'</td><td nowrap id="'+e+'"><input type="radio" name="'+e+'" value="none" '+(b.imageBlockLine&&"none"==b.imageBlockLine?"checked":"")+">"+a.getLang("default")+
'<input type="radio" name="'+e+'" value="left" '+(b.imageBlockLine&&"left"==b.imageBlockLine?"checked":"")+">"+a.getLang("justifyleft")+'<input type="radio" name="'+e+'" value="center" '+(b.imageBlockLine&&"center"==b.imageBlockLine?"checked":"")+">"+a.getLang("justifycenter")+'<input type="radio" name="'+e+'" value="right" '+(b.imageBlockLine&&"right"==b.imageBlockLine?"checked":"")+">"+a.getLang("justifyright")+'</td></tr><tr><td nowrap><input type="checkbox" name="clearFontSize" '+(b.clearFontSize?
"checked":"")+">"+c.removeFontsize+'</td><td colspan="2"><input type="checkbox" name="clearFontFamily" '+(b.clearFontFamily?"checked":"")+">"+c.removeFontFamily+'</td></tr><tr><td nowrap colspan="3"><input type="checkbox" name="removeEmptyNode" '+(b.removeEmptyNode?"checked":"")+">"+c.removeHtml+'</td></tr><tr><td nowrap colspan="3"><input type="checkbox" name="pasteFilter" '+(b.pasteFilter?"checked":"")+">"+c.pasteFilter+'</td></tr><tr><td nowrap><input type="checkbox" name="symbolConver" '+(b.bdc2sb||
b.tobdc?"checked":"")+">"+c.symbol+'</td><td id="'+f+'"><input type="radio" name="bdc" value="bdc2sb" '+(b.bdc2sb?"checked":"")+">"+c.bdc2sb+'<input type="radio" name="bdc" value="tobdc" '+(b.tobdc?"checked":"")+">"+c.tobdc+'</td><td nowrap align="right"><button >'+c.run+"</button></td></tr></table></div></div>"},_UIBase_render:c.prototype.render};f.inherits(e,c)})();(function(){function f(a){for(var b={},e=a.getDom(),f=a.editor.uid,l=null,l=null,k=g.getElementsByTagName(e,"input"),n=k.length-1,q;q=
k[n--];)if(l=q.getAttribute("type"),"checkbox"==l)if(l=q.getAttribute("name"),b[l]&&delete b[l],q.checked)if(q=document.getElementById(l+"Value"+f))if(/input/ig.test(q.tagName))b[l]=q.value;else{q=q.getElementsByTagName("input");for(var t=q.length-1,u;u=q[t--];)if(u.checked){b[l]=u.value;break}}else b[l]=!0;else b[l]=!1;else b[q.getAttribute("value")]=q.checked;e=g.getElementsByTagName(e,"select");for(n=0;f=e[n++];)k=f.getAttribute("name"),b[k]=b[k]?f.value:"";c.extend(a.editor.options.autotypeset,
b);a.editor.setPreferences("autotypeset",b)}var c=n.editor.utils,e=n.editor.ui.Popup,a=n.editor.ui.AutoTypeSetPicker,b=n.editor.ui.SplitButton,l=n.editor.ui.AutoTypeSetButton=function(a){this.initOptions(a);this.initAutoTypeSetButton()};l.prototype={initAutoTypeSetButton:function(){var b=this;this.popup=new e({content:new a({editor:b.editor}),editor:b.editor,hide:function(){!this._hidden&&this.getDom()&&(f(this),this.getDom().style.display="none",this._hidden=!0,this.fireEvent("hide"))}});var c=0;
this.popup.addListener("postRenderAfter",function(){var a=this;if(!c){var e=this.getDom();e.getElementsByTagName("button")[0].onclick=function(){f(a);b.editor.execCommand("autotypeset");a.hide()};g.on(e,"click",function(c){c=c.target||c.srcElement;var e=b.editor.uid;if(c&&"INPUT"==c.tagName){if("imageBlockLine"==c.name||"textAlign"==c.name||"symbolConver"==c.name)for(var g=c.checked,h=document.getElementById(c.name+"Value"+e).getElementsByTagName("input"),l={imageBlockLine:"none",textAlign:"left",
symbolConver:"tobdc"},k=0;k<h.length;k++)g?h[k].value==l[c.name]&&(h[k].checked="checked"):h[k].checked=!1;(c.name=="imageBlockLineValue"+e||c.name=="textAlignValue"+e||"bdc"==c.name)&&(c=c.parentNode.previousSibling.getElementsByTagName("input"))&&(c[0].checked=!0);f(a)}});c=1}});this.initSplitButton()}};c.inherits(l,b)})();(function(){var f=n.editor.utils,c=n.editor.ui.Popup,e=n.editor.ui.Stateful,a=n.editor.ui.UIBase,b=n.editor.ui.CellAlignPicker=function(a){this.initOptions(a);this.initSelected();
this.initCellAlignPicker()};b.prototype={initSelected:function(){var a={top:0,middle:1,bottom:2},b={left:0,center:1,right:2};this.selected&&(this.selectedIndex=3*a[this.selected.valign]+b[this.selected.align])},initCellAlignPicker:function(){this.initUIBase();this.Stateful_init()},getHtmlTpl:function(){for(var a=["left","center","right"],b=null,c=-1,e=[],f=0;9>f;f++)b=this.selectedIndex===f?' class="edui-cellalign-selected" ':"",c=f%3,0===c&&e.push("<tr>"),e.push('<td index="'+f+'" '+b+' stateful><div class="edui-icon edui-'+
a[c]+'"></div></td>'),2===c&&e.push("</tr>");return'<div id="##" class="edui-cellalignpicker %%"><div class="edui-cellalignpicker-body"><table onclick="$$._onClick(event);">'+e.join("")+"</table></div></div>"},getStateDom:function(){return this.target},_onClick:function(a){var b=a.target||a.srcElement;/icon/.test(b.className)&&(this.items[b.parentNode.getAttribute("index")].onclick(),c.postHide(a))},_UIBase_render:a.prototype.render};f.inherits(b,a);f.extend(b.prototype,e,!0)})();(function(){var f=
n.editor.utils,c=n.editor.ui.Stateful,e=n.editor.ui.uiUtils,a=n.editor.ui.UIBase,b=n.editor.ui.PastePicker=function(a){this.initOptions(a);this.initPastePicker()};b.prototype={initPastePicker:function(){this.initUIBase();this.Stateful_init()},getHtmlTpl:function(){return'<div class="edui-pasteicon" onclick="$$._onClick(this)"></div><div class="edui-pastecontainer"><div class="edui-title">'+this.editor.getLang("pasteOpt")+'</div><div class="edui-button"><div title="'+this.editor.getLang("pasteSourceFormat")+
'" onclick="$$.format(false)" stateful><div class="edui-richtxticon"></div></div><div title="'+this.editor.getLang("tagFormat")+'" onclick="$$.format(2)" stateful><div class="edui-tagicon"></div></div><div title="'+this.editor.getLang("pasteTextFormat")+'" onclick="$$.format(true)" stateful><div class="edui-plaintxticon"></div></div></div></div></div>'},getStateDom:function(){return this.target},format:function(a){this.editor.ui._isTransfer=!0;this.editor.fireEvent("pasteTransfer",a)},_onClick:function(a){var b=
g.getNextDomNode(a),c=e.getViewportRect().height,f=e.getClientRect(b);b.style.top=f.top+f.height>c?-f.height-a.offsetHeight+"px":"";/hidden/ig.test(g.getComputedStyle(b,"visibility"))?(b.style.visibility="visible",g.addClass(a,"edui-state-opened")):(b.style.visibility="hidden",g.removeClasses(a,"edui-state-opened"))},_UIBase_render:a.prototype.render};f.inherits(b,a);f.extend(b.prototype,c,!0)})();(function(){var f=n.editor.utils,c=n.editor.ui.uiUtils,e=n.editor.ui.UIBase,a=n.editor.ui.Toolbar=function(a){this.initOptions(a);
this.initToolbar()};a.prototype={items:null,initToolbar:function(){this.items=this.items||[];this.initUIBase()},add:function(a,c){void 0===c?this.items.push(a):this.items.splice(c,0,a)},getHtmlTpl:function(){for(var a=[],c=0;c<this.items.length;c++)a[c]=this.items[c].renderHtml();return'<div id="##" class="edui-toolbar %%" onselectstart="return false;" onmousedown="return $$._onMouseDown(event, this);">'+a.join("")+"</div>"},postRender:function(){for(var a=this.getDom(),e=0;e<this.items.length;e++)this.items[e].postRender();
c.makeUnselectable(a)},_onMouseDown:function(a){a=a.target||a.srcElement;if(!a||!a.tagName||"input"!=a.tagName.toLowerCase()&&"object"!=a.tagName.toLowerCase())return!1}};f.inherits(a,e)})();(function(){var f=n.editor.utils,c=n.editor.dom.domUtils,e=n.editor.ui.uiUtils,a=n.editor.ui.UIBase,b=n.editor.ui.Popup,g=n.editor.ui.Stateful,d=n.editor.ui.CellAlignPicker,h=n.editor.ui.Menu=function(a){this.initOptions(a);this.initMenu()},m={renderHtml:function(){return'<div class="edui-menuitem edui-menuseparator"><div class="edui-menuseparator-inner"></div></div>'},
postRender:function(){},queryAutoHide:function(){return!0}};h.prototype={items:null,uiName:"menu",initMenu:function(){this.items=this.items||[];this.initPopup();this.initItems()},initItems:function(){for(var a=0;a<this.items.length;a++){var b=this.items[a];"-"==b?this.items[a]=this.getSeparator():b instanceof k||(b.editor=this.editor,b.theme=this.editor.options.theme,this.items[a]=this.createItem(b))}},getSeparator:function(){return m},createItem:function(a){a.menu=this;return new k(a)},_Popup_getContentHtmlTpl:b.prototype.getContentHtmlTpl,
getContentHtmlTpl:function(){if(0==this.items.length)return this._Popup_getContentHtmlTpl();for(var a=[],b=0;b<this.items.length;b++)a[b]=this.items[b].renderHtml();return'<div class="%%-body">'+a.join("")+"</div>"},_Popup_postRender:b.prototype.postRender,postRender:function(){for(var a=this,b=0;b<this.items.length;b++){var d=this.items[b];d.ownerMenu=this;d.postRender()}c.on(this.getDom(),"mouseover",function(b){b=b||event;b=b.relatedTarget||b.fromElement;var c=a.getDom();e.contains(c,b)||c===b||
a.fireEvent("over")});this._Popup_postRender()},queryAutoHide:function(a){if(a){if(e.contains(this.getDom(),a))return!1;for(var b=0;b<this.items.length;b++)if(!1===this.items[b].queryAutoHide(a))return!1}},clearItems:function(){for(var a=0;a<this.items.length;a++){var b=this.items[a];clearTimeout(b._showingTimer);clearTimeout(b._closingTimer);b.subMenu&&b.subMenu.destroy()}this.items=[]},destroy:function(){this.getDom()&&c.remove(this.getDom());this.clearItems()},dispose:function(){this.destroy()}};
f.inherits(h,b);var k=n.editor.ui.MenuItem=function(a){this.initOptions(a);this.initUIBase();this.Stateful_init();if(this.subMenu&&!(this.subMenu instanceof h))if(a.className&&-1!=a.className.indexOf("aligntd")){var e=this;this.subMenu.selected=this.editor.queryCommandValue("cellalignment");this.subMenu=new b({content:new d(this.subMenu),parentMenu:e,editor:e.editor,destroy:function(){this.getDom()&&c.remove(this.getDom())}});this.subMenu.addListener("postRenderAfter",function(){c.on(this.getDom(),
"mouseover",function(){e.addState("opened")})})}else this.subMenu=new h(this.subMenu)};k.prototype={label:"",subMenu:null,ownerMenu:null,uiName:"menuitem",alwalysHoverable:!0,getHtmlTpl:function(){return'<div id="##" class="%%" stateful onclick="$$._onClick(event, this);"><div class="%%-body">'+this.renderLabelHtml()+"</div></div>"},postRender:function(){var a=this;this.addListener("over",function(){a.ownerMenu.fireEvent("submenuover",a);a.subMenu&&a.delayShowSubMenu()});this.subMenu&&(this.getDom().className+=
" edui-hassubmenu",this.subMenu.render(),this.addListener("out",function(){a.delayHideSubMenu()}),this.subMenu.addListener("over",function(){clearTimeout(a._closingTimer);a._closingTimer=null;a.addState("opened")}),this.ownerMenu.addListener("hide",function(){a.hideSubMenu()}),this.ownerMenu.addListener("submenuover",function(b,c){c!==a&&a.delayHideSubMenu()}),this.subMenu._bakQueryAutoHide=this.subMenu.queryAutoHide,this.subMenu.queryAutoHide=function(b){return b&&e.contains(a.getDom(),b)?!1:this._bakQueryAutoHide(b)});
this.getDom().style.tabIndex="-1";e.makeUnselectable(this.getDom());this.Stateful_postRender()},delayShowSubMenu:function(){var a=this;a.isDisabled()||(a.addState("opened"),clearTimeout(a._showingTimer),clearTimeout(a._closingTimer),a._closingTimer=null,a._showingTimer=setTimeout(function(){a.showSubMenu()},250))},delayHideSubMenu:function(){var a=this;a.isDisabled()||(a.removeState("opened"),clearTimeout(a._showingTimer),a._closingTimer||(a._closingTimer=setTimeout(function(){a.hasState("opened")||
a.hideSubMenu();a._closingTimer=null},400)))},renderLabelHtml:function(){return'<div class="edui-arrow"></div><div class="edui-box edui-icon"></div><div class="edui-box edui-label %%-label">'+(this.label||"")+"</div>"},getStateDom:function(){return this.getDom()},queryAutoHide:function(a){if(this.subMenu&&this.hasState("opened"))return this.subMenu.queryAutoHide(a)},_onClick:function(a,c){this.hasState("disabled")||!1!==this.fireEvent("click",a,c)&&(this.subMenu?this.showSubMenu():b.postHide(a))},
showSubMenu:function(){var a=e.getClientRect(this.getDom());a.right-=5;a.left+=2;a.width-=7;a.top-=4;a.bottom+=4;a.height+=8;this.subMenu.showAnchorRect(a,!0,!0)},hideSubMenu:function(){this.subMenu.hide()}};f.inherits(k,a);f.extend(k.prototype,g,!0)})();(function(){var f=n.editor.utils,c=n.editor.ui.uiUtils,e=n.editor.ui.Menu,a=n.editor.ui.SplitButton,b=n.editor.ui.Combox=function(a){this.initOptions(a);this.initCombox()};b.prototype={uiName:"combox",onbuttonclick:function(){this.showPopup()},initCombox:function(){var a=
this;this.items=this.items||[];for(var b=0;b<this.items.length;b++){var c=this.items[b];c.uiName="listitem";c.index=b;c.onclick=function(){a.selectByIndex(this.index)}}this.popup=new e({items:this.items,uiName:"list",editor:this.editor,captureWheel:!0,combox:this});this.initSplitButton()},_SplitButton_postRender:a.prototype.postRender,postRender:function(){this._SplitButton_postRender();this.setLabel(this.label||"");this.setValue(this.initValue||"")},showPopup:function(){var a=c.getClientRect(this.getDom());
a.top+=1;--a.bottom;a.height-=2;this.popup.showAnchorRect(a)},getValue:function(){return this.value},setValue:function(a){var b=this.indexByValue(a);-1!=b?(this.selectedIndex=b,this.setLabel(this.items[b].label),this.value=this.items[b].value):(this.selectedIndex=-1,this.setLabel(this.getLabelForUnknowValue(a)),this.value=a)},setLabel:function(a){this.label=this.getDom("button_body").innerHTML=a},getLabelForUnknowValue:function(a){return a},indexByValue:function(a){for(var b=0;b<this.items.length;b++)if(a==
this.items[b].value)return b;return-1},getItem:function(a){return this.items[a]},selectByIndex:function(a){a<this.items.length&&!1!==this.fireEvent("select",a)&&(this.selectedIndex=a,this.value=this.items[a].value,this.setLabel(this.items[a].label))}};f.inherits(b,a)})();(function(){var f=n.editor.utils,c=n.editor.dom.domUtils,e=n.editor.ui.uiUtils,a=n.editor.ui.Mask,b=n.editor.ui.UIBase,g=n.editor.ui.Button,d=n.editor.ui.Dialog=function(a){if(a.name){var b=a.name,c=a.cssRules;a.className||(a.className=
"edui-for-"+b);c&&(a.cssRules=".edui-default .edui-for-"+b+" .edui-dialog-content  {"+c+"}")}this.initOptions(f.extend({autoReset:!0,draggable:!0,onok:function(){},oncancel:function(){},onclose:function(a,b){return b?this.onok():this.oncancel()},holdScroll:!1},a));this.initDialog()},h,m,k;d.prototype={draggable:!1,uiName:"dialog",initDialog:function(){var b=this,c=this.editor.options.theme;this.cssRules&&f.cssRule("edui-customize-"+this.name+"-style",this.cssRules);this.initUIBase();this.modalMask=
h||(h=new a({className:"edui-dialog-modalmask",theme:c,onclick:function(){k&&k.close(!1)}}));this.dragMask=m||(m=new a({className:"edui-dialog-dragmask",theme:c}));this.closeButton=new g({className:"edui-dialog-closebutton",title:b.closeDialog,theme:c,onclick:function(){b.close(!1)}});this.fullscreen&&this.initResizeEvent();if(this.buttons)for(c=0;c<this.buttons.length;c++)this.buttons[c]instanceof g||(this.buttons[c]=new g(f.extend(this.buttons[c],{editor:this.editor},!0)))},initResizeEvent:function(){var a=
this;c.on(window,"resize",function(){a._hidden||void 0===a._hidden||(a.__resizeTimer&&window.clearTimeout(a.__resizeTimer),a.__resizeTimer=window.setTimeout(function(){a.__resizeTimer=null;var b=a.getDom(),c=a.getDom("content"),d=UE.ui.uiUtils.getClientRect(b),f=UE.ui.uiUtils.getClientRect(c),m=e.getViewportRect();c.style.width=m.width-d.width+f.width+"px";c.style.height=m.height-d.height+f.height+"px";b.style.width=m.width+"px";b.style.height=m.height+"px";a.fireEvent("resize")},100))})},fitSize:function(){var a=
this.getDom("body"),b=this.mesureSize();a.style.width=b.width+"px";a.style.height=b.height+"px";return b},safeSetOffset:function(a){var b=this.getDom(),c=e.getViewportRect(),d=e.getClientRect(b),f=a.left;f+d.width>c.right&&(f=c.right-d.width);a=a.top;a+d.height>c.bottom&&(a=c.bottom-d.height);b.style.left=Math.max(f,0)+"px";b.style.top=Math.max(a,0)+"px"},showAtCenter:function(){var a=e.getViewportRect();if(this.fullscreen){var b=this.getDom(),d=this.getDom("content");b.style.display="block";var f=
UE.ui.uiUtils.getClientRect(b),m=UE.ui.uiUtils.getClientRect(d);b.style.left="-100000px";d.style.width=a.width-f.width+m.width+"px";d.style.height=a.height-f.height+m.height+"px";b.style.width=a.width+"px";b.style.height=a.height+"px";b.style.left=0;this._originalContext={html:{overflowX:document.documentElement.style.overflowX,overflowY:document.documentElement.style.overflowY},body:{overflowX:document.body.style.overflowX,overflowY:document.body.style.overflowY}};document.documentElement.style.overflowX=
"hidden";document.documentElement.style.overflowY="hidden";document.body.style.overflowX="hidden";document.body.style.overflowY="hidden"}else this.getDom().style.display="",d=this.fitSize(),f=this.getDom("titlebar").offsetHeight|0,b=a.width/2-d.width/2,a=a.height/2-(d.height-f)/2-f,d=this.getDom(),this.safeSetOffset({left:Math.max(b|0,0),top:Math.max(a|0,0)}),c.hasClass(d,"edui-state-centered")||(d.className+=" edui-state-centered");this._show()},getContentHtml:function(){var a="";"string"==typeof this.content?
a=this.content:this.iframeUrl&&(a='<span id="'+this.id+'_contmask" class="dialogcontmask"></span><iframe id="'+this.id+'_iframe" class="%%-iframe" height="100%" width="100%" frameborder="0" src="'+this.iframeUrl+'"></iframe>');return a},getHtmlTpl:function(){var a="";if(this.buttons){for(var a=[],b=0;b<this.buttons.length;b++)a[b]=this.buttons[b].renderHtml();a='<div class="%%-foot"><div id="##_buttons" class="%%-buttons">'+a.join("")+"</div></div>"}return'<div id="##" class="%%"><div '+(this.fullscreen?
'class="%%-wrap edui-dialog-fullscreen-flag"':'class="%%"')+'><div id="##_body" class="%%-body"><div class="%%-shadow"></div><div id="##_titlebar" class="%%-titlebar"><div class="%%-draghandle" onmousedown="$$._onTitlebarMouseDown(event, this);"><span class="%%-caption">'+(this.title||"")+"</span></div>"+this.closeButton.renderHtml()+'</div><div id="##_content" class="%%-content">'+(this.autoReset?"":this.getContentHtml())+"</div>"+a+"</div></div></div>"},postRender:function(){this.modalMask.getDom()||
(this.modalMask.render(),this.modalMask.hide());this.dragMask.getDom()||(this.dragMask.render(),this.dragMask.hide());var a=this;this.addListener("show",function(){a.modalMask.show(this.getDom().style.zIndex-2)});this.addListener("hide",function(){a.modalMask.hide()});if(this.buttons)for(var b=0;b<this.buttons.length;b++)this.buttons[b].postRender();c.on(window,"resize",function(){setTimeout(function(){a.isHidden()||a.safeSetOffset(e.getClientRect(a.getDom()))})});this._hide()},mesureSize:function(){var a=
this.getDom("body"),b=e.getClientRect(this.getDom("content")).width;a.style.width=b;return e.getClientRect(a)},_onTitlebarMouseDown:function(a,b){if(this.draggable){var d;e.getViewportRect();var f=this;e.startDrag(a,{ondragstart:function(){d=e.getClientRect(f.getDom());f.getDom("contmask").style.visibility="visible";f.dragMask.show(f.getDom().style.zIndex-1)},ondragmove:function(a,b){f.safeSetOffset({left:d.left+a,top:d.top+b})},ondragstop:function(){f.getDom("contmask").style.visibility="hidden";
c.removeClasses(f.getDom(),["edui-state-centered"]);f.dragMask.hide()}})}},reset:function(){this.getDom("content").innerHTML=this.getContentHtml();this.fireEvent("dialogafterreset")},_show:function(){this._hidden&&(this.getDom().style.display="",this.editor.container.style.zIndex&&(this.getDom().style.zIndex=1*this.editor.container.style.zIndex+10),this._hidden=!1,this.fireEvent("show"),n.editor.ui.uiUtils.getFixedLayer().style.zIndex=this.getDom().style.zIndex-4)},isHidden:function(){return this._hidden},
_hide:function(){if(!this._hidden){var a=this.getDom();a.style.display="none";a.style.zIndex="";a.style.width="";a.style.height="";this._hidden=!0;this.fireEvent("hide")}},open:function(){if(this.autoReset)try{this.reset()}catch(a){this.render(),this.open()}this.showAtCenter();if(this.iframeUrl)try{this.getDom("iframe").focus()}catch(b){}k=this},_onCloseButtonClick:function(a,b){this.close(!1)},close:function(a){if(!1!==this.fireEvent("close",a)){this.fullscreen&&(document.documentElement.style.overflowX=
this._originalContext.html.overflowX,document.documentElement.style.overflowY=this._originalContext.html.overflowY,document.body.style.overflowX=this._originalContext.body.overflowX,document.body.style.overflowY=this._originalContext.body.overflowY,delete this._originalContext);this._hide();a=this.getDom("content");var b=this.getDom("iframe");a&&b&&((b=b.contentDocument||b.contentWindow.document)&&(b.body.innerHTML=""),c.remove(a))}}};f.inherits(d,b)})();(function(){var f=n.editor.utils,c=n.editor.ui.Menu,
e=n.editor.ui.SplitButton,a=n.editor.ui.MenuButton=function(a){this.initOptions(a);this.initMenuButton()};a.prototype={initMenuButton:function(){var a=this;this.uiName="menubutton";this.popup=new c({items:a.items,className:a.className,editor:a.editor});this.popup.addListener("show",function(){for(var c=0;c<this.items.length;c++)this.items[c].removeState("checked"),this.items[c].value==a._value&&(this.items[c].addState("checked"),this.value=a._value)});this.initSplitButton()},setValue:function(a){this._value=
a}};f.inherits(a,e)})();(function(){var f=n.editor.utils,c=n.editor.ui.Popup,e=n.editor.ui.SplitButton,a=n.editor.ui.MultiMenuPop=function(a){this.initOptions(a);this.initMultiMenu()};a.prototype={initMultiMenu:function(){var a=this;this.popup=new c({content:"",editor:a.editor,iframe_rendered:!1,onshow:function(){this.iframe_rendered||(this.iframe_rendered=!0,this.getDom("content").innerHTML='<iframe id="'+a.id+'_iframe" src="'+a.iframeUrl+'" frameborder="0"></iframe>',a.editor.container.style.zIndex&&
(this.getDom().style.zIndex=1*a.editor.container.style.zIndex+1))}});this.onbuttonclick=function(){this.showPopup()};this.initSplitButton()}};f.inherits(a,e)})();(function(){function f(a){if(!g.findParent(a.target||a.srcElement,function(a){return g.hasClass(a,"edui-shortcutmenu")||g.hasClass(a,"edui-popup")},!0)){a=0;for(var b;b=d[a++];)b.hide()}}var c=n.editor.ui,e=c.UIBase,a=c.uiUtils,b=n.editor.utils,g=n.editor.dom.domUtils,d=[],h,m=!1,k=c.ShortCutMenu=function(a){this.initOptions(a);this.initShortCutMenu()};
k.postHide=f;k.prototype={isHidden:!0,SPACE:5,initShortCutMenu:function(){this.items=this.items||[];this.initUIBase();this.initItems();this.initEvent();d.push(this)},initEvent:function(){var a=this,b=a.editor.document;g.on(b,"mousemove",function(b){if(!1===a.isHidden&&!a.getSubMenuMark()&&"contextmenu"!=a.eventType){var c=!0,d=a.getDom(),e=d.offsetWidth/2+a.SPACE,f=d.offsetHeight/2,m=Math.abs(b.screenX-a.left),g=Math.abs(b.screenY-a.top);clearTimeout(h);h=setTimeout(function(){0<g&&g<f?a.setOpacity(d,
"1"):g>f&&g<f+70?(a.setOpacity(d,"0.5"),c=!1):g>f+70&&g<f+140&&a.hide();c&&0<m&&m<e?a.setOpacity(d,"1"):m>e&&m<e+70?a.setOpacity(d,"0.5"):m>e+70&&m<e+140&&a.hide()})}});if(t.chrome)g.on(b,"mouseout",function(b){b=b.relatedTarget||b.toElement;null!=b&&"HTML"!=b.tagName||a.hide()});a.editor.addListener("afterhidepop",function(){a.isHidden||(m=!0)})},initItems:function(){if(b.isArray(this.items))for(var a=0,d=this.items.length;a<d;a++){var e=this.items[a].toLowerCase();c[e]&&(this.items[a]=new c[e](this.editor),
this.items[a].className+=" edui-shortcutsubmenu ")}},setOpacity:function(a,b){t.ie&&9>t.version?a.style.filter="alpha(opacity = "+100*parseFloat(b)+");":a.style.opacity=b},getSubMenuMark:function(){m=!1;for(var b=a.getFixedLayer(),b=g.getElementsByTagName(b,"div",function(a){return g.hasClass(a,"edui-shortcutsubmenu edui-popup")}),c=0,d;d=b[c++];)"none"!=d.style.display&&(m=!0);return m},show:function(b,c){function d(a){0>a.left&&(a.left=0);0>a.top&&(a.top=0);m.style.cssText="position:absolute;left:"+
a.left+"px;top:"+a.top+"px;"}function e(a){a.tagName||(a=a.getDom());f.left=parseInt(a.style.left);f.top=parseInt(a.style.top);f.top-=m.offsetHeight+15;d(f)}var f={},m=this.getDom(),h=a.getFixedLayer();this.eventType=b.type;m.style.cssText="display:block;left:-9999px";if("contextmenu"==b.type&&c){var k=g.getElementsByTagName(h,"div","edui-contextmenu")[0];k?e(k):this.editor.addListener("aftershowcontextmenu",function(a,b){e(b)})}else f=a.getViewportOffsetByEvent(b),f.top-=m.offsetHeight+this.SPACE,
f.left+=this.SPACE+20,d(f),this.setOpacity(m,.2);this.isHidden=!1;this.left=b.screenX+m.offsetWidth/2-this.SPACE;this.top=b.screenY-m.offsetHeight/2-this.SPACE;this.editor&&(m.style.zIndex=1*this.editor.container.style.zIndex+10,h.style.zIndex=m.style.zIndex-1)},hide:function(){this.getDom()&&(this.getDom().style.display="none");this.isHidden=!0},postRender:function(){if(b.isArray(this.items))for(var a=0,c;c=this.items[a++];)c.postRender()},getHtmlTpl:function(){var a;if(b.isArray(this.items)){a=
[];for(var c=0;c<this.items.length;c++)a[c]=this.items[c].renderHtml();a=a.join("")}else a=this.items;return'<div id="##" class="%% edui-toolbar" data-src="shortcutmenu" onmousedown="return false;" onselectstart="return false;" >'+a+"</div>"}};b.inherits(k,e);g.on(document,"mousedown",function(a){f(a)});g.on(window,"scroll",function(a){f(a)})})();(function(){var f=n.editor.utils,c=n.editor.ui.UIBase,e=n.editor.ui.Breakline=function(a){this.initOptions(a);this.initSeparator()};e.prototype={uiName:"Breakline",
initSeparator:function(){this.initUIBase()},getHtmlTpl:function(){return"<br/>"}};f.inherits(e,c)})();(function(){var f=n.editor.utils,c=n.editor.ui,e=c.Dialog;c.buttons={};c.Dialog=function(a){var b=new e(a);b.addListener("hide",function(){if(b.editor){var a=b.editor;try{if(t.gecko){var c=a.window.scrollY,d=a.window.scrollX;a.body.focus();a.window.scrollTo(d,c)}else a.focus()}catch(e){}}});return b};for(var a={anchor:"~/dialogs/anchor/anchor.html",insertimage:"~/dialogs/image/image.html",link:"~/dialogs/link/link.html",
spechars:"~/dialogs/spechars/spechars.html",searchreplace:"~/dialogs/searchreplace/searchreplace.html",map:"~/dialogs/map/map.html",gmap:"~/dialogs/gmap/gmap.html",insertvideo:"~/dialogs/video/video.html",help:"~/dialogs/help/help.html",preview:"~/dialogs/preview/preview.html",emotion:"~/dialogs/emotion/emotion.html",wordimage:"~/dialogs/wordimage/wordimage.html",attachment:"~/dialogs/attachment/attachment.html",insertframe:"~/dialogs/insertframe/insertframe.html",edittip:"~/dialogs/table/edittip.html",
edittable:"~/dialogs/table/edittable.html",edittd:"~/dialogs/table/edittd.html",webapp:"~/dialogs/webapp/webapp.html",snapscreen:"~/dialogs/snapscreen/snapscreen.html",scrawl:"~/dialogs/scrawl/scrawl.html",music:"~/dialogs/music/music.html",template:"~/dialogs/template/template.html",background:"~/dialogs/background/background.html",charts:"~/dialogs/charts/charts.html"},b="undo redo formatmatch bold italic underline fontborder touppercase tolowercase strikethrough subscript superscript source indent outdent blockquote pasteplain pagebreak selectall print horizontal removeformat time date unlink insertparagraphbeforetable insertrow insertcol mergeright mergedown deleterow deletecol splittorows splittocols splittocells mergecells deletetable drafts".split(" "),
g=0,d;d=b[g++];)d=d.toLowerCase(),c[d]=function(a){return function(b){var d=new c.Button({className:"edui-for-"+a,title:b.options.labelMap[a]||b.getLang("labelMap."+a)||"",onclick:function(){b.execCommand(a)},theme:b.options.theme,showText:!1});c.buttons[a]=d;b.addListener("selectionchange",function(c,e,f){c=b.queryCommandState(a);-1==c?(d.setDisabled(!0),d.setChecked(!1)):f||(d.setDisabled(!1),d.setChecked(c))});return d}}(d);c.cleardoc=function(a){var b=new c.Button({className:"edui-for-cleardoc",
title:a.options.labelMap.cleardoc||a.getLang("labelMap.cleardoc")||"",theme:a.options.theme,onclick:function(){confirm(a.getLang("confirmClear"))&&a.execCommand("cleardoc")}});c.buttons.cleardoc=b;a.addListener("selectionchange",function(){b.setDisabled(-1==a.queryCommandState("cleardoc"))});return b};var b={justify:["left","right","center","justify"],imagefloat:["none","left","center","right"],directionality:["ltr","rtl"]},h;for(h in b)(function(a,b){for(var d=0,e;e=b[d++];)(function(b){c[a.replace("float",
"")+b]=function(d){var e=new c.Button({className:"edui-for-"+a.replace("float","")+b,title:d.options.labelMap[a.replace("float","")+b]||d.getLang("labelMap."+a.replace("float","")+b)||"",theme:d.options.theme,onclick:function(){d.execCommand(a,b)}});c.buttons[a]=e;d.addListener("selectionchange",function(c,f,g){e.setDisabled(-1==d.queryCommandState(a));e.setChecked(d.queryCommandValue(a)==b&&!g)});return e}})(e)})(h,b[h]);for(g=0;d=["backcolor","forecolor"][g++];)c[d]=function(a){return function(b){var d=
new c.ColorButton({className:"edui-for-"+a,color:"default",title:b.options.labelMap[a]||b.getLang("labelMap."+a)||"",editor:b,onpickcolor:function(c,d){b.execCommand(a,d)},onpicknocolor:function(){b.execCommand(a,"default");this.setColor("transparent");this.color="default"},onbuttonclick:function(){b.execCommand(a,this.color)}});c.buttons[a]=d;b.addListener("selectionchange",function(){d.setDisabled(-1==b.queryCommandState(a))});return d}}(d);b={noOk:["searchreplace","help","spechars","webapp","preview"],
ok:"attachment anchor link insertimage map gmap insertframe wordimage insertvideo insertframe edittip edittable edittd scrawl template music background charts".split(" ")};for(h in b)(function(b,d){for(var e=0,g;g=d[e++];)t.opera&&"searchreplace"===g||function(d){c[d]=function(e,g,h){g=g||(e.options.iframeUrlMap||{})[d]||a[d];h=e.options.labelMap[d]||e.getLang("labelMap."+d)||"";var l;g&&(l=new c.Dialog(f.extend({iframeUrl:e.ui.mapUrl(g),editor:e,className:"edui-for-"+d,title:h,holdScroll:"insertimage"===
d,fullscreen:/charts|preview/.test(d),closeDialog:e.getLang("closeDialog")},"ok"==b?{buttons:[{className:"edui-okbutton",label:e.getLang("ok"),editor:e,onclick:function(){l.close(!0)}},{className:"edui-cancelbutton",label:e.getLang("cancel"),editor:e,onclick:function(){l.close(!1)}}]}:{})),e.ui._dialogs[d+"Dialog"]=l);var k=new c.Button({className:"edui-for-"+d,title:h,onclick:function(){if(l)switch(d){case "wordimage":var a=e.execCommand("wordimage");a&&a.length&&(l.render(),l.open());break;case "scrawl":-1!=
e.queryCommandState("scrawl")&&(l.render(),l.open());break;default:l.render(),l.open()}},theme:e.options.theme,disabled:"scrawl"==d&&-1==e.queryCommandState("scrawl")||"charts"==d});c.buttons[d]=k;e.addListener("selectionchange",function(){if(!(d in{edittable:1})){var a=e.queryCommandState(d);k.getDom()&&(k.setDisabled(-1==a),k.setChecked(a))}});return k}}(g.toLowerCase())})(h,b[h]);c.snapscreen=function(b,d,e){e=b.options.labelMap.snapscreen||b.getLang("labelMap.snapscreen")||"";var f=new c.Button({className:"edui-for-snapscreen",
title:e,onclick:function(){b.execCommand("snapscreen")},theme:b.options.theme});c.buttons.snapscreen=f;if(d=d||(b.options.iframeUrlMap||{}).snapscreen||a.snapscreen){var g=new c.Dialog({iframeUrl:b.ui.mapUrl(d),editor:b,className:"edui-for-snapscreen",title:e,buttons:[{className:"edui-okbutton",label:b.getLang("ok"),editor:b,onclick:function(){g.close(!0)}},{className:"edui-cancelbutton",label:b.getLang("cancel"),editor:b,onclick:function(){g.close(!1)}}]});g.render();b.ui._dialogs.snapscreenDialog=
g}b.addListener("selectionchange",function(){f.setDisabled(-1==b.queryCommandState("snapscreen"))});return f};c.insertcode=function(a,b,d){b=a.options.insertcode||[];d=a.options.labelMap.insertcode||a.getLang("labelMap.insertcode")||"";var e=[];f.each(b,function(b,c){e.push({label:b,value:c,theme:a.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" >'+(this.label||"")+"</div>"}})});var g=new c.Combox({editor:a,items:e,onselect:function(b,c){a.execCommand("insertcode",
this.items[c].value)},onbuttonclick:function(){this.showPopup()},title:d,initValue:d,className:"edui-for-insertcode",indexByValue:function(a){if(a)for(var b=0,c;c=this.items[b];b++)if(-1!=c.value.indexOf(a))return b;return-1}});c.buttons.insertcode=g;a.addListener("selectionchange",function(b,c,e){e||(-1==a.queryCommandState("insertcode")?g.setDisabled(!0):(g.setDisabled(!1),(b=a.queryCommandValue("insertcode"))?(b&&(b=b.replace(/['"]/g,"").split(",")[0]),g.setValue(b)):g.setValue(d)))});return g};
c.fontfamily=function(a,b,d){b=a.options.fontfamily||[];d=a.options.labelMap.fontfamily||a.getLang("labelMap.fontfamily")||"";if(b.length){for(var e=0,g,h=[];g=b[e];e++){var l=a.getLang("fontfamily")[g.name]||"";(function(b,c){h.push({label:b,value:c,theme:a.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" style="font-family:'+f.unhtml(this.value)+'">'+(this.label||"")+"</div>"}})})(g.label||l,g.val)}var k=new c.Combox({editor:a,items:h,onselect:function(b,c){a.execCommand("FontFamily",
this.items[c].value)},onbuttonclick:function(){this.showPopup()},title:d,initValue:d,className:"edui-for-fontfamily",indexByValue:function(a){if(a)for(var b=0,c;c=this.items[b];b++)if(-1!=c.value.indexOf(a))return b;return-1}});c.buttons.fontfamily=k;a.addListener("selectionchange",function(b,c,d){d||(-1==a.queryCommandState("FontFamily")?k.setDisabled(!0):(k.setDisabled(!1),(b=a.queryCommandValue("FontFamily"))&&(b=b.replace(/['"]/g,"").split(",")[0]),k.setValue(b)))});return k}};c.fontsize=function(a,
b,d){d=a.options.labelMap.fontsize||a.getLang("labelMap.fontsize")||"";b=b||a.options.fontsize||[];if(b.length){for(var e=[],f=0;f<b.length;f++){var g=b[f]+"px";e.push({label:g,value:g,theme:a.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" style="line-height:1;font-size:'+this.value+'">'+(this.label||"")+"</div>"}})}var h=new c.Combox({editor:a,items:e,title:d,initValue:d,onselect:function(b,c){a.execCommand("FontSize",this.items[c].value)},onbuttonclick:function(){this.showPopup()},
className:"edui-for-fontsize"});c.buttons.fontsize=h;a.addListener("selectionchange",function(b,c,d){d||(-1==a.queryCommandState("FontSize")?h.setDisabled(!0):(h.setDisabled(!1),h.setValue(a.queryCommandValue("FontSize"))))});return h}};c.paragraph=function(a,b,d){d=a.options.labelMap.paragraph||a.getLang("labelMap.paragraph")||"";b=a.options.paragraph||[];if(!f.isEmptyObject(b)){var e=[],g;for(g in b)e.push({value:g,label:b[g]||a.getLang("paragraph")[g],theme:a.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label"><span class="edui-for-'+
this.value+'">'+(this.label||"")+"</span></div>"}});var h=new c.Combox({editor:a,items:e,title:d,initValue:d,className:"edui-for-paragraph",onselect:function(b,c){a.execCommand("Paragraph",this.items[c].value)},onbuttonclick:function(){this.showPopup()}});c.buttons.paragraph=h;a.addListener("selectionchange",function(b,c,d){d||(-1==a.queryCommandState("Paragraph")?h.setDisabled(!0):(h.setDisabled(!1),b=a.queryCommandValue("Paragraph"),-1!=h.indexByValue(b)?h.setValue(b):h.setValue(h.initValue)))});
return h}};c.customstyle=function(a){var b=a.options.customstyle||[],d=a.options.labelMap.customstyle||a.getLang("labelMap.customstyle")||"";if(b.length){for(var e=a.getLang("customstyle"),f=0,g=[],h;h=b[f++];)(function(b){var c={};c.label=b.label?b.label:e[b.name];c.style=b.style;c.className=b.className;c.tag=b.tag;g.push({label:c.label,value:c,theme:a.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label"><'+c.tag+" "+(c.className?' class="'+c.className+'"':"")+(c.style?
' style="'+c.style+'"':"")+">"+c.label+"</"+c.tag+"></div>"}})})(h);var l=new c.Combox({editor:a,items:g,title:d,initValue:d,className:"edui-for-customstyle",onselect:function(b,c){a.execCommand("customstyle",this.items[c].value)},onbuttonclick:function(){this.showPopup()},indexByValue:function(a){for(var b=0,c;c=this.items[b++];)if(c.label==a)return b-1;return-1}});c.buttons.customstyle=l;a.addListener("selectionchange",function(b,c,d){d||(-1==a.queryCommandState("customstyle")?l.setDisabled(!0):
(l.setDisabled(!1),b=a.queryCommandValue("customstyle"),-1!=l.indexByValue(b)?l.setValue(b):l.setValue(l.initValue)))});return l}};c.inserttable=function(a,b,d){d=a.options.labelMap.inserttable||a.getLang("labelMap.inserttable")||"";var e=new c.TableButton({editor:a,title:d,className:"edui-for-inserttable",onpicktable:function(b,c,d){a.execCommand("InsertTable",{numRows:d,numCols:c,border:1})},onbuttonclick:function(){this.showPopup()}});c.buttons.inserttable=e;a.addListener("selectionchange",function(){e.setDisabled(-1==
a.queryCommandState("inserttable"))});return e};c.lineheight=function(a){var b=a.options.lineheight||[];if(b.length){for(var d=0,e,f=[];e=b[d++];)f.push({label:e,value:e,theme:a.options.theme,onclick:function(){a.execCommand("lineheight",this.value)}});var g=new c.MenuButton({editor:a,className:"edui-for-lineheight",title:a.options.labelMap.lineheight||a.getLang("labelMap.lineheight")||"",items:f,onbuttonclick:function(){var b=a.queryCommandValue("LineHeight")||this.value;a.execCommand("LineHeight",
b)}});c.buttons.lineheight=g;a.addListener("selectionchange",function(){var b=a.queryCommandState("LineHeight");if(-1==b)g.setDisabled(!0);else{g.setDisabled(!1);var c=a.queryCommandValue("LineHeight");c&&g.setValue((c+"").replace(/cm/,""));g.setChecked(b)}});return g}};h=["top","bottom"];for(b=0;g=h[b++];)(function(a){c["rowspacing"+a]=function(b){var d=b.options["rowspacing"+a]||[];if(!d.length)return null;for(var e=0,f,g=[];f=d[e++];)g.push({label:f,value:f,theme:b.options.theme,onclick:function(){b.execCommand("rowspacing",
this.value,a)}});var h=new c.MenuButton({editor:b,className:"edui-for-rowspacing"+a,title:b.options.labelMap["rowspacing"+a]||b.getLang("labelMap.rowspacing"+a)||"",items:g,onbuttonclick:function(){var c=b.queryCommandValue("rowspacing",a)||this.value;b.execCommand("rowspacing",c,a)}});c.buttons[a]=h;b.addListener("selectionchange",function(){var c=b.queryCommandState("rowspacing",a);if(-1==c)h.setDisabled(!0);else{h.setDisabled(!1);var d=b.queryCommandValue("rowspacing",a);d&&h.setValue((d+"").replace(/%/,
""));h.setChecked(c)}});return h}})(g);h=["insertorderedlist","insertunorderedlist"];for(b=0;g=h[b++];)(function(a){c[a]=function(b){var d=b.options[a],e=function(){b.execCommand(a,this.value)},f=[],g;for(g in d)f.push({label:d[g]||b.getLang()[a][g]||"",value:g,theme:b.options.theme,onclick:e});var h=new c.MenuButton({editor:b,className:"edui-for-"+a,title:b.getLang("labelMap."+a)||"",items:f,onbuttonclick:function(){var c=b.queryCommandValue(a)||this.value;b.execCommand(a,c)}});c.buttons[a]=h;b.addListener("selectionchange",
function(){var c=b.queryCommandState(a);if(-1==c)h.setDisabled(!0);else{h.setDisabled(!1);var d=b.queryCommandValue(a);h.setValue(d);h.setChecked(c)}});return h}})(g);c.fullscreen=function(a,b){b=a.options.labelMap.fullscreen||a.getLang("labelMap.fullscreen")||"";var d=new c.Button({className:"edui-for-fullscreen",title:b,theme:a.options.theme,onclick:function(){a.ui&&a.ui.setFullScreen(!a.ui.isFullScreen());this.setChecked(a.ui.isFullScreen())}});c.buttons.fullscreen=d;a.addListener("selectionchange",
function(){var b=a.queryCommandState("fullscreen");d.setDisabled(-1==b);d.setChecked(a.ui.isFullScreen())});return d};c.emotion=function(b,d){var e=new c.MultiMenuPop({title:b.options.labelMap.emotion||b.getLang("labelMap.emotion")||"",editor:b,className:"edui-for-emotion",iframeUrl:b.ui.mapUrl(d||(b.options.iframeUrlMap||{}).emotion||a.emotion)});c.buttons.emotion=e;b.addListener("selectionchange",function(){e.setDisabled(-1==b.queryCommandState("emotion"))});return e};c.autotypeset=function(a){var b=
new c.AutoTypeSetButton({editor:a,title:a.options.labelMap.autotypeset||a.getLang("labelMap.autotypeset")||"",className:"edui-for-autotypeset",onbuttonclick:function(){a.execCommand("autotypeset")}});c.buttons.autotypeset=b;a.addListener("selectionchange",function(){b.setDisabled(-1==a.queryCommandState("autotypeset"))});return b};c.simpleupload=function(a){var b=new c.Button({className:"edui-for-simpleupload",title:a.options.labelMap.simpleupload||a.getLang("labelMap.simpleupload")||"",onclick:function(){},
theme:a.options.theme,showText:!1});c.buttons.simpleupload=b;a.addListener("ready",function(){var c=b.getDom("body").children[0];a.fireEvent("simpleuploadbtnready",c)});a.addListener("selectionchange",function(c,d,e){c=a.queryCommandState("simpleupload");-1==c?(b.setDisabled(!0),b.setChecked(!1)):e||(b.setDisabled(!1),b.setChecked(c))});return b}})();(function(){function f(a){this.initOptions(a);this.initEditorUI()}var c=n.editor.utils,e=n.editor.ui.uiUtils,a=n.editor.ui.UIBase,b=n.editor.dom.domUtils,
g=[];f.prototype={uiName:"editor",initEditorUI:function(){function a(b,c){b.setOpt({wordCount:!0,maximumWords:1E4,wordCountMsg:b.options.wordCountMsg||b.getLang("wordCountMsg"),wordOverFlowMsg:b.options.wordOverFlowMsg||b.getLang("wordOverFlowMsg")});var d=b.options,e=d.maximumWords,f=d.wordCountMsg,g=d.wordOverFlowMsg,h=c.getDom("wordcount");d.wordCount&&(d=b.getContentLength(!0),d>e?(h.innerHTML=g,b.fireEvent("wordcountoverflow")):h.innerHTML=f.replace("{#leave}",e-d).replace("{#count}",d))}this.editor.ui=
this;this._dialogs={};this.initUIBase();this._initToolbars();var c=this.editor,d=this;c.addListener("ready",function(){c.getDialog=function(a){return c.ui._dialogs[a+"Dialog"]};b.on(c.window,"scroll",function(a){n.editor.ui.Popup.postHide(a)});c.ui._actualFrameWidth=c.options.initialFrameWidth;UE.browser.ie&&6===UE.browser.version&&c.container.ownerDocument.execCommand("BackgroundImageCache",!1,!0);c.options.elementPathEnabled&&(c.ui.getDom("elementpath").innerHTML='<div class="edui-editor-breadcrumb">'+
c.getLang("elementPathTip")+":</div>");c.options.wordCount&&(b.on(c.document,"click",function(){a(c,d);b.un(c.document,"click",arguments.callee)}),c.ui.getDom("wordcount").innerHTML=c.getLang("wordCountTip"));c.ui._scale();c.options.scaleEnabled?(c.autoHeightEnabled&&c.disableAutoHeight(),d.enableScale()):d.disableScale();c.options.elementPathEnabled||c.options.wordCount||c.options.scaleEnabled||(c.ui.getDom("elementpath").style.display="none",c.ui.getDom("wordcount").style.display="none",c.ui.getDom("scale").style.display=
"none");c.selection.isFocus()&&c.fireEvent("selectionchange",!1,!0)});c.addListener("mousedown",function(a,b){n.editor.ui.Popup.postHide(b,b.target||b.srcElement);n.editor.ui.ShortCutMenu.postHide(b)});c.addListener("delcells",function(){UE.ui.edittip&&new UE.ui.edittip(c);c.getDialog("edittip").open()});var e,f=!1,g;c.addListener("afterpaste",function(){c.queryCommandState("pasteplain")||(n.editor.ui.PastePicker&&(e=new n.editor.ui.Popup({content:new n.editor.ui.PastePicker({editor:c}),editor:c,
className:"edui-wordpastepop"}),e.render()),f=!0)});c.addListener("afterinserthtml",function(){clearTimeout(g);g=setTimeout(function(){if(e&&(f||c.ui._isTransfer)){if(e.isHidden()){var a=b.createElement(c.document,"span",{style:"line-height:0px;",innerHTML:"\ufeff"});c.selection.getRange().insertNode(a);var d=q(a,"firstChild","previousSibling");d&&e.showAnchor(3==d.nodeType?d.parentNode:d);b.remove(a)}else e.show();delete c.ui._isTransfer;f=!1}},200)});c.addListener("contextmenu",function(a,b){n.editor.ui.Popup.postHide(b)});
c.addListener("keydown",function(a,b){e&&e.dispose(b);var c=b.keyCode||b.which;if(b.altKey&&90==c)UE.ui.buttons.fullscreen.onclick()});c.addListener("wordcount",function(b){a(this,d)});c.addListener("selectionchange",function(){if(c.options.elementPathEnabled)d[(-1==c.queryCommandState("elementpath")?"dis":"en")+"ableElementPath"]();if(c.options.scaleEnabled)d[(-1==c.queryCommandState("scale")?"dis":"en")+"ableScale"]()});var l=new n.editor.ui.Popup({editor:c,content:"",className:"edui-bubble",_onEditButtonClick:function(){this.hide();
c.ui._dialogs.linkDialog.open()},_onImgEditButtonClick:function(a){this.hide();c.ui._dialogs[a]&&c.ui._dialogs[a].open()},_onImgSetFloat:function(a){this.hide();c.execCommand("imagefloat",a)},_setIframeAlign:function(a){var c=l.anchorEl,d=c.cloneNode(!0);switch(a){case -2:d.setAttribute("align","");break;case -1:d.setAttribute("align","left");break;case 1:d.setAttribute("align","right")}c.parentNode.insertBefore(d,c);b.remove(c);l.anchorEl=d;l.showAnchor(l.anchorEl)},_updateIframe:function(){var a=
c._iframe=l.anchorEl;b.hasClass(a,"ueditor_baidumap")?(c.selection.getRange().selectNode(a).select(),c.ui._dialogs.mapDialog.open()):c.ui._dialogs.insertframeDialog.open();l.hide()},_onRemoveButtonClick:function(a){c.execCommand(a);this.hide()},queryAutoHide:function(a){return a&&a.ownerDocument==c.document&&("img"==a.tagName.toLowerCase()||b.findParentByTagName(a,"a",!0))?a!==l.anchorEl:n.editor.ui.Popup.prototype.queryAutoHide.call(this,a)}});l.render();c.options.imagePopup&&(c.addListener("mouseover",
function(a,b){b=b||window.event;var d=b.target||b.srcElement;if(c.ui._dialogs.insertframeDialog&&/iframe/ig.test(d.tagName)){var e=l.formatHtml("<nobr>"+c.getLang("property")+': <span onclick=$$._setIframeAlign(-2) class="edui-clickable">'+c.getLang("default")+'</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(-1) class="edui-clickable">'+c.getLang("justifyleft")+'</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(1) class="edui-clickable">'+c.getLang("justifyright")+'</span>&nbsp;&nbsp; <span onclick="$$._updateIframe( this);" class="edui-clickable">'+
c.getLang("modify")+"</span></nobr>");e?(l.getDom("content").innerHTML=e,l.anchorEl=d,l.showAnchor(l.anchorEl)):l.hide()}}),c.addListener("selectionchange",function(a,d){if(d){var e="",f="",g=c.selection.getRange().getClosedNode(),f=c.ui._dialogs;if(g&&"IMG"==g.tagName){var h="insertimageDialog";if(-1!=g.className.indexOf("edui-faked-video")||-1!=g.className.indexOf("edui-upload-video"))h="insertvideoDialog";-1!=g.className.indexOf("edui-faked-webapp")&&(h="webappDialog");-1!=g.src.indexOf("http://api.map.baidu.com")&&
(h="mapDialog");-1!=g.className.indexOf("edui-faked-music")&&(h="musicDialog");-1!=g.src.indexOf("http://maps.google.com/maps/api/staticmap")&&(h="gmapDialog");g.getAttribute("anchorname")&&(h="anchorDialog",e=l.formatHtml("<nobr>"+c.getLang("property")+': <span onclick=$$._onImgEditButtonClick("anchorDialog") class="edui-clickable">'+c.getLang("modify")+"</span>&nbsp;&nbsp;<span onclick=$$._onRemoveButtonClick('anchor') class=\"edui-clickable\">"+c.getLang("delete")+"</span></nobr>"));g.getAttribute("word_img")&&
(c.word_img=[g.getAttribute("word_img")],h="wordimageDialog");if(b.hasClass(g,"loadingclass")||b.hasClass(g,"loaderrorclass"))h="";if(!f[h])return;f="<nobr>"+c.getLang("property")+': <span onclick=$$._onImgSetFloat("none") class="edui-clickable">'+c.getLang("default")+'</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("left") class="edui-clickable">'+c.getLang("justifyleft")+'</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("right") class="edui-clickable">'+c.getLang("justifyright")+'</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("center") class="edui-clickable">'+
c.getLang("justifycenter")+"</span>&nbsp;&nbsp;<span onclick=\"$$._onImgEditButtonClick('"+h+'\');" class="edui-clickable">'+c.getLang("modify")+"</span></nobr>";!e&&(e=l.formatHtml(f))}if(c.ui._dialogs.linkDialog){var k=c.queryCommandValue("link"),n;k&&(n=k.getAttribute("_href")||k.getAttribute("href",2))&&(f=n,30<n.length&&(f=n.substring(0,20)+"..."),e&&(e+='<div style="height:5px;"></div>'),e+=l.formatHtml("<nobr>"+c.getLang("anthorMsg")+': <a target="_blank" href="'+n+'" title="'+n+'" >'+f+'</a> <span class="edui-clickable" onclick="$$._onEditButtonClick();">'+
c.getLang("modify")+'</span> <span class="edui-clickable" onclick="$$._onRemoveButtonClick(\'unlink\');"> '+c.getLang("clear")+"</span></nobr>"),l.showAnchor(k))}e?(l.getDom("content").innerHTML=e,l.anchorEl=g||k,l.showAnchor(l.anchorEl)):l.hide()}}))},_initToolbars:function(){for(var a=this.editor,b=this.toolbars||[],d=[],e=0;e<b.length;e++){for(var f=b[e],g=new n.editor.ui.Toolbar({theme:a.options.theme}),l=0;l<f.length;l++){var k=f[l],q=null;if("string"==typeof k){if(k=k.toLowerCase(),"|"==k&&
(k="Separator"),"||"==k&&(k="Breakline"),n.editor.ui[k]&&(q=new n.editor.ui[k](a)),"fullscreen"==k){d&&d[0]?d[0].items.splice(0,0,q):q&&g.items.splice(0,0,q);continue}}else q=k;q&&q.id&&g.add(q)}d[e]=g}c.each(UE._customizeUI,function(b,c){var d,e;if(b.id&&b.id!=a.key)return!1;if(d=b.execFn.call(a,a,c))e=b.index,void 0===e&&(e=g.items.length),g.add(d,e)});this.toolbars=d},getHtmlTpl:function(){return'<div id="##" class="%%"><div id="##_toolbarbox" class="%%-toolbarbox">'+(this.toolbars.length?'<div id="##_toolbarboxouter" class="%%-toolbarboxouter"><div class="%%-toolbarboxinner">'+
this.renderToolbarBoxHtml()+"</div></div>":"")+'<div id="##_toolbarmsg" class="%%-toolbarmsg" style="display:none;"><div id = "##_upload_dialog" class="%%-toolbarmsg-upload" onclick="$$.showWordImageDialog();">'+this.editor.getLang("clickToUpload")+'</div><div class="%%-toolbarmsg-close" onclick="$$.hideToolbarMsg();">x</div><div id="##_toolbarmsg_label" class="%%-toolbarmsg-label"></div><div style="height:0;overflow:hidden;clear:both;"></div></div></div><div id="##_iframeholder" class="%%-iframeholder"></div><div id="##_bottombar" class="%%-bottomContainer"><table><tr><td id="##_elementpath" class="%%-bottombar"></td><td id="##_wordcount" class="%%-wordcount"></td><td id="##_scale" class="%%-scale"><div class="%%-icon"></div></td></tr></table></div><div id="##_scalelayer"></div></div>'},
showWordImageDialog:function(){this._dialogs.wordimageDialog.open()},renderToolbarBoxHtml:function(){for(var a=[],b=0;b<this.toolbars.length;b++)a.push(this.toolbars[b].renderHtml());return a.join("")},setFullScreen:function(a){var b=this.editor,c=b.container.parentNode.parentNode;if(this._fullscreen!=a){this._fullscreen=a;this.editor.fireEvent("beforefullscreenchange",a);if(n.editor.browser.gecko)var d=b.selection.getRange().createBookmark();if(a){for(;"BODY"!=c.tagName;){var e=n.editor.dom.domUtils.getComputedStyle(c,
"position");g.push(e);c.style.position="static";c=c.parentNode}this._bakHtmlOverflow=document.documentElement.style.overflow;this._bakBodyOverflow=document.body.style.overflow;this._bakAutoHeight=this.editor.autoHeightEnabled;this._bakScrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop);this._bakEditorContaninerWidth=b.iframe.parentNode.offsetWidth;this._bakAutoHeight&&(b.autoHeightEnabled=!1,this.editor.disableAutoHeight());document.documentElement.style.overflow="hidden";
window.scrollTo(0,window.scrollY);this._bakCssText=this.getDom().style.cssText;this._bakCssText1=this.getDom("iframeholder").style.cssText;b.iframe.parentNode.style.width="";this._updateFullScreen()}else{for(;"BODY"!=c.tagName;)c.style.position=g.shift(),c=c.parentNode;this.getDom().style.cssText=this._bakCssText;this.getDom("iframeholder").style.cssText=this._bakCssText1;this._bakAutoHeight&&(b.autoHeightEnabled=!0,this.editor.enableAutoHeight());document.documentElement.style.overflow=this._bakHtmlOverflow;
document.body.style.overflow=this._bakBodyOverflow;b.iframe.parentNode.style.width=this._bakEditorContaninerWidth+"px";window.scrollTo(0,this._bakScrollTop)}if(t.gecko&&"true"===b.body.contentEditable){var f=document.createElement("input");document.body.appendChild(f);b.body.contentEditable=!1;setTimeout(function(){f.focus();setTimeout(function(){b.body.contentEditable=!0;b.fireEvent("fullscreenchanged",a);b.selection.getRange().moveToBookmark(d).select(!0);n.editor.dom.domUtils.remove(f);a&&window.scroll(0,
0)},0)},0)}"true"===b.body.contentEditable&&(this.editor.fireEvent("fullscreenchanged",a),this.triggerLayout())}},_updateFullScreen:function(){if(this._fullscreen){var a=e.getViewportRect();this.getDom().style.cssText="border:0;position:absolute;left:0;top:"+(this.editor.options.topOffset||0)+"px;width:"+a.width+"px;height:"+a.height+"px;z-index:"+(1*this.getDom().style.zIndex+100);e.setViewportOffset(this.getDom(),{left:0,top:this.editor.options.topOffset||0});this.editor.setHeight(a.height-this.getDom("toolbarbox").offsetHeight-
this.getDom("bottombar").offsetHeight-(this.editor.options.topOffset||0),!0);if(t.gecko)try{window.onresize()}catch(b){}}},_updateElementPath:function(){var a=this.getDom("elementpath"),b;if(this.elementPathEnabled&&(b=this.editor.queryCommandValue("elementpath"))){for(var c=[],d=0,e;e=b[d];d++)c[d]=this.formatHtml('<span unselectable="on" onclick="$$.editor.execCommand(&quot;elementpath&quot;, &quot;'+d+'&quot;);">'+e+"</span>");a.innerHTML='<div class="edui-editor-breadcrumb" onmousedown="return false;">'+
this.editor.getLang("elementPathTip")+": "+c.join(" &gt; ")+"</div>"}else a.style.display="none"},disableElementPath:function(){var a=this.getDom("elementpath");a.innerHTML="";a.style.display="none";this.elementPathEnabled=!1},enableElementPath:function(){this.getDom("elementpath").style.display="";this.elementPathEnabled=!0;this._updateElementPath()},_scale:function(){function a(){A=b.getXY(l);F||(F=g.options.minFrameHeight+n.offsetHeight+q.offsetHeight);v.style.cssText="position:absolute;left:0;display:;top:0;background-color:#41ABFF;opacity:0.4;filter: Alpha(opacity=40);width:"+
l.offsetWidth+"px;height:"+l.offsetHeight+"px;z-index:"+(g.options.zIndex+1);b.on(f,"mousemove",c);b.on(k,"mouseup",d);b.on(f,"mouseup",d)}function c(a){e();a=a||window.event;da=a.pageX||f.documentElement.scrollLeft+a.clientX;M=a.pageY||f.documentElement.scrollTop+a.clientY;S=da-A.x;ca=M-A.y;S>=L&&(y=!0,v.style.width=S+"px");ca>=F&&(y=!0,v.style.height=ca+"px")}function d(){y&&(y=!1,g.ui._actualFrameWidth=v.offsetWidth-2,l.style.width=g.ui._actualFrameWidth+"px",g.setHeight(v.offsetHeight-q.offsetHeight-
n.offsetHeight-2,!0));v&&(v.style.display="none");e();b.un(f,"mousemove",c);b.un(k,"mouseup",d);b.un(f,"mouseup",d)}function e(){t.ie?f.selection.clear():window.getSelection().removeAllRanges()}var f=document,g=this.editor,l=g.container,k=g.document,n=this.getDom("toolbarbox"),q=this.getDom("bottombar"),u=this.getDom("scale"),v=this.getDom("scalelayer"),y=!1,A=null,F=0,L=g.options.minFrameWidth,da=0,M=0,S=0,ca=0,Q=this;this.editor.addListener("fullscreenchanged",function(a,c){if(c)Q.disableScale();
else if(Q.editor.options.scaleEnabled){Q.enableScale();var d=Q.editor.document.createElement("span");Q.editor.body.appendChild(d);Q.editor.body.style.height=Math.max(b.getXY(d).y,Q.editor.iframe.offsetHeight-20)+"px";b.remove(d)}});this.enableScale=function(){1!=g.queryCommandState("source")&&(u.style.display="",this.scaleEnabled=!0,b.on(u,"mousedown",a))};this.disableScale=function(){u.style.display="none";this.scaleEnabled=!1;b.un(u,"mousedown",a)}},isFullScreen:function(){return this._fullscreen},
postRender:function(){a.prototype.postRender.call(this);for(var b=0;b<this.toolbars.length;b++)this.toolbars[b].postRender();var c=this,d,e=n.editor.dom.domUtils,f=function(){clearTimeout(d);d=setTimeout(function(){c._updateFullScreen()})};e.on(window,"resize",f);c.addListener("destroy",function(){e.un(window,"resize",f);clearTimeout(d)})},showToolbarMsg:function(a,b){this.getDom("toolbarmsg_label").innerHTML=a;this.getDom("toolbarmsg").style.display="";b||(this.getDom("upload_dialog").style.display=
"none")},hideToolbarMsg:function(){this.getDom("toolbarmsg").style.display="none"},mapUrl:function(a){return a?a.replace("~/",this.editor.options.UEDITOR_HOME_URL||""):""},triggerLayout:function(){var a=this.getDom();a.style.zoom="1"==a.style.zoom?"100%":"1"}};c.inherits(f,n.editor.ui.UIBase);var d={};UE.ui.Editor=function(a){var e=new UE.Editor(a);e.options.editor=e;c.loadFile(document,{href:e.options.themePath+e.options.theme+"/css/ueditor.css",tag:"link",type:"text/css",rel:"stylesheet"});var g=
e.render;e.render=function(a){a.constructor===String&&(e.key=a,d[a]=e);c.domReady(function(){function c(){e.setOpt({labelMap:e.options.labelMap||e.getLang("labelMap")});new f(e.options);if(a&&(a.constructor===String&&(a=document.getElementById(a)),a&&a.getAttribute("name")&&(e.options.textarea=a.getAttribute("name")),a&&/script|textarea/ig.test(a.tagName))){var d=document.createElement("div");a.parentNode.insertBefore(d,a);var h=a.value||a.innerHTML;e.options.initialContent=/^[\t\r\n ]*$/.test(h)?
e.options.initialContent:h.replace(/>[\n\r\t]+([ ]{4})+/g,">").replace(/[\n\r\t]+([ ]{4})+</g,"<").replace(/>[\n\r\t]+</g,"><");a.className&&(d.className=a.className);a.style.cssText&&(d.style.cssText=a.style.cssText);/textarea/i.test(a.tagName)?(e.textarea=a,e.textarea.style.display="none"):(a.parentNode.removeChild(a),a.id&&(d.id=a.id));a=d;a.innerHTML=""}b.addClass(a,"edui-"+e.options.theme);e.ui.render(a);d=e.options;e.container=e.ui.getDom();for(var h=b.findParents(a,!0),l=[],k=0,n;n=h[k];k++)l[k]=
n.style.display,n.style.display="block";d.initialFrameWidth?d.minFrameWidth=d.initialFrameWidth:(d.minFrameWidth=d.initialFrameWidth=a.offsetWidth,k=a.style.width,/%$/.test(k)&&(d.initialFrameWidth=k));d.initialFrameHeight?d.minFrameHeight=d.initialFrameHeight:d.initialFrameHeight=d.minFrameHeight=a.offsetHeight;for(k=0;n=h[k];k++)n.style.display=l[k];a.style.height&&(a.style.height="");e.container.style.width=d.initialFrameWidth+(/%$/.test(d.initialFrameWidth)?"":"px");e.container.style.zIndex=d.zIndex;
g.call(e,e.ui.getDom("iframeholder"));e.fireEvent("afteruiready")}e.langIsReady?c():e.addListener("langReady",c)})};return e};UE.getEditor=function(a,b){var c=d[a];c||(c=d[a]=new UE.ui.Editor(b),c.render(a));return c};UE.delEditor=function(a){var b;if(b=d[a])b.key&&b.destroy(),delete d[a]};UE.registerUI=function(a,b,d,e){c.each(a.split(/\s+/),function(a){UE._customizeUI[a]={id:e,execFn:b,index:d}})}})()})();plugin.ueditorFront.lang={};plugin.ueditorFront.lang.cn={};plugin.ueditorFront.lang.cn.ZhCn={};
UE.I18N["zh-cn"]={labelMap:{anchor:"\u951a\u70b9",undo:"\u64a4\u9500",redo:"\u91cd\u505a",bold:"\u52a0\u7c97",indent:"\u9996\u884c\u7f29\u8fdb",snapscreen:"\u622a\u56fe",italic:"\u659c\u4f53",underline:"\u4e0b\u5212\u7ebf",strikethrough:"\u5220\u9664\u7ebf",subscript:"\u4e0b\u6807",fontborder:"\u5b57\u7b26\u8fb9\u6846",superscript:"\u4e0a\u6807",formatmatch:"\u683c\u5f0f\u5237",source:"\u6e90\u4ee3\u7801",blockquote:"\u5f15\u7528",pasteplain:"\u7eaf\u6587\u672c\u7c98\u8d34\u6a21\u5f0f",selectall:"\u5168\u9009",
print:"\u6253\u5370",preview:"\u9884\u89c8",horizontal:"\u5206\u9694\u7ebf",removeformat:"\u6e05\u9664\u683c\u5f0f",time:"\u65f6\u95f4",date:"\u65e5\u671f",unlink:"\u53d6\u6d88\u94fe\u63a5",insertrow:"\u524d\u63d2\u5165\u884c",insertcol:"\u524d\u63d2\u5165\u5217",mergeright:"\u53f3\u5408\u5e76\u5355\u5143\u683c",mergedown:"\u4e0b\u5408\u5e76\u5355\u5143\u683c",deleterow:"\u5220\u9664\u884c",deletecol:"\u5220\u9664\u5217",splittorows:"\u62c6\u5206\u6210\u884c",splittocols:"\u62c6\u5206\u6210\u5217",
splittocells:"\u5b8c\u5168\u62c6\u5206\u5355\u5143\u683c",deletecaption:"\u5220\u9664\u8868\u683c\u6807\u9898",inserttitle:"\u63d2\u5165\u6807\u9898",mergecells:"\u5408\u5e76\u591a\u4e2a\u5355\u5143\u683c",deletetable:"\u5220\u9664\u8868\u683c",cleardoc:"\u6e05\u7a7a\u6587\u6863",insertparagraphbeforetable:"\u8868\u683c\u524d\u63d2\u5165\u884c",insertcode:"\u4ee3\u7801\u8bed\u8a00",fontfamily:"\u5b57\u4f53",fontsize:"\u5b57\u53f7",paragraph:"\u6bb5\u843d\u683c\u5f0f",simpleupload:"\u5355\u56fe\u4e0a\u4f20",
insertimage:"\u591a\u56fe\u4e0a\u4f20",edittable:"\u8868\u683c\u5c5e\u6027",edittd:"\u5355\u5143\u683c\u5c5e\u6027",link:"\u8d85\u94fe\u63a5",emotion:"\u8868\u60c5",spechars:"\u7279\u6b8a\u5b57\u7b26",searchreplace:"\u67e5\u8be2\u66ff\u6362",map:"Baidu\u5730\u56fe",gmap:"Google\u5730\u56fe",insertvideo:"\u89c6\u9891",help:"\u5e2e\u52a9",justifyleft:"\u5c45\u5de6\u5bf9\u9f50",justifyright:"\u5c45\u53f3\u5bf9\u9f50",justifycenter:"\u5c45\u4e2d\u5bf9\u9f50",justifyjustify:"\u4e24\u7aef\u5bf9\u9f50",
forecolor:"\u5b57\u4f53\u989c\u8272",backcolor:"\u80cc\u666f\u8272",insertorderedlist:"\u6709\u5e8f\u5217\u8868",insertunorderedlist:"\u65e0\u5e8f\u5217\u8868",fullscreen:"\u5168\u5c4f",directionalityltr:"\u4ece\u5de6\u5411\u53f3\u8f93\u5165",directionalityrtl:"\u4ece\u53f3\u5411\u5de6\u8f93\u5165",rowspacingtop:"\u6bb5\u524d\u8ddd",rowspacingbottom:"\u6bb5\u540e\u8ddd",pagebreak:"\u5206\u9875",insertframe:"\u63d2\u5165Iframe",imagenone:"\u9ed8\u8ba4",imageleft:"\u5de6\u6d6e\u52a8",imageright:"\u53f3\u6d6e\u52a8",
attachment:"\u9644\u4ef6",imagecenter:"\u5c45\u4e2d",wordimage:"\u56fe\u7247\u8f6c\u5b58",lineheight:"\u884c\u95f4\u8ddd",edittip:"\u7f16\u8f91\u63d0\u793a",customstyle:"\u81ea\u5b9a\u4e49\u6807\u9898",autotypeset:"\u81ea\u52a8\u6392\u7248",webapp:"\u767e\u5ea6\u5e94\u7528",touppercase:"\u5b57\u6bcd\u5927\u5199",tolowercase:"\u5b57\u6bcd\u5c0f\u5199",background:"\u80cc\u666f",template:"\u6a21\u677f",scrawl:"\u6d82\u9e26",music:"\u97f3\u4e50",inserttable:"\u63d2\u5165\u8868\u683c",drafts:"\u4ece\u8349\u7a3f\u7bb1\u52a0\u8f7d",
charts:"\u56fe\u8868"},insertorderedlist:{num:"1,2,3...",num1:"1),2),3)...",num2:"(1),(2),(3)...",cn:"\u4e00,\u4e8c,\u4e09....",cn1:"\u4e00),\u4e8c),\u4e09)....",cn2:"(\u4e00),(\u4e8c),(\u4e09)....",decimal:"1,2,3...","lower-alpha":"a,b,c...","lower-roman":"i,ii,iii...","upper-alpha":"A,B,C...","upper-roman":"I,II,III..."},insertunorderedlist:{circle:"\u25cb \u5927\u5706\u5708",disc:"\u25cf \u5c0f\u9ed1\u70b9",square:"\u25a0 \u5c0f\u65b9\u5757 ",dash:"\u2014 \u7834\u6298\u53f7",dot:" \u3002 \u5c0f\u5706\u5708"},
paragraph:{p:"\u6bb5\u843d",h1:"\u6807\u9898 1",h2:"\u6807\u9898 2",h3:"\u6807\u9898 3",h4:"\u6807\u9898 4",h5:"\u6807\u9898 5",h6:"\u6807\u9898 6"},fontfamily:{songti:"\u5b8b\u4f53",kaiti:"\u6977\u4f53",heiti:"\u9ed1\u4f53",lishu:"\u96b6\u4e66",yahei:"\u5fae\u8f6f\u96c5\u9ed1",andaleMono:"andale mono",arial:"arial",arialBlack:"arial black",comicSansMs:"comic sans ms",impact:"impact",timesNewRoman:"times new roman"},customstyle:{tc:"\u6807\u9898\u5c45\u4e2d",tl:"\u6807\u9898\u5c45\u5de6",im:"\u5f3a\u8c03",
hi:"\u660e\u663e\u5f3a\u8c03"},autoupload:{exceedSizeError:"\u6587\u4ef6\u5927\u5c0f\u8d85\u51fa\u9650\u5236",jsonEncodeError:"\u670d\u52a1\u5668\u8fd4\u56de\u683c\u5f0f\u9519\u8bef",loading:"\u6b63\u5728\u4e0a\u4f20...",loadError:"\u4e0a\u4f20\u9519\u8bef"},simpleupload:{exceedSizeError:"\u6587\u4ef6\u5927\u5c0f\u8d85\u51fa\u9650\u5236",exceedTypeError:"\u6587\u4ef6\u683c\u5f0f\u4e0d\u5141\u8bb8",jsonEncodeError:"\u670d\u52a1\u5668\u8fd4\u56de\u683c\u5f0f\u9519\u8bef",loading:"\u6b63\u5728\u4e0a\u4f20...",
loadError:"\u4e0a\u4f20\u9519\u8bef"},elementPathTip:"\u5143\u7d20\u8def\u5f84",wordCountTip:"\u5b57\u6570\u7edf\u8ba1",wordCountMsg:"\u5f53\u524d\u5df2\u8f93\u5165{#count}\u4e2a\u5b57\u7b26, \u60a8\u8fd8\u53ef\u4ee5\u8f93\u5165{#leave}\u4e2a\u5b57\u7b26\u3002 ",wordOverFlowMsg:'<span style="color:red;">\u5b57\u6570\u8d85\u51fa\u6700\u5927\u5141\u8bb8\u503c\uff0c\u670d\u52a1\u5668\u53ef\u80fd\u62d2\u7edd\u4fdd\u5b58\uff01</span>',ok:"\u786e\u8ba4",cancel:"\u53d6\u6d88",closeDialog:"\u5173\u95ed\u5bf9\u8bdd\u6846",
tableDrag:"\u8868\u683c\u62d6\u52a8\u5fc5\u987b\u5f15\u5165uiUtils.js\u6587\u4ef6\uff01",autofloatMsg:"\u5de5\u5177\u680f\u6d6e\u52a8\u4f9d\u8d56\u7f16\u8f91\u5668UI\uff0c\u60a8\u9996\u5148\u9700\u8981\u5f15\u5165UI\u6587\u4ef6!",snapScreen_plugin:{browserMsg:"\u4ec5\u652f\u6301IE\u6d4f\u89c8\u5668\uff01",callBackErrorMsg:"\u670d\u52a1\u5668\u8fd4\u56de\u6570\u636e\u6709\u8bef\uff0c\u8bf7\u68c0\u67e5\u914d\u7f6e\u9879\u4e4b\u540e\u91cd\u8bd5\u3002",uploadErrorMsg:"\u622a\u56fe\u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u670d\u52a1\u5668\u7aef\u73af\u5883! "},
insertcode:{as3:"ActionScript3",bash:"Bash/Shell",cpp:"C/C++",css:"Css",cf:"CodeFunction","c#":"C#",delphi:"Delphi",diff:"Diff",erlang:"Erlang",groovy:"Groovy",html:"Html",java:"Java",jfx:"JavaFx",js:"Javascript",pl:"Perl",php:"Php",plain:"Plain Text",ps:"PowerShell",python:"Python",ruby:"Ruby",scala:"Scala",sql:"Sql",vb:"Vb",xml:"Xml"},confirmClear:"\u786e\u5b9a\u6e05\u7a7a\u5f53\u524d\u6587\u6863\u4e48\uff1f",contextMenu:{"delete":"\u5220\u9664",selectall:"\u5168\u9009",deletecode:"\u5220\u9664\u4ee3\u7801",
cleardoc:"\u6e05\u7a7a\u6587\u6863",confirmclear:"\u786e\u5b9a\u6e05\u7a7a\u5f53\u524d\u6587\u6863\u4e48\uff1f",unlink:"\u5220\u9664\u8d85\u94fe\u63a5",paragraph:"\u6bb5\u843d\u683c\u5f0f",edittable:"\u8868\u683c\u5c5e\u6027",aligntd:"\u5355\u5143\u683c\u5bf9\u9f50\u65b9\u5f0f",aligntable:"\u8868\u683c\u5bf9\u9f50\u65b9\u5f0f",tableleft:"\u5de6\u6d6e\u52a8",tablecenter:"\u5c45\u4e2d\u663e\u793a",tableright:"\u53f3\u6d6e\u52a8",edittd:"\u5355\u5143\u683c\u5c5e\u6027",setbordervisible:"\u8bbe\u7f6e\u8868\u683c\u8fb9\u7ebf\u53ef\u89c1",
justifyleft:"\u5de6\u5bf9\u9f50",justifyright:"\u53f3\u5bf9\u9f50",justifycenter:"\u5c45\u4e2d\u5bf9\u9f50",justifyjustify:"\u4e24\u7aef\u5bf9\u9f50",table:"\u8868\u683c",inserttable:"\u63d2\u5165\u8868\u683c",deletetable:"\u5220\u9664\u8868\u683c",insertparagraphbefore:"\u524d\u63d2\u5165\u6bb5\u843d",insertparagraphafter:"\u540e\u63d2\u5165\u6bb5\u843d",deleterow:"\u5220\u9664\u5f53\u524d\u884c",deletecol:"\u5220\u9664\u5f53\u524d\u5217",insertrow:"\u524d\u63d2\u5165\u884c",insertcol:"\u5de6\u63d2\u5165\u5217",
insertrownext:"\u540e\u63d2\u5165\u884c",insertcolnext:"\u53f3\u63d2\u5165\u5217",insertcaption:"\u63d2\u5165\u8868\u683c\u540d\u79f0",deletecaption:"\u5220\u9664\u8868\u683c\u540d\u79f0",inserttitle:"\u63d2\u5165\u8868\u683c\u6807\u9898\u884c",deletetitle:"\u5220\u9664\u8868\u683c\u6807\u9898\u884c",inserttitlecol:"\u63d2\u5165\u8868\u683c\u6807\u9898\u5217",deletetitlecol:"\u5220\u9664\u8868\u683c\u6807\u9898\u5217",averageDiseRow:"\u5e73\u5747\u5206\u5e03\u5404\u884c",averageDisCol:"\u5e73\u5747\u5206\u5e03\u5404\u5217",
mergeright:"\u5411\u53f3\u5408\u5e76",mergeleft:"\u5411\u5de6\u5408\u5e76",mergedown:"\u5411\u4e0b\u5408\u5e76",mergecells:"\u5408\u5e76\u5355\u5143\u683c",splittocells:"\u5b8c\u5168\u62c6\u5206\u5355\u5143\u683c",splittocols:"\u62c6\u5206\u6210\u5217",splittorows:"\u62c6\u5206\u6210\u884c",tablesort:"\u8868\u683c\u6392\u5e8f",enablesort:"\u8bbe\u7f6e\u8868\u683c\u53ef\u6392\u5e8f",disablesort:"\u53d6\u6d88\u8868\u683c\u53ef\u6392\u5e8f",reversecurrent:"\u9006\u5e8f\u5f53\u524d",orderbyasc:"\u6309ASCII\u5b57\u7b26\u5347\u5e8f",
reversebyasc:"\u6309ASCII\u5b57\u7b26\u964d\u5e8f",orderbynum:"\u6309\u6570\u503c\u5927\u5c0f\u5347\u5e8f",reversebynum:"\u6309\u6570\u503c\u5927\u5c0f\u964d\u5e8f",borderbk:"\u8fb9\u6846\u5e95\u7eb9",setcolor:"\u8868\u683c\u9694\u884c\u53d8\u8272",unsetcolor:"\u53d6\u6d88\u8868\u683c\u9694\u884c\u53d8\u8272",setbackground:"\u9009\u533a\u80cc\u666f\u9694\u884c",unsetbackground:"\u53d6\u6d88\u9009\u533a\u80cc\u666f",redandblue:"\u7ea2\u84dd\u76f8\u95f4",threecolorgradient:"\u4e09\u8272\u6e10\u53d8",
copy:"\u590d\u5236(Ctrl + c)",copymsg:"\u6d4f\u89c8\u5668\u4e0d\u652f\u6301,\u8bf7\u4f7f\u7528 'Ctrl + c'",paste:"\u7c98\u8d34(Ctrl + v)",pastemsg:"\u6d4f\u89c8\u5668\u4e0d\u652f\u6301,\u8bf7\u4f7f\u7528 'Ctrl + v'"},copymsg:"\u6d4f\u89c8\u5668\u4e0d\u652f\u6301,\u8bf7\u4f7f\u7528 'Ctrl + c'",pastemsg:"\u6d4f\u89c8\u5668\u4e0d\u652f\u6301,\u8bf7\u4f7f\u7528 'Ctrl + v'",anthorMsg:"\u94fe\u63a5",clearColor:"\u6e05\u7a7a\u989c\u8272",standardColor:"\u6807\u51c6\u989c\u8272",themeColor:"\u4e3b\u9898\u989c\u8272",
property:"\u5c5e\u6027","default":"\u9ed8\u8ba4",modify:"\u4fee\u6539",justifyleft:"\u5de6\u5bf9\u9f50",justifyright:"\u53f3\u5bf9\u9f50",justifycenter:"\u5c45\u4e2d",justify:"\u9ed8\u8ba4",clear:"\u6e05\u9664",anchorMsg:"\u951a\u70b9","delete":"\u5220\u9664",clickToUpload:"\u70b9\u51fb\u4e0a\u4f20",unset:"\u5c1a\u672a\u8bbe\u7f6e\u8bed\u8a00\u6587\u4ef6",t_row:"\u884c",t_col:"\u5217",more:"\u66f4\u591a",pasteOpt:"\u7c98\u8d34\u9009\u9879",pasteSourceFormat:"\u4fdd\u7559\u6e90\u683c\u5f0f",tagFormat:"\u53ea\u4fdd\u7559\u6807\u7b7e",
pasteTextFormat:"\u53ea\u4fdd\u7559\u6587\u672c",autoTypeSet:{mergeLine:"\u5408\u5e76\u7a7a\u884c",delLine:"\u6e05\u9664\u7a7a\u884c",removeFormat:"\u6e05\u9664\u683c\u5f0f",indent:"\u9996\u884c\u7f29\u8fdb",alignment:"\u5bf9\u9f50\u65b9\u5f0f",imageFloat:"\u56fe\u7247\u6d6e\u52a8",removeFontsize:"\u6e05\u9664\u5b57\u53f7",removeFontFamily:"\u6e05\u9664\u5b57\u4f53",removeHtml:"\u6e05\u9664\u5197\u4f59HTML\u4ee3\u7801",pasteFilter:"\u7c98\u8d34\u8fc7\u6ee4",run:"\u6267\u884c",symbol:"\u7b26\u53f7\u8f6c\u6362",
bdc2sb:"\u5168\u89d2\u8f6c\u534a\u89d2",tobdc:"\u534a\u89d2\u8f6c\u5168\u89d2"},background:{"static":{lang_background_normal:"\u80cc\u666f\u8bbe\u7f6e",lang_background_local:"\u5728\u7ebf\u56fe\u7247",lang_background_set:"\u9009\u9879",lang_background_none:"\u65e0\u80cc\u666f\u8272",lang_background_colored:"\u6709\u80cc\u666f\u8272",lang_background_color:"\u989c\u8272\u8bbe\u7f6e",lang_background_netimg:"\u7f51\u7edc\u56fe\u7247",lang_background_align:"\u5bf9\u9f50\u65b9\u5f0f",lang_background_position:"\u7cbe\u786e\u5b9a\u4f4d",
repeatType:{options:["\u5c45\u4e2d","\u6a2a\u5411\u91cd\u590d","\u7eb5\u5411\u91cd\u590d","\u5e73\u94fa","\u81ea\u5b9a\u4e49"]}},noUploadImage:"\u5f53\u524d\u672a\u4e0a\u4f20\u8fc7\u4efb\u4f55\u56fe\u7247\uff01",toggleSelect:"\u5355\u51fb\u53ef\u5207\u6362\u9009\u4e2d\u72b6\u6001\n\u539f\u56fe\u5c3a\u5bf8: "},insertimage:{"static":{lang_tab_remote:"\u63d2\u5165\u56fe\u7247",lang_tab_upload:"\u672c\u5730\u4e0a\u4f20",lang_tab_online:"\u5728\u7ebf\u7ba1\u7406",lang_tab_search:"\u56fe\u7247\u641c\u7d22",
lang_input_url:"\u5730 \u5740\uff1a",lang_input_size:"\u5927 \u5c0f\uff1a",lang_input_width:"\u5bbd\u5ea6",lang_input_height:"\u9ad8\u5ea6",lang_input_border:"\u8fb9 \u6846\uff1a",lang_input_vhspace:"\u8fb9 \u8ddd\uff1a",lang_input_title:"\u63cf \u8ff0\uff1a",lang_input_align:"\u56fe\u7247\u6d6e\u52a8\u65b9\u5f0f\uff1a",lang_imgLoading:"\u3000\u56fe\u7247\u52a0\u8f7d\u4e2d\u2026\u2026",lang_start_upload:"\u5f00\u59cb\u4e0a\u4f20",lock:{title:"\u9501\u5b9a\u5bbd\u9ad8\u6bd4\u4f8b"},searchType:{title:"\u56fe\u7247\u7c7b\u578b",
options:["\u65b0\u95fb","\u58c1\u7eb8","\u8868\u60c5","\u5934\u50cf"]},searchTxt:{value:"\u8bf7\u8f93\u5165\u641c\u7d22\u5173\u952e\u8bcd"},searchBtn:{value:"\u767e\u5ea6\u4e00\u4e0b"},searchReset:{value:"\u6e05\u7a7a\u641c\u7d22"},noneAlign:{title:"\u65e0\u6d6e\u52a8"},leftAlign:{title:"\u5de6\u6d6e\u52a8"},rightAlign:{title:"\u53f3\u6d6e\u52a8"},centerAlign:{title:"\u5c45\u4e2d\u72ec\u5360\u4e00\u884c"}},uploadSelectFile:"\u70b9\u51fb\u9009\u62e9\u56fe\u7247",uploadAddFile:"\u7ee7\u7eed\u6dfb\u52a0",
uploadStart:"\u5f00\u59cb\u4e0a\u4f20",uploadPause:"\u6682\u505c\u4e0a\u4f20",uploadContinue:"\u7ee7\u7eed\u4e0a\u4f20",uploadRetry:"\u91cd\u8bd5\u4e0a\u4f20",uploadDelete:"\u5220\u9664",uploadTurnLeft:"\u5411\u5de6\u65cb\u8f6c",uploadTurnRight:"\u5411\u53f3\u65cb\u8f6c",uploadPreview:"\u9884\u89c8\u4e2d",uploadNoPreview:"\u4e0d\u80fd\u9884\u89c8",updateStatusReady:"\u9009\u4e2d_\u5f20\u56fe\u7247\uff0c\u5171_KB\u3002",updateStatusConfirm:"\u5df2\u6210\u529f\u4e0a\u4f20_\u5f20\u7167\u7247\uff0c_\u5f20\u7167\u7247\u4e0a\u4f20\u5931\u8d25",
updateStatusFinish:"\u5171_\u5f20\uff08_KB\uff09\uff0c_\u5f20\u4e0a\u4f20\u6210\u529f",updateStatusError:"\uff0c_\u5f20\u4e0a\u4f20\u5931\u8d25\u3002",errorExceedSize:"\u6587\u4ef6\u5927\u5c0f\u8d85\u51fa",errorFileType:"\u6587\u4ef6\u683c\u5f0f\u4e0d\u5141\u8bb8",errorInterrupt:"\u6587\u4ef6\u4f20\u8f93\u4e2d\u65ad",errorUploadRetry:"\u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",errorHttp:"http\u8bf7\u6c42\u9519\u8bef",errorServerUpload:"\u670d\u52a1\u5668\u8fd4\u56de\u51fa\u9519",remoteLockError:"\u5bbd\u9ad8\u4e0d\u6b63\u786e,\u4e0d\u80fd\u6240\u5b9a\u6bd4\u4f8b",
numError:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u957f\u5ea6\u6216\u8005\u5bbd\u5ea6\u503c\uff01\u4f8b\u5982\uff1a123\uff0c400",imageUrlError:"\u4e0d\u5141\u8bb8\u7684\u56fe\u7247\u683c\u5f0f\u6216\u8005\u56fe\u7247\u57df\uff01",imageLoadError:"\u56fe\u7247\u52a0\u8f7d\u5931\u8d25\uff01\u8bf7\u68c0\u67e5\u94fe\u63a5\u5730\u5740\u6216\u7f51\u7edc\u72b6\u6001\uff01",searchRemind:"\u8bf7\u8f93\u5165\u641c\u7d22\u5173\u952e\u8bcd",searchLoading:"\u56fe\u7247\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u540e\u2026\u2026",
searchRetry:" :( \uff0c\u62b1\u6b49\uff0c\u6ca1\u6709\u627e\u5230\u56fe\u7247\uff01\u8bf7\u91cd\u8bd5\u4e00\u6b21\uff01"},attachment:{"static":{lang_tab_upload:"\u4e0a\u4f20\u9644\u4ef6",lang_tab_online:"\u5728\u7ebf\u9644\u4ef6",lang_start_upload:"\u5f00\u59cb\u4e0a\u4f20",lang_drop_remind:"\u53ef\u4ee5\u5c06\u6587\u4ef6\u62d6\u5230\u8fd9\u91cc\uff0c\u5355\u6b21\u6700\u591a\u53ef\u9009100\u4e2a\u6587\u4ef6"},uploadSelectFile:"\u70b9\u51fb\u9009\u62e9\u6587\u4ef6",uploadAddFile:"\u7ee7\u7eed\u6dfb\u52a0",
uploadStart:"\u5f00\u59cb\u4e0a\u4f20",uploadPause:"\u6682\u505c\u4e0a\u4f20",uploadContinue:"\u7ee7\u7eed\u4e0a\u4f20",uploadRetry:"\u91cd\u8bd5\u4e0a\u4f20",uploadDelete:"\u5220\u9664",uploadTurnLeft:"\u5411\u5de6\u65cb\u8f6c",uploadTurnRight:"\u5411\u53f3\u65cb\u8f6c",uploadPreview:"\u9884\u89c8\u4e2d",updateStatusReady:"\u9009\u4e2d_\u4e2a\u6587\u4ef6\uff0c\u5171_KB\u3002",updateStatusConfirm:"\u5df2\u6210\u529f\u4e0a\u4f20_\u4e2a\u6587\u4ef6\uff0c_\u4e2a\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25",
updateStatusFinish:"\u5171_\u4e2a\uff08_KB\uff09\uff0c_\u4e2a\u4e0a\u4f20\u6210\u529f",updateStatusError:"\uff0c_\u5f20\u4e0a\u4f20\u5931\u8d25\u3002",errorExceedSize:"\u6587\u4ef6\u5927\u5c0f\u8d85\u51fa",errorFileType:"\u6587\u4ef6\u683c\u5f0f\u4e0d\u5141\u8bb8",errorInterrupt:"\u6587\u4ef6\u4f20\u8f93\u4e2d\u65ad",errorUploadRetry:"\u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",errorHttp:"http\u8bf7\u6c42\u9519\u8bef",errorServerUpload:"\u670d\u52a1\u5668\u8fd4\u56de\u51fa\u9519"},insertvideo:{"static":{lang_tab_insertV:"\u63d2\u5165\u89c6\u9891",
lang_tab_searchV:"\u641c\u7d22\u89c6\u9891",lang_tab_uploadV:"\u4e0a\u4f20\u89c6\u9891",lang_video_url:"\u89c6\u9891\u7f51\u5740",lang_video_size:"\u89c6\u9891\u5c3a\u5bf8",lang_videoW:"\u5bbd\u5ea6",lang_videoH:"\u9ad8\u5ea6",lang_alignment:"\u5bf9\u9f50\u65b9\u5f0f",videoSearchTxt:{value:"\u8bf7\u8f93\u5165\u641c\u7d22\u5173\u952e\u5b57\uff01"},videoType:{options:"\u5168\u90e8 \u70ed\u95e8 \u5a31\u4e50 \u641e\u7b11 \u4f53\u80b2 \u79d1\u6280 \u7efc\u827a".split(" ")},videoSearchBtn:{value:"\u767e\u5ea6\u4e00\u4e0b"},
videoSearchReset:{value:"\u6e05\u7a7a\u7ed3\u679c"},lang_input_fileStatus:" \u5f53\u524d\u672a\u4e0a\u4f20\u6587\u4ef6",startUpload:{style:"background:url(upload.png) no-repeat;"},lang_upload_size:"\u89c6\u9891\u5c3a\u5bf8",lang_upload_width:"\u5bbd\u5ea6",lang_upload_height:"\u9ad8\u5ea6",lang_upload_alignment:"\u5bf9\u9f50\u65b9\u5f0f",lang_format_advice:"\u5efa\u8bae\u4f7f\u7528mp4\u683c\u5f0f."},numError:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u6570\u503c\uff0c\u5982123,400",floatLeft:"\u5de6\u6d6e\u52a8",
floatRight:"\u53f3\u6d6e\u52a8",'"default"':"\u9ed8\u8ba4",block:"\u72ec\u5360\u4e00\u884c",urlError:"\u8f93\u5165\u7684\u89c6\u9891\u5730\u5740\u6709\u8bef\uff0c\u8bf7\u68c0\u67e5\u540e\u518d\u8bd5\uff01",loading:" &nbsp;\u89c6\u9891\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u7b49\u5f85\u2026\u2026",clickToSelect:"\u70b9\u51fb\u9009\u4e2d",goToSource:"\u8bbf\u95ee\u6e90\u89c6\u9891",noVideo:" &nbsp; &nbsp;\u62b1\u6b49\uff0c\u627e\u4e0d\u5230\u5bf9\u5e94\u7684\u89c6\u9891\uff0c\u8bf7\u91cd\u8bd5\uff01",browseFiles:"\u6d4f\u89c8\u6587\u4ef6",
uploadSuccess:"\u4e0a\u4f20\u6210\u529f!",delSuccessFile:"\u4ece\u6210\u529f\u961f\u5217\u4e2d\u79fb\u9664",delFailSaveFile:"\u79fb\u9664\u4fdd\u5b58\u5931\u8d25\u6587\u4ef6",statusPrompt:" \u4e2a\u6587\u4ef6\u5df2\u4e0a\u4f20\uff01 ",flashVersionError:"\u5f53\u524dFlash\u7248\u672c\u8fc7\u4f4e\uff0c\u8bf7\u66f4\u65b0FlashPlayer\u540e\u91cd\u8bd5\uff01",flashLoadingError:"Flash\u52a0\u8f7d\u5931\u8d25!\u8bf7\u68c0\u67e5\u8def\u5f84\u6216\u7f51\u7edc\u72b6\u6001",fileUploadReady:"\u7b49\u5f85\u4e0a\u4f20\u2026\u2026",
delUploadQueue:"\u4ece\u4e0a\u4f20\u961f\u5217\u4e2d\u79fb\u9664",limitPrompt1:"\u5355\u6b21\u4e0d\u80fd\u9009\u62e9\u8d85\u8fc7",limitPrompt2:"\u4e2a\u6587\u4ef6\uff01\u8bf7\u91cd\u65b0\u9009\u62e9\uff01",delFailFile:"\u79fb\u9664\u5931\u8d25\u6587\u4ef6",fileSizeLimit:"\u6587\u4ef6\u5927\u5c0f\u8d85\u51fa\u9650\u5236\uff01",emptyFile:"\u7a7a\u6587\u4ef6\u65e0\u6cd5\u4e0a\u4f20\uff01",fileTypeError:"\u6587\u4ef6\u7c7b\u578b\u4e0d\u5141\u8bb8\uff01",unknownError:"\u672a\u77e5\u9519\u8bef\uff01",fileUploading:"\u4e0a\u4f20\u4e2d\uff0c\u8bf7\u7b49\u5f85\u2026\u2026",
cancelUpload:"\u53d6\u6d88\u4e0a\u4f20",netError:"\u7f51\u7edc\u9519\u8bef",failUpload:"\u4e0a\u4f20\u5931\u8d25!",serverIOError:"\u670d\u52a1\u5668IO\u9519\u8bef\uff01",noAuthority:"\u65e0\u6743\u9650\uff01",fileNumLimit:"\u4e0a\u4f20\u4e2a\u6570\u9650\u5236",failCheck:"\u9a8c\u8bc1\u5931\u8d25\uff0c\u672c\u6b21\u4e0a\u4f20\u88ab\u8df3\u8fc7\uff01",fileCanceling:"\u53d6\u6d88\u4e2d\uff0c\u8bf7\u7b49\u5f85\u2026\u2026",stopUploading:"\u4e0a\u4f20\u5df2\u505c\u6b62\u2026\u2026",uploadSelectFile:"\u70b9\u51fb\u9009\u62e9\u6587\u4ef6",
uploadAddFile:"\u7ee7\u7eed\u6dfb\u52a0",uploadStart:"\u5f00\u59cb\u4e0a\u4f20",uploadPause:"\u6682\u505c\u4e0a\u4f20",uploadContinue:"\u7ee7\u7eed\u4e0a\u4f20",uploadRetry:"\u91cd\u8bd5\u4e0a\u4f20",uploadDelete:"\u5220\u9664",uploadTurnLeft:"\u5411\u5de6\u65cb\u8f6c",uploadTurnRight:"\u5411\u53f3\u65cb\u8f6c",uploadPreview:"\u9884\u89c8\u4e2d",updateStatusReady:"\u9009\u4e2d_\u4e2a\u6587\u4ef6\uff0c\u5171_KB\u3002",updateStatusConfirm:"\u6210\u529f\u4e0a\u4f20_\u4e2a\uff0c_\u4e2a\u5931\u8d25",updateStatusFinish:"\u5171_\u4e2a(_KB)\uff0c_\u4e2a\u6210\u529f\u4e0a\u4f20",
updateStatusError:"\uff0c_\u5f20\u4e0a\u4f20\u5931\u8d25\u3002",errorExceedSize:"\u6587\u4ef6\u5927\u5c0f\u8d85\u51fa",errorFileType:"\u6587\u4ef6\u683c\u5f0f\u4e0d\u5141\u8bb8",errorInterrupt:"\u6587\u4ef6\u4f20\u8f93\u4e2d\u65ad",errorUploadRetry:"\u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",errorHttp:"http\u8bf7\u6c42\u9519\u8bef",errorServerUpload:"\u670d\u52a1\u5668\u8fd4\u56de\u51fa\u9519"},webapp:{tip1:"\u672c\u529f\u80fd\u7531\u767e\u5ea6APP\u63d0\u4f9b\uff0c\u5982\u770b\u5230\u6b64\u9875\u9762\uff0c\u8bf7\u5404\u4f4d\u7ad9\u957f\u9996\u5148\u7533\u8bf7\u767e\u5ea6APPKey!",
tip2:"\u7533\u8bf7\u5b8c\u6210\u4e4b\u540e\u8bf7\u81f3ueditor.config.js\u4e2d\u914d\u7f6e\u83b7\u5f97\u7684appkey! ",applyFor:"\u70b9\u6b64\u7533\u8bf7",anthorApi:"\u767e\u5ea6API"},template:{"static":{lang_template_bkcolor:"\u80cc\u666f\u989c\u8272",lang_template_clear:"\u4fdd\u7559\u539f\u6709\u5185\u5bb9",lang_template_select:"\u9009\u62e9\u6a21\u677f"},blank:"\u7a7a\u767d\u6587\u6863",blog:"\u535a\u5ba2\u6587\u7ae0",resume:"\u4e2a\u4eba\u7b80\u5386",richText:"\u56fe\u6587\u6df7\u6392",sciPapers:"\u79d1\u6280\u8bba\u6587"},
scrawl:{"static":{lang_input_previousStep:"\u4e0a\u4e00\u6b65",lang_input_nextsStep:"\u4e0b\u4e00\u6b65",lang_input_clear:"\u6e05\u7a7a",lang_input_addPic:"\u6dfb\u52a0\u80cc\u666f",lang_input_ScalePic:"\u7f29\u653e\u80cc\u666f",lang_input_removePic:"\u5220\u9664\u80cc\u666f",J_imgTxt:{title:"\u6dfb\u52a0\u80cc\u666f\u56fe\u7247"}},noScarwl:"\u5c1a\u672a\u4f5c\u753b\uff0c\u767d\u7eb8\u4e00\u5f20~",scrawlUpLoading:"\u6d82\u9e26\u4e0a\u4f20\u4e2d,\u522b\u6025\u54e6~",continueBtn:"\u7ee7\u7eed",imageError:"\u7cdf\u7cd5\uff0c\u56fe\u7247\u8bfb\u53d6\u5931\u8d25\u4e86\uff01",
backgroundUploading:"\u80cc\u666f\u56fe\u7247\u4e0a\u4f20\u4e2d,\u522b\u6025\u54e6~"},music:{"static":{lang_input_tips:"\u8f93\u5165\u6b4c\u624b/\u6b4c\u66f2/\u4e13\u8f91\uff0c\u641c\u7d22\u60a8\u611f\u5174\u8da3\u7684\u97f3\u4e50\uff01",J_searchBtn:{value:"\u641c\u7d22\u6b4c\u66f2"}},emptyTxt:"\u672a\u641c\u7d22\u5230\u76f8\u5173\u97f3\u4e50\u7ed3\u679c\uff0c\u8bf7\u6362\u4e00\u4e2a\u5173\u952e\u8bcd\u8bd5\u8bd5\u3002",chapter:"\u6b4c\u66f2",singer:"\u6b4c\u624b",special:"\u4e13\u8f91",listenTest:"\u8bd5\u542c"},
anchor:{"static":{lang_input_anchorName:"\u951a\u70b9\u540d\u5b57\uff1a"}},charts:{"static":{lang_data_source:"\u6570\u636e\u6e90\uff1a",lang_chart_format:"\u56fe\u8868\u683c\u5f0f\uff1a",lang_data_align:"\u6570\u636e\u5bf9\u9f50\u65b9\u5f0f",lang_chart_align_same:"\u6570\u636e\u6e90\u4e0e\u56fe\u8868X\u8f74Y\u8f74\u4e00\u81f4",lang_chart_align_reverse:"\u6570\u636e\u6e90\u4e0e\u56fe\u8868X\u8f74Y\u8f74\u76f8\u53cd",lang_chart_title:"\u56fe\u8868\u6807\u9898",lang_chart_main_title:"\u4e3b\u6807\u9898\uff1a",
lang_chart_sub_title:"\u5b50\u6807\u9898\uff1a",lang_chart_x_title:"X\u8f74\u6807\u9898\uff1a",lang_chart_y_title:"Y\u8f74\u6807\u9898\uff1a",lang_chart_tip:"\u63d0\u793a\u6587\u5b57",lang_cahrt_tip_prefix:"\u63d0\u793a\u6587\u5b57\u524d\u7f00\uff1a",lang_cahrt_tip_description:"\u4ec5\u997c\u56fe\u6709\u6548\uff0c \u5f53\u9f20\u6807\u79fb\u52a8\u5230\u997c\u56fe\u4e2d\u76f8\u5e94\u7684\u5757\u4e0a\u65f6\uff0c\u63d0\u793a\u6846\u5185\u7684\u6587\u5b57\u7684\u524d\u7f00",lang_chart_data_unit:"\u6570\u636e\u5355\u4f4d",
lang_chart_data_unit_title:"\u5355\u4f4d\uff1a",lang_chart_data_unit_description:"\u663e\u793a\u5728\u6bcf\u4e2a\u6570\u636e\u70b9\u4e0a\u7684\u6570\u636e\u7684\u5355\u4f4d\uff0c \u6bd4\u5982\uff1a \u6e29\u5ea6\u7684\u5355\u4f4d \u2103",lang_chart_type:"\u56fe\u8868\u7c7b\u578b\uff1a",lang_prev_btn:"\u4e0a\u4e00\u4e2a",lang_next_btn:"\u4e0b\u4e00\u4e2a"}},emotion:{"static":{lang_input_choice:"\u7cbe\u9009",lang_input_Tuzki:"\u5154\u65af\u57fa",lang_input_BOBO:"BOBO",lang_input_lvdouwa:"\u7eff\u8c46\u86d9",
lang_input_babyCat:"baby\u732b",lang_input_bubble:"\u6ce1\u6ce1",lang_input_youa:"\u6709\u554a"}},gmap:{"static":{lang_input_address:"\u5730\u5740",lang_input_search:"\u641c\u7d22",address:{value:"\u5317\u4eac"}},searchError:"\u65e0\u6cd5\u5b9a\u4f4d\u5230\u8be5\u5730\u5740!"},help:{"static":{lang_input_about:"\u5173\u4e8eUEditor",lang_input_shortcuts:"\u5feb\u6377\u952e",lang_input_introduction:"UEditor\u662f\u7531\u767e\u5ea6web\u524d\u7aef\u7814\u53d1\u90e8\u5f00\u53d1\u7684\u6240\u89c1\u5373\u6240\u5f97\u5bcc\u6587\u672cweb\u7f16\u8f91\u5668\uff0c\u5177\u6709\u8f7b\u91cf\uff0c\u53ef\u5b9a\u5236\uff0c\u6ce8\u91cd\u7528\u6237\u4f53\u9a8c\u7b49\u7279\u70b9\u3002\u5f00\u6e90\u57fa\u4e8eBSD\u534f\u8bae\uff0c\u5141\u8bb8\u81ea\u7531\u4f7f\u7528\u548c\u4fee\u6539\u4ee3\u7801\u3002",
lang_Txt_shortcuts:"\u5feb\u6377\u952e",lang_Txt_func:"\u529f\u80fd",lang_Txt_bold:"\u7ed9\u9009\u4e2d\u5b57\u8bbe\u7f6e\u4e3a\u52a0\u7c97",lang_Txt_copy:"\u590d\u5236\u9009\u4e2d\u5185\u5bb9",lang_Txt_cut:"\u526a\u5207\u9009\u4e2d\u5185\u5bb9",lang_Txt_Paste:"\u7c98\u8d34",lang_Txt_undo:"\u91cd\u65b0\u6267\u884c\u4e0a\u6b21\u64cd\u4f5c",lang_Txt_redo:"\u64a4\u9500\u4e0a\u4e00\u6b21\u64cd\u4f5c",lang_Txt_italic:"\u7ed9\u9009\u4e2d\u5b57\u8bbe\u7f6e\u4e3a\u659c\u4f53",lang_Txt_underline:"\u7ed9\u9009\u4e2d\u5b57\u52a0\u4e0b\u5212\u7ebf",
lang_Txt_selectAll:"\u5168\u90e8\u9009\u4e2d",lang_Txt_visualEnter:"\u8f6f\u56de\u8f66",lang_Txt_fullscreen:"\u5168\u5c4f"}},insertframe:{"static":{lang_input_address:"\u5730\u5740\uff1a",lang_input_width:"\u5bbd\u5ea6\uff1a",lang_input_height:"\u9ad8\u5ea6\uff1a",lang_input_isScroll:"\u5141\u8bb8\u6eda\u52a8\u6761\uff1a",lang_input_frameborder:"\u663e\u793a\u6846\u67b6\u8fb9\u6846\uff1a",lang_input_alignMode:"\u5bf9\u9f50\u65b9\u5f0f\uff1a",align:{title:"\u5bf9\u9f50\u65b9\u5f0f",options:["\u9ed8\u8ba4",
"\u5de6\u5bf9\u9f50","\u53f3\u5bf9\u9f50","\u5c45\u4e2d"]}},enterAddress:"\u8bf7\u8f93\u5165\u5730\u5740!"},link:{"static":{lang_input_text:"\u6587\u672c\u5185\u5bb9\uff1a",lang_input_url:"\u94fe\u63a5\u5730\u5740\uff1a",lang_input_title:"\u6807\u9898\uff1a",lang_input_target:"\u662f\u5426\u5728\u65b0\u7a97\u53e3\u6253\u5f00\uff1a"},validLink:"\u53ea\u652f\u6301\u9009\u4e2d\u4e00\u4e2a\u94fe\u63a5\u65f6\u751f\u6548",httpPrompt:"\u60a8\u8f93\u5165\u7684\u8d85\u94fe\u63a5\u4e2d\u4e0d\u5305\u542bhttp\u7b49\u534f\u8bae\u540d\u79f0\uff0c\u9ed8\u8ba4\u5c06\u4e3a\u60a8\u6dfb\u52a0http://\u524d\u7f00"},
map:{"static":{lang_city:"\u57ce\u5e02",lang_address:"\u5730\u5740",city:{value:"\u5317\u4eac"},lang_search:"\u641c\u7d22",lang_dynamicmap:"\u63d2\u5165\u52a8\u6001\u5730\u56fe"},cityMsg:"\u8bf7\u9009\u62e9\u57ce\u5e02",errorMsg:"\u62b1\u6b49\uff0c\u627e\u4e0d\u5230\u8be5\u4f4d\u7f6e\uff01"},searchreplace:{"static":{lang_tab_search:"\u67e5\u627e",lang_tab_replace:"\u66ff\u6362",lang_search1:"\u67e5\u627e",lang_search2:"\u67e5\u627e",lang_replace:"\u66ff\u6362",lang_searchReg:"\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u6dfb\u52a0\u524d\u540e\u659c\u6760\u6807\u793a\u4e3a\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u4f8b\u5982\u201c/\u8868\u8fbe\u5f0f/\u201d",
lang_searchReg1:"\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u6dfb\u52a0\u524d\u540e\u659c\u6760\u6807\u793a\u4e3a\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u4f8b\u5982\u201c/\u8868\u8fbe\u5f0f/\u201d",lang_case_sensitive1:"\u533a\u5206\u5927\u5c0f\u5199",lang_case_sensitive2:"\u533a\u5206\u5927\u5c0f\u5199",nextFindBtn:{value:"\u4e0b\u4e00\u4e2a"},preFindBtn:{value:"\u4e0a\u4e00\u4e2a"},nextReplaceBtn:{value:"\u4e0b\u4e00\u4e2a"},preReplaceBtn:{value:"\u4e0a\u4e00\u4e2a"},repalceBtn:{value:"\u66ff\u6362"},
repalceAllBtn:{value:"\u5168\u90e8\u66ff\u6362"}},getEnd:"\u5df2\u7ecf\u641c\u7d22\u5230\u6587\u7ae0\u672b\u5c3e\uff01",getStart:"\u5df2\u7ecf\u641c\u7d22\u5230\u6587\u7ae0\u5934\u90e8",countMsg:"\u603b\u5171\u66ff\u6362\u4e86{#count}\u5904\uff01"},snapscreen:{"static":{lang_showMsg:"\u622a\u56fe\u529f\u80fd\u9700\u8981\u9996\u5148\u5b89\u88c5UEditor\u622a\u56fe\u63d2\u4ef6\uff01 ",lang_download:"\u70b9\u6b64\u4e0b\u8f7d",lang_step1:"\u7b2c\u4e00\u6b65\uff0c\u4e0b\u8f7dUEditor\u622a\u56fe\u63d2\u4ef6\u5e76\u8fd0\u884c\u5b89\u88c5\u3002",
lang_step2:"\u7b2c\u4e8c\u4e0d\uff0c\u63d2\u4ef6\u5b89\u88c5\u5b8c\u6210\u540e\u5373\u53ef\u4f7f\u7528\uff0c\u5982\u4e0d\u751f\u6548\uff0c\u8bf7\u91cd\u542f\u6d4f\u89c8\u5668\u540e\u518d\u8bd5\uff01"}},spechars:{"static":{},tsfh:"\u7279\u6b8a\u5b57\u7b26",lmsz:"\u7f57\u9a6c\u5b57\u7b26",szfh:"\u6570\u5b66\u5b57\u7b26",rwfh:"\u65e5\u6587\u5b57\u7b26",xlzm:"\u5e0c\u814a\u5b57\u6bcd",ewzm:"\u4fc4\u6587\u5b57\u7b26",pyzm:"\u62fc\u97f3\u5b57\u6bcd",yyyb:"\u82f1\u8bed\u97f3\u6807",zyzf:"\u5176\u4ed6"},
edittable:{"static":{lang_tableStyle:"\u8868\u683c\u6837\u5f0f",lang_insertCaption:"\u6dfb\u52a0\u8868\u683c\u540d\u79f0\u884c",lang_insertTitle:"\u6dfb\u52a0\u8868\u683c\u6807\u9898\u884c",lang_insertTitleCol:"\u6dfb\u52a0\u8868\u683c\u6807\u9898\u5217",lang_orderbycontent:"\u4f7f\u8868\u683c\u5185\u5bb9\u53ef\u6392\u5e8f",lang_tableSize:"\u81ea\u52a8\u8c03\u6574\u8868\u683c\u5c3a\u5bf8",lang_autoSizeContent:"\u6309\u8868\u683c\u6587\u5b57\u81ea\u9002\u5e94",lang_autoSizePage:"\u6309\u9875\u9762\u5bbd\u5ea6\u81ea\u9002\u5e94",
lang_example:"\u793a\u4f8b",lang_borderStyle:"\u8868\u683c\u8fb9\u6846",lang_color:"\u989c\u8272:"},captionName:"\u8868\u683c\u540d\u79f0",titleName:"\u6807\u9898",cellsName:"\u5185\u5bb9",errorMsg:"\u6709\u5408\u5e76\u5355\u5143\u683c\uff0c\u4e0d\u53ef\u6392\u5e8f"},edittip:{"static":{lang_delRow:"\u5220\u9664\u6574\u884c",lang_delCol:"\u5220\u9664\u6574\u5217"}},edittd:{"static":{lang_tdBkColor:"\u80cc\u666f\u989c\u8272:"}},formula:{"static":{}},wordimage:{"static":{lang_resave:"\u8f6c\u5b58\u6b65\u9aa4",
uploadBtn:{src:"upload.png",alt:"\u4e0a\u4f20"},clipboard:{style:"background: url(copy.png) -153px -1px no-repeat;"},lang_step:"1\u3001\u70b9\u51fb\u9876\u90e8\u590d\u5236\u6309\u94ae\uff0c\u5c06\u5730\u5740\u590d\u5236\u5230\u526a\u8d34\u677f\uff1b2\u3001\u70b9\u51fb\u6dfb\u52a0\u7167\u7247\u6309\u94ae\uff0c\u5728\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\u4e2d\u4f7f\u7528Ctrl+V\u7c98\u8d34\u5730\u5740\uff1b3\u3001\u70b9\u51fb\u6253\u5f00\u540e\u9009\u62e9\u56fe\u7247\u4e0a\u4f20\u6d41\u7a0b\u3002"},fileType:"\u56fe\u7247",
flashError:"FLASH\u521d\u59cb\u5316\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5FLASH\u63d2\u4ef6\u662f\u5426\u6b63\u786e\u5b89\u88c5\uff01",netError:"\u7f51\u7edc\u8fde\u63a5\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5\uff01",copySuccess:"\u56fe\u7247\u5730\u5740\u5df2\u7ecf\u590d\u5236\uff01",flashI18n:{}}};plugin.ueditorFront.AddIn={};UE.registerUI("\u53bb\u6389\u7c98\u8d34\u5185\u5bb9\u7684\u683c\u5f0f",function(k,q){k.registerCommand(q,{execCommand:function(){alert("execCommand:"+q)}});var n=new UE.ui.Button({name:q,title:q,cssRules:"background-position: -380px -20px",onclick:function(){k.fireEvent("pasteTransfer",2)}});k.addListener("selectionchange",function(){var v=k.queryCommandState(q);-1==v?(n.setDisabled(!0),n.setChecked(!1)):(n.setDisabled(!1),n.setChecked(v))});return n});plugin.ueditorFront.audioLink={};plugin.ueditorFront.audioLink.audioLink={};
UE.registerUI("audioLink",function(k,q){var n=new UE.ui.Dialog({iframeUrl:"/public/plugin/ueditorFront/audioLink/audioLink.html",editor:k,name:q,cssRules:"width:700px;height:500px;",buttons:[{className:"edui-okbutton",label:"\u786e\u5b9a",onclick:function(){n.close(!0)}},{className:"edui-cancelbutton",label:"\u53d6\u6d88",onclick:function(){n.close(!1)}}]});return new UE.ui.Button({name:"\u63d2\u5165\u97f3\u9891\u94fe\u63a5",title:"\u63d2\u5165\u97f3\u9891\u94fe\u63a5",cssRules:"background-position: -602px -40px;",
onclick:function(){n.render();n.open()}})});plugin.common={};plugin.common.Common={};$(function(){return $.fn.serializeJson=function(){var k,q;q=$(this).serializeArray();q=q.concat($(this).find("input[type=checkbox]:has(:checked)").map(function(){return{name:this.name,value:this.value}}).get());$(this).serialize();k={};$.map(q,function(n,q){return k[n.name]?$.isArray(k[n.name])?k[n.name].push(n.value):k[n.name]=[k[n.name],n.value]:k[n.name]=n.value});return k}});
$(function(){function k(k,q){try{$.ajax({url:k,data:q,dataType:"json",type:"post",success:function(k){$("[type='submit']").removeAttr("disabled");k.err?alert(k.msg):(null!=k.msg&&alert(k.msg),null!=k.url&&(location.href=k.url))},error:function(k,n,q){$("[type='submit']").removeAttr("disabled");alert(k.responseText)}})}catch(t){$("[type='submit']").removeAttr("disabled"),console.log(t)}}var q=$(".form").attr("data-action");$(".form").on("submit",function(){if(""!==$("this").attr("action"))return $("[type='submit']").attr("disabled",
"disabled"),k(q,$(this).serializeJson()),!1})});UestcNews.js.Index={};
$(function(){0<$("#editor").length&&UE.getEditor("editor");var k=$(".back-top-btn");$(window).scroll(function(n){100<$(window).scrollTop()?(k.show(),$(".bread").css("top",0)):(n=$(window).scrollTop(),$(".bread").css("top",100-n),k.hide())});k.on("click",function(){$("body,html").animate({scrollTop:0},1E3)});$(".tab").find(".item-title").on("mouseover",function(){$(".tab").find(".item-title").removeClass("active");$(this).addClass("active");$(".tab").find(".content-list").hide();var k=$(this).attr("data-basic-key");
$("."+k+"").stop().fadeIn()});$("body").specialSlider($("#Niko_imageNav"),$("#Niko_showImg"),113,2);var q=$("#leader-list").attr("current-leader");$(".side_list").on("mouseenter","li",function(){$(this).addClass("on");Math.abs($(this).attr("leader_id"))===q&&($(this).addClass("on"),$(this).find(".desc").show())}).on("mouseout","li",function(){if(Math.abs($(this).attr("leader_id"))===q)return!1;$(this).removeClass("on");$("#leader-list").find(".show").parent().addClass("on")})});
function listAdvance(){var k=$(".search-advance").find("label"),q=$(".search-advance").find("ul");"none"==q.css("display")?(q.slideDown("fast"),$(this).css("background","background: url(/public/image/arrow_down.png) 60px 5px no-repeat")):(q.slideUp("fast"),$(this).css("background","background: url(/public/image/arrow_right.png) 60px 5px no-repeat"));$(".search-advance").find("ul > li").on("click",function(){var n=$(this).index();$("#search").find("input[name=type]").val(n);n=$(this).text();k.text(n);
q.slideUp("fast");k.css("background","background: url(/public/image/arrow_right.png) 60px 5px no-repeat")})};plugin.jqueryValidate={};plugin.jqueryValidate.JqueryValidate={};
(function(k){k.extend(k.fn,{validate:function(q){if(this.length){var n=k.data(this[0],"validator");if(n)return n;this.attr("novalidate","novalidate");n=new k.validator(q,this[0]);k.data(this[0],"validator",n);n.settings.onsubmit&&(q=this.find("input, button"),q.filter(".cancel").click(function(){n.cancelSubmit=!0}),n.settings.submitHandler&&q.filter(":submit").click(function(){n.submitButton=this}),this.submit(function(q){function t(){if(n.settings.submitHandler){if(n.submitButton)var q=k("<input type='hidden'/>").attr("name",
n.submitButton.name).val(n.submitButton.value).appendTo(n.currentForm);n.settings.submitHandler.call(n,n.currentForm);n.submitButton&&q.remove();return!1}return!0}n.settings.debug&&q.preventDefault();if(n.cancelSubmit)return n.cancelSubmit=!1,t();if(n.form())return n.pendingRequest?(n.formSubmitted=!0,!1):t();n.focusInvalid();return!1}));return n}q&&q.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(k(this[0]).is("form"))return this.validate().form();
var q=!0,n=k(this[0].form).validate();this.each(function(){q&=n.element(this)});return q},removeAttrs:function(q){var n={},v=this;k.each(q.split(/\s/),function(k,q){n[q]=v.attr(q);v.removeAttr(q)});return n},rules:function(q,n){var v=this[0];if(q){var t=k.data(v.form,"validator").settings,y=t.rules,F=k.validator.staticRules(v);switch(q){case "add":k.extend(F,k.validator.normalizeRule(n));y[v.name]=F;n.messages&&(t.messages[v.name]=k.extend(t.messages[v.name],n.messages));break;case "remove":if(!n)return delete y[v.name],
F;var u={};k.each(n.split(/\s/),function(k,n){u[n]=F[n];delete F[n]});return u}}v=k.validator.normalizeRules(k.extend({},k.validator.metadataRules(v),k.validator.classRules(v),k.validator.attributeRules(v),k.validator.staticRules(v)),v);v.required&&(t=v.required,delete v.required,v=k.extend({required:t},v));return v}});k.extend(k.expr[":"],{blank:function(q){return!k.trim(""+q.value)},filled:function(q){return!!k.trim(""+q.value)},unchecked:function(k){return!k.checked}});k.validator=function(q,n){this.settings=
k.extend(!0,{},k.validator.defaults,q);this.currentForm=n;this.init()};k.validator.format=function(q,n){if(1==arguments.length)return function(){var n=k.makeArray(arguments);n.unshift(q);return k.validator.format.apply(this,n)};2<arguments.length&&n.constructor!=Array&&(n=k.makeArray(arguments).slice(1));n.constructor!=Array&&(n=[n]);k.each(n,function(k,n){q=q.replace(new RegExp("\\{"+k+"\\}","g"),n)});return q};k.extend(k.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",
errorElement:"label",focusInvalid:!0,errorContainer:k([]),errorLabelContainer:k([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(k,n){this.lastActive=k;this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,k,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(k)).hide())},onfocusout:function(k,n){this.checkable(k)||!(k.name in this.submitted)&&this.optional(k)||this.element(k)},onkeyup:function(k,
n){(k.name in this.submitted||k==this.lastElement)&&this.element(k)},onclick:function(k,n){k.name in this.submitted?this.element(k):k.parentNode.name in this.submitted&&this.element(k.parentNode)},highlight:function(q,n,v){"radio"===q.type?this.findByName(q.name).addClass(n).removeClass(v):k(q).addClass(n).removeClass(v)},unhighlight:function(q,n,v){"radio"===q.type?this.findByName(q.name).removeClass(n).addClass(v):k(q).removeClass(n).addClass(v)}},setDefaults:function(q){k.extend(k.validator.defaults,
q)},messages:{required:"This field is required.",remote:"Please fix this field.",name:"Please enter a valid name address.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",
maxlength:k.validator.format("Please enter no more than {0} characters."),minlength:k.validator.format("Please enter at least {0} characters."),rangelength:k.validator.format("Please enter a value between {0} and {1} characters long."),range:k.validator.format("Please enter a value between {0} and {1}."),max:k.validator.format("Please enter a value less than or equal to {0}."),min:k.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function q(n){var q=
k.data(this[0].form,"validator"),v="on"+n.type.replace(/^validate/,"");q.settings[v]&&q.settings[v].call(q,this[0],n)}this.labelContainer=k(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||k(this.currentForm);this.containers=k(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var n=this.groups={};k.each(this.settings.groups,
function(q,v){k.each(v.split(/\s/),function(k,u){n[u]=q})});var v=this.settings.rules;k.each(v,function(n,q){v[n]=k.validator.normalizeRule(q)});k(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",q).validateDelegate("[type='radio'], [type='checkbox'], select, option",
"click",q);this.settings.invalidHandler&&k(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();k.extend(this.submitted,this.errorMap);this.invalid=k.extend({},this.errorMap);this.valid()||k(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var k=0,n=this.currentElements=this.elements();n[k];k++)this.check(n[k]);return this.valid()},element:function(q){this.lastElement=
q=this.validationTargetFor(this.clean(q));this.prepareElement(q);this.currentElements=k(q);var n=this.check(q);n?delete this.invalid[q.name]:this.invalid[q.name]=!0;this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers));this.showErrors();return n},showErrors:function(q){if(q){k.extend(this.errorMap,q);this.errorList=[];for(var n in q)this.errorList.push({message:q[n],element:this.findByName(n)[0]});this.successList=k.grep(this.successList,function(k){return!(k.name in q)})}this.settings.showErrors?
this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){k.fn.resetForm&&k(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(k){var n=0,v;for(v in k)n++;return n},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0==
this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{k(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(q){}},findLastActive:function(){var q=this.lastActive;return q&&1==k.grep(this.errorList,function(k){return k.element.name==q.name}).length&&q},elements:function(){var q=this,n={};return k(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&
q.settings.debug&&window.console&&console.error("%o has no name assigned",this);return this.name in n||!q.objectLength(k(this).rules())?!1:n[this.name]=!0})},clean:function(q){return k(q)[0]},errors:function(){return k(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=k([]);this.toHide=k([]);this.currentElements=k([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},
prepareElement:function(k){this.reset();this.toHide=this.errorsFor(k)},check:function(q){q=this.validationTargetFor(this.clean(q));var n=k(q).rules(),v=!1,t;for(t in n){var y={method:t,parameters:n[t]};try{var F=k.validator.methods[t].call(this,q.value.replace(/\r/g,""),q,y.parameters);if("dependency-mismatch"==F)v=!0;else{v=!1;if("pending"==F){this.toHide=this.toHide.not(this.errorsFor(q));return}if(!F)return this.formatAndAdd(q,y),!1}}catch(u){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+
q.id+", check the '"+y.method+"' method",u),u;}}if(!v)return this.objectLength(n)&&this.successList.push(q),!0},customMetaMessage:function(q,n){if(k.metadata){var v=this.settings.meta?k(q).metadata()[this.settings.meta]:k(q).metadata();return v&&v.messages&&v.messages[n]}},customMessage:function(k,n){var v=this.settings.messages[k];return v&&(v.constructor==String?v:v[n])},findDefined:function(){for(var k=0;k<arguments.length;k++)if(void 0!==arguments[k])return arguments[k]},defaultMessage:function(q,
n){return this.findDefined(this.customMessage(q.name,n),this.customMetaMessage(q,n),!this.settings.ignoreTitle&&q.title||void 0,k.validator.messages[n],"<strong>Warning: No message defined for "+q.name+"</strong>")},formatAndAdd:function(k,n){var v=this.defaultMessage(k,n.method),t=/\$?\{(\d+)\}/g;"function"==typeof v?v=v.call(this,n.parameters,k):t.test(v)&&(v=jQuery.format(v.replace(t,"{$1}"),n.parameters));this.errorList.push({message:v,element:k});this.errorMap[k.name]=v;this.submitted[k.name]=
v},addWrapper:function(k){this.settings.wrapper&&(k=k.add(k.parent(this.settings.wrapper)));return k},defaultShowErrors:function(){for(var k=0;this.errorList[k];k++){var n=this.errorList[k];this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass);this.showLabel(n.element,n.message)}this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(k=0;this.successList[k];k++)this.showLabel(this.successList[k]);
if(this.settings.unhighlight)for(k=0,n=this.validElements();n[k];k++)this.settings.unhighlight.call(this,n[k],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return k(this.errorList).map(function(){return this.element})},showLabel:function(q,n){var v=this.errorsFor(q);v.length?(v.removeClass(this.settings.validClass).addClass(this.settings.errorClass),
v.attr("generated")&&v.html(n)):(v=k("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(q),generated:!0}).addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(v=v.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(v).length||(this.settings.errorPlacement?this.settings.errorPlacement(v,k(q)):v.insertAfter(q)));!n&&this.settings.success&&(v.text(""),"string"==typeof this.settings.success?v.addClass(this.settings.success):this.settings.success(v));
this.toShow=this.toShow.add(v)},errorsFor:function(q){var n=this.idOrName(q);return this.errors().filter(function(){return k(this).attr("for")==n})},idOrName:function(k){return this.groups[k.name]||(this.checkable(k)?k.name:k.id||k.name)},validationTargetFor:function(k){this.checkable(k)&&(k=this.findByName(k.name).not(this.settings.ignore)[0]);return k},checkable:function(k){return/radio|checkbox/i.test(k.type)},findByName:function(q){var n=this.currentForm;return k(document.getElementsByName(q)).map(function(k,
t){return t.form==n&&t.name==q&&t||null})},getLength:function(q,n){switch(n.nodeName.toLowerCase()){case "select":return k("option:selected",n).length;case "input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return q.length},depend:function(k,n){return this.dependTypes[typeof k]?this.dependTypes[typeof k](k,n):!0},dependTypes:{"boolean":function(k,n){return k},string:function(q,n){return!!k(q,n.form).length},"function":function(k,n){return k(n)}},optional:function(q){return!k.validator.methods.required.call(this,
k.trim(q.value),q)&&"dependency-mismatch"},startRequest:function(k){this.pending[k.name]||(this.pendingRequest++,this.pending[k.name]=!0)},stopRequest:function(q,n){this.pendingRequest--;0>this.pendingRequest&&(this.pendingRequest=0);delete this.pending[q.name];n&&0==this.pendingRequest&&this.formSubmitted&&this.form()?(k(this.currentForm).submit(),this.formSubmitted=!1):!n&&0==this.pendingRequest&&this.formSubmitted&&(k(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},
previousValue:function(q){return k.data(q,"previousValue")||k.data(q,"previousValue",{old:null,valid:!0,message:this.defaultMessage(q,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(q,n){q.constructor==String?this.classRuleSettings[q]=n:k.extend(this.classRuleSettings,q)},classRules:function(q){var n=
{};(q=k(q).attr("class"))&&k.each(q.split(" "),function(){this in k.validator.classRuleSettings&&k.extend(n,k.validator.classRuleSettings[this])});return n},attributeRules:function(q){var n={};q=k(q);for(var v in k.validator.methods){var t;(t="required"===v&&"function"===typeof k.fn.prop?q.prop(v):q.attr(v))?n[v]=t:q[0].getAttribute("type")===v&&(n[v]=!0)}n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength;return n},metadataRules:function(q){if(!k.metadata)return{};var n=k.data(q.form,
"validator").settings.meta;return n?k(q).metadata()[n]:k(q).metadata()},staticRules:function(q){var n={},v=k.data(q.form,"validator");v.settings.rules&&(n=k.validator.normalizeRule(v.settings.rules[q.name])||{});return n},normalizeRules:function(q,n){k.each(q,function(v,t){if(!1===t)delete q[v];else if(t.param||t.depends){var y=!0;switch(typeof t.depends){case "string":y=!!k(t.depends,n.form).length;break;case "function":y=t.depends.call(n,n)}y?q[v]=void 0!==t.param?t.param:!0:delete q[v]}});k.each(q,
function(v,t){q[v]=k.isFunction(t)?t(n):t});k.each(["minlength","maxlength","min","max"],function(){q[this]&&(q[this]=Number(q[this]))});k.each(["rangelength","range"],function(){q[this]&&(q[this]=[Number(q[this][0]),Number(q[this][1])])});k.validator.autoCreateRanges&&(q.min&&q.max&&(q.range=[q.min,q.max],delete q.min,delete q.max),q.minlength&&q.maxlength&&(q.rangelength=[q.minlength,q.maxlength],delete q.minlength,delete q.maxlength));q.messages&&delete q.messages;return q},normalizeRule:function(q){if("string"==
typeof q){var n={};k.each(q.split(/\s/),function(){n[this]=!0});q=n}return q},addMethod:function(q,n,v){k.validator.methods[q]=n;k.validator.messages[q]=void 0!=v?v:k.validator.messages[q];3>n.length&&k.validator.addClassRules(q,k.validator.normalizeRule(q))},methods:{required:function(q,n,v){if(!this.depend(v,n))return"dependency-mismatch";switch(n.nodeName.toLowerCase()){case "select":return(q=k(n).val())&&0<q.length;case "input":if(this.checkable(n))return 0<this.getLength(q,n);default:return 0<
k.trim(q).length}},remote:function(q,n,v){if(this.optional(n))return"dependency-mismatch";var t=this.previousValue(n);this.settings.messages[n.name]||(this.settings.messages[n.name]={});t.originalMessage=this.settings.messages[n.name].remote;this.settings.messages[n.name].remote=t.message;v="string"==typeof v&&{url:v}||v;if(this.pending[n.name])return"pending";if(t.old===q)return t.valid;t.old=q;var y=this;this.startRequest(n);var F={};F[n.name]=q;k.ajax(k.extend(!0,{url:v,mode:"abort",port:"validate"+
n.name,dataType:"json",data:F,success:function(u){y.settings.messages[n.name].remote=t.originalMessage;var v=!0===u;if(v){var A=y.formSubmitted;y.prepareElement(n);y.formSubmitted=A;y.successList.push(n);y.showErrors()}else A={},u=u||y.defaultMessage(n,"remote"),A[n.name]=t.message=k.isFunction(u)?u(q):u,y.showErrors(A);t.valid=v;y.stopRequest(n,v)}},v));return"pending"},minlength:function(q,n,v){return this.optional(n)||this.getLength(k.trim(q),n)>=v},maxlength:function(q,n,v){return this.optional(n)||
this.getLength(k.trim(q),n)<=v},rangelength:function(q,n,v){q=this.getLength(k.trim(q),n);return this.optional(n)||q>=v[0]&&q<=v[1]},min:function(k,n,v){return this.optional(n)||k>=v},max:function(k,n,v){return this.optional(n)||k<=v},range:function(k,n,v){return this.optional(n)||k>=v[0]&&k<=v[1]},email:function(k,n){return this.optional(n)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(k)},
url:function(k,n){return this.optional(n)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(k)},
date:function(k,n){return this.optional(n)||!/Invalid|NaN/.test(new Date(k))},dateISO:function(k,n){return this.optional(n)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(k)},number:function(k,n){return this.optional(n)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(k)},digits:function(k,n){return this.optional(n)||/^\d+$/.test(k)},creditcard:function(k,n){if(this.optional(n))return"dependency-mismatch";if(/[^0-9 -]+/.test(k))return!1;var v=0,t=0,y=!1;k=k.replace(/\D/g,"");for(var F=k.length-1;0<=F;F--)t=
k.charAt(F),t=parseInt(t,10),y&&9<(t*=2)&&(t-=9),v+=t,y=!y;return 0==v%10},accept:function(k,n,v){v="string"==typeof v?v.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(n)||k.match(new RegExp(".("+v+")$","i"))},equalTo:function(q,n,v){v=k(v).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){k(n).valid()});return q==v.val()}}});k.format=k.validator.format})(jQuery);
(function(k){var q={};if(k.ajaxPrefilter)k.ajaxPrefilter(function(k,n,y){n=k.port;"abort"==k.mode&&(q[n]&&q[n].abort(),q[n]=y)});else{var n=k.ajax;k.ajax=function(v){var t=("port"in v?v:k.ajaxSettings).port;return"abort"==("mode"in v?v:k.ajaxSettings).mode?(q[t]&&q[t].abort(),q[t]=n.apply(this,arguments)):n.apply(this,arguments)}}})(jQuery);
(function(k){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||k.each({focus:"focusin",blur:"focusout"},function(q,n){function v(q){q=k.event.fix(q);q.type=n;return void 0===k.event.handle?null:k.event.handle.call(this,q)}k.event.special[n]={setup:function(){this.addEventListener(q,v,!0)},teardown:function(){this.removeEventListener(q,v,!0)},handler:function(q){arguments[0]=k.event.fix(q);arguments[0].type=n;return k.event.handle.apply(this,arguments)}}});k.extend(k.fn,
{validateDelegate:function(q,n,v){return this.bind(n,function(n){var y=k(n.target);if(y.is(q))return v.apply(y,arguments)})}})})(jQuery);UestcNews.js.Contribute={};$("#contribute-form").validate({rules:{Title:"required",ArticleAuthor:"required",AuthorPhone:{required:!0},AuthorEmail:{required:!0,email:!0},Source:{Source:!0}},messages:{Title:"\u8bf7\u586b\u5199\u6807\u9898",ArticleAuthor:"\u8bf7\u586b\u5199\u6587\u7ae0\u4f5c\u8005",AuthorPhone:{required:"\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e"},AuthorEmail:{required:"\u8bf7\u586b\u5199\u90ae\u7bb1",email:"\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e"}}});
$.validator.addMethod("Source",function(k,q){return"0"!==k?!0:!1},"\u8bf7\u9009\u62e9\u6765\u6e90");var actionUrl=$("#contribute-form").attr("data-action");
$("#contribute-form").submit(function(){if(""===$("#editor").val())return $(".msg").text("\u8bf7\u586b\u5199\u5185\u5bb9").show(),setTimeout(function(){$(".msg").text("").fadeOut(300)},2E3),!1;var k=$("[name='Title']").val(),q=$("[name='ArticleAuthor']").val(),n=$("[name='AuthorPhone']").val(),v=$("[name='AuthorEmail']").val(),t=$("[name='Source']").val();if(""!==k&&""!==q&&""!==n&&""!==v&&"0"!=t)return k=$("#contribute-editor-button-submit"),k.attr("disabled","disabled"),k.text("\u63d0\u4ea4\u4e2d..."),
HTTP($(this).attr("data-action"),$(this).serializeJson()),!1});$("#contribute-editor-bottom-bar .cancel").on("click",function(){confirm("\u786e\u5b9a\u8981\u653e\u5f03\u4fee\u6539\u79bb\u5f00\u672c\u9875\u5417\uff1f")&&(window.location.href="/")});
0<$("#contribute-body").length&&(window.onbeforeunload=function(k){if(k=k||window.event)k.returnValue="\u5173\u95ed\u6b64\u9875\u9762\u6216\u8005\u5237\u65b0\u4f1a\u5bfc\u81f4\u672a\u53d1\u5e03\u7684\u6570\u636e\u4e22\u5931\uff0c\u8bf7\u5148\u63d0\u4ea4";return"\u5173\u95ed\u6b64\u9875\u9762\u6216\u8005\u5237\u65b0\u4f1a\u5bfc\u81f4\u672a\u53d1\u5e03\u7684\u6570\u636e\u4e22\u5931\uff0c\u8bf7\u5148\u63d0\u4ea4"});
function HTTP(k,q){try{$.ajax({url:k,data:q,dataType:"json",type:"post",success:function(k){$("#contribute-editor-button-submit").removeAttr("disabled").text("\u6210\u529f\uff01");$(".msg").text("\u63d0\u4ea4\u6210\u529f\uff0c\u8bf7\u7b49\u5f85\u5ba1\u6838\uff0c\u6b63\u5728\u8fd4\u56de\u4e3b\u9875...").show();setTimeout(function(){GetAjaxReturn(k)},1300)},error:function(k,n,q){$("#contribute-editor-button-submit").removeAttr("disabled").text("\u63d0\u4ea4");console.log(k.responseText)}})}catch(n){$("[type='submit']").removeAttr("disabled"),
console.log(n)}}function GetAjaxReturn(k){void 0===k.type?alert("\u534f\u8bae\u9519\u8bef229"):"redirect"===k.type&&(window.onbeforeunload=null,""!=k.msg?(ShowMsg(k.msg),setTimeout(function(){location.href=k.url},1E3)):location.href=k.url)}function ShowMsg(k){$("#msg").html(k).show().delay(1300).fadeOut(300)};UestcNews.js.config={};
